<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Serenity BDD Users Manual Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Serenity BDD Users Manual Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Serenity BDD Users Manual" href="/opensearch.xml"><title data-react-helmet="true">Web Testing with Serenity Screenplay | Serenity BDD Users Manual</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Web Testing with Serenity Screenplay | Serenity BDD Users Manual"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver"><link data-react-helmet="true" rel="alternate" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_webdriver" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://V10PILA8X2-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4fb1788f.css">
<link rel="preload" href="/assets/js/runtime~main.c1de5fd6.js" as="script">
<link rel="preload" href="/assets/js/main.76fb0d68.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/serenity-bdd-small.png" alt="Serenity BDD Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/serenity-bdd-small.png" alt="Serenity BDD Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/first_test">Tutorials</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/guide/user_guide_intro">User Manual</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://johnfergusonsmart.com/serenity-bdd-mentoring/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="http://expansion.serenity-dojo.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Learn Serenity BDD Online<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.serenity-dojo.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Serenity BDD Coaching<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Your First Steps with Serenity BDD</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Serenity Fundamentals</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">The Screenplay Pattern</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_fundamentals">Screenplay Fundamentals</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/screenplay/screenplay_webdriver">Web Testing with Serenity Screenplay</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_rest">Working with REST APIs using Serenity Screenplay</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_ensure">Making Screenplay Assertions with Serenity Ensure</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integrating in Spring</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reporting and Living Documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Scaling Serenity</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mobile Testing with Serenity</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Web Testing with Serenity Screenplay</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>Web tests are a common use case for Screenplay scenarios, where we try to model user behaviour and interactions with the system. In this section, we will learn how to interact with a web application using the Screenplay WebDriver integration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="opening-a-url"></a>Opening a URL<a class="hash-link" href="#opening-a-url" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="opening-a-url-directly"></a>Opening a URL directly<a class="hash-link" href="#opening-a-url-directly" title="Direct link to heading">#</a></h3><p>In Screenplay, you open a new page using the <code>Open</code> interaction class. This can work with a URL, e.g:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Open.url(&quot;https://todomvc.com/examples/angularjs/#/&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="opening-the-url-of-a-page-object"></a>Opening the URL of a Page Object<a class="hash-link" href="#opening-the-url-of-a-page-object" title="Direct link to heading">#</a></h3><p>If you have defined a Page Object with a default url, you can open a page object by referring to the page object class. Suppose we have defined the following Serenity Page Object, and set the <code>@DefaultUrl</code> value to the TodoMVC application URL:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@DefaultUrl(&quot;https://todomvc.com/examples/angularjs/#/&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TodoMvcPage extends PageObject {}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can now open this page using the <code>Open.browserOn()</code> method, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Open.browserOn().the(TodoMvcPage.class));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-named-pages"></a>Using named pages<a class="hash-link" href="#using-named-pages" title="Direct link to heading">#</a></h3><p>Sometimes it can be convenient to store the URLs for different environments or servers in the <code>serenity.conf</code> file, and refer to them by the name of the property in our test code. </p><p>For example, imagine we wanted to run our tests against the Angular, React and Polymer implementations of the TodoMVC app. Each application has a different URL, that we could store in the <code>serenity.conf</code> file like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pages </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    angular = </span><span class="token string" style="color:#e3116c">&quot;https://todomvc.com/examples/angularjs/#/&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    react = </span><span class="token string" style="color:#e3116c">&quot;https://todomvc.com/examples/react/#/&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    polymer = </span><span class="token string" style="color:#e3116c">&quot;https://todomvc.com/examples/polymer/index.html&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next, we can refer to these properties in our code using the <code>thePageNamed()</code> method, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Open.browserOn().thePageNamed(&quot;pages.react&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="locating-elements-on-a-page"></a>Locating elements on a page<a class="hash-link" href="#locating-elements-on-a-page" title="Direct link to heading">#</a></h2><p>In Screenplay, you can use several different strategies to locate the elements you need to interact with. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="css-and-xpath"></a>CSS and XPath<a class="hash-link" href="#css-and-xpath" title="Direct link to heading">#</a></h3><p>The simplest way to locate an element is to use a CSS or XPath expression, as shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(&quot;#login-button&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Or</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(&quot;//input[@id=&#x27;login-button&#x27;]&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Serenity will interpret the string to determine whether it is an XPath or CSS expression. In some cases there may be some ambiguity, and Serenity will default to XPath. If this is not intended, you can use the &quot;xpath:&quot; or &quot;css:&quot; prefixes to specify which type of locator you mean:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(&quot;css:input[name=login-button]&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-selenium-locators"></a>Using Selenium locators<a class="hash-link" href="#using-selenium-locators" title="Direct link to heading">#</a></h3><p>You can also use any of the standard Selenium locator (<code>org.openqa.selenium.By</code>) classes, as shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(By.id(&quot;login-button&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-the-target-class"></a>Using the Target class<a class="hash-link" href="#using-the-target-class" title="Direct link to heading">#</a></h3><p>Using text or <code>By</code> locators has the advantage of being concise, but it can lead to poorly readable test reports, especially when complex or non-meaningful XPath or CSS locators are used. In Screenplay, the <code>Target</code> class allows us to give a locator strategy a more meaningful name. For example, consider the following code:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Click.on(&quot;//button[.=&#x27;Add&#x27;]&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In the Serenity reports, this step will be reported as &quot;Toby clicks on //button[.=&#x27;Add&#x27;]&quot;, which is not very readable. </p><p>If we represent this button using the <code>Target</code> class, we can associate a label such as &quot;Add to cart button&quot;, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target ADD_TO_CART = Target.the(&quot;Add to cart button&quot;).located(By.cssSelector(&quot;//button[.=&#x27;Add&#x27;]&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Click.on(ADD_TO_CART));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In the reports, this step will now appear as &quot;Toby clicks on Add to cart button&quot;.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-dynamic-targets"></a>Using dynamic targets<a class="hash-link" href="#using-dynamic-targets" title="Direct link to heading">#</a></h3><p>You can also include variables into a <code>Target</code> locator, to make your locators dynamic. You can include numbered paramaters using &quot;{0}&quot;, &quot;{1}&quot;, etc, and then use the <code>of()</code> method to instantiate the `Target with the value you are interested in. For example, we could create a generic locator for a button containing a given text like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target BUTTON_WITH_LABEL = Target.the(&quot;{0} button&quot;).located(By.cssSelector(&quot;//button[.=&#x27;{0}&#x27;]&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Click.on(BUTTON_WITH_LABEL.of(&#x27;Add&#x27;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could even use this dynamic target to define other targets with specific values, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target BUTTON_WITH_LABEL = Target.the(&quot;{0} button&quot;).located(By.cssSelector(&quot;//button[.=&#x27;{0}&#x27;]&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Target ADD_BUTTON = BUTTON_WITH_LABEL.of(&#x27;Add&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">toby.attemptsTo(Click.on(ADD_BUTTON));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-page-elements"></a>Using Page Elements<a class="hash-link" href="#using-page-elements" title="Direct link to heading">#</a></h3><p>Serenity <a href="/docs/guide/page_elements">Page Elements</a> provide a more intuitive and readable way to locate elements on a page, often without needing to use XPath or CSS. With Page Elements, you can identify elements using expressions such as the following</p><ul><li><code>Click.on(Button.withText(&quot;Add to cart&quot;))</code></li><li><code>Enter.theValue(&quot;).into(InputField.withPlaceholder(&quot;Enter the customer name&quot;))</code></li><li><code>Click.on(PageElement.locatedBy(&quot;.item&quot;).containingText(&quot;Bananas&quot;))</code></li></ul><p>You can learn more about Page Elements <a href="/docs/guide/page_elements">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="interacting-with-elements"></a>Interacting with elements<a class="hash-link" href="#interacting-with-elements" title="Direct link to heading">#</a></h2><p>In this section we will see how to interact with elements on a web page using Selenium WebDriver with Serenity Screenplay.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="screenplay-interaction-classes"></a>Screenplay Interaction classes<a class="hash-link" href="#screenplay-interaction-classes" title="Direct link to heading">#</a></h3><p>You can find the standard Serenity interaction classes in the <code>net.serenitybdd.screenplay.actions</code> package.</p><table><thead><tr><th>Interaction</th><th>Purpose</th><th>Example</th></tr></thead><tbody><tr><td>Clear</td><td>Clear an input field</td><td><code>actor.attemptsTo(Clear.field(&quot;#firstname&quot;))</code></td></tr><tr><td>Click</td><td>Click on an element</td><td><code>actor.attemptsTo(Click.on(&quot;#add-to-cart&quot;))</code></td></tr><tr><td>DoubleClick</td><td>Double-click on an element using a Selenium Action</td><td><code>actor.attemptsTo(DoubleClick.on(&quot;#add-to-cart&quot;))</code></td></tr><tr><td>Enter</td><td>Type a value into an input field</td><td><code>actor.attemptsTo(Enter.theValue(&quot;scott&quot;).into(&quot;#username&quot;))</code></td></tr><tr><td>Evaluate</td><td>Evaluate a Javascript expression</td><td><code>actor.attemptsTo(Evaluate.javascript(&quot;window.localStorage.clear();&quot;)</code></td></tr><tr><td>Hit</td><td>Press a key</td><td><code>actor.attemptsTo(Hit.the(Keys.ENTER).into(&quot;#searchterms&quot;))</code></td></tr><tr><td>JavaScriptClick</td><td>Click on an element using Javascript rather than Selenium</td><td><code>actor.attemptsTo(JavaScriptClick.on(&quot;#add-to-cart&quot;))</code></td></tr><tr><td>MoveMouse</td><td>Move the mouse over a specified element</td><td><code>actor.attemptsTo(MoveMouse.to(&quot;#main-menu&quot;))</code></td></tr><tr><td>Open</td><td>Open a specific URL or page</td><td><code>actor.attemptsTo(Open.url(&quot;https://www.google.com&quot;))</code></td></tr><tr><td>PerformOn</td><td>Perform one or more actions on several elements</td><td>See below</td></tr><tr><td>RightClick</td><td>Right-click on a given element</td><td><code>actor.attemptsTo(RightClick.on(&quot;#menu&quot;))</code></td></tr><tr><td>Scroll</td><td>Scroll to an element using Javascript</td><td><code>actor.attemptsTo(Scroll.to(&quot;#terms-and-conditions&quot;))</code></td></tr><tr><td>SelectFromOptions</td><td>Select a value in an HTML dropdown</td><td><code>actor.attemptsTo(SelectFromOptions.byVisibleText(&quot;Red&quot;).from(&quot;#color&quot;))</code></td></tr><tr><td>SendKeys</td><td>Enter a value into a field using the Selenium sendKeys() method</td><td><code>actor.attemptsTo(SendKeys.of(&quot;scott&quot;).into(&quot;#username&quot;))</code></td></tr><tr><td>SetCheckbox</td><td>Check a checkbox field</td><td><code>actor.attemptsTo(SetCheckbox.of(&quot;#subscribe-to-newsletter&quot;).toTrue())</code></td></tr><tr><td>Switch</td><td>Switch to another window or tab</td><td><code>actor.attemptsTo(Switch.toNewWindow())</code></td></tr><tr><td>Upload</td><td>Upload a file using an HTML upload field</td><td><code>actor.attemptsTo(Upload.theFile(pathToFile)).to(&quot;#uploaded-file&quot;))</code></td></tr><tr><td>WithDevTools</td><td>Perform an action with the Chrome DevTools</td><td>See below</td></tr></tbody></table><p>The more important interactions are described in more detail in the following sections.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="clear"></a>Clear<a class="hash-link" href="#clear" title="Direct link to heading">#</a></h3><p>The <code>Clear</code> interaction resets the value of an HTML form element.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Clear.field(By.id(&quot;first-name&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="click"></a>Click<a class="hash-link" href="#click" title="Direct link to heading">#</a></h3><p>Click on a button or element.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Click.on(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Sometimes an element is not in an interactable state when we first attempt to click on it. For example, it may be disabled, or not yet visible on the page. In these cases, we can ask Serenity to wait for the element to be enabled using the <code>afterWaitingUntilEnabled()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Click.on(&quot;#some-button&quot;).afterWaitingUntilEnabled());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the element is not yet rendered, we can use the <code>afterWaitingUntilPresent()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Click.on(&quot;#some-button&quot;).afterWaitingUntilPresent());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In both these cases, Serenity will wait for up to 5 seconds by default for the element to be present or available. You can configure this timeout using the <code>webdriver.wait.for.timeout</code> system property (defined in milliseconds).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="doubleclick"></a>DoubleClick<a class="hash-link" href="#doubleclick" title="Direct link to heading">#</a></h3><p>Double-click on a button or element, using Selenium Actions.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(DoubleClick.on(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="enter-and-sendkeys"></a>Enter and SendKeys<a class="hash-link" href="#enter-and-sendkeys" title="Direct link to heading">#</a></h3><p>There are two ways to enter a value into a field. </p><p><code>Enter</code> will enter a value into a field, first waiting until the field is enabled, and then clearing the field of any current values, before entering the specified value.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Enter.theValue(&quot;Sarah-Jane&quot;).into(&quot;#firstName&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>SendKeys</code> will perform the equivalent of Selenium <code>sendKeys()</code>, you can use <code>Enter.keyValue()</code> instead of <code>Enter.theValue()</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(SendKeys.of(&quot;Sarah-Jane&quot;).into(&quot;#firstName&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="evaluate-a-javascript-expression"></a>Evaluate a Javascript expression<a class="hash-link" href="#evaluate-a-javascript-expression" title="Direct link to heading">#</a></h3><p>The <code>Evaluate</code> task executes a JavaScript command in the context of the currently selected frame or window. For example, the following code will clear the local storage in Dina&#x27;s browser:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(Evaluate.javascript(&quot;window.localStorage.clear()&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the script has a return value (i.e. if the script contains a return statement), you can also retrieve the value returned by a Javascript expression. You can do this in two ways. The first is to use the <code>result()</code> method to turn the <code>Evaluate</code> action into a question. You can see an example here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        Long result = (Long) dina.asksFor(Evaluate.javascript(&quot;return 1 + 1&quot;).result());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        assertThat(result).isEqualTo(2);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The type of the object returned by WebDriver is as follows: </p><ul><li>For an HTML element, this method returns a <code>WebElement</code></li><li>For a decimal, a <code>Double</code> is returned</li><li>For a non-decimal number, a <code>Long</code> is returned</li><li>For a boolean, a <code>Boolean</code> is returned</li><li>For all other cases, a <code>String</code> is returned.</li><li>For an array, return a <code>List&lt;Object&gt;</code> with each object following the rules above. We support nested lists.</li><li>For a map, return a <code>Map&lt;String, Object&gt;</code> with values following the rules above.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="hit-a-particular-key"></a>Hit a particular key<a class="hash-link" href="#hit-a-particular-key" title="Direct link to heading">#</a></h3><p>You can enter any Selenium key or key-combination using the <code>Enter</code> task. You may also want to use the <code>Hit</code> task for more readability. The <code>Hit</code> interaction class is similar to the <code>Enter</code> class, but takes a list of one or more <code>Keys</code> values:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Enter.theValue(&quot;Sarah-Jane&quot;).into(By.id(&quot;firstName&quot;)));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Hit.the(Keys.TAB).into(By.id(&quot;firstName&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="working-with-checkboxes"></a>Working with checkboxes<a class="hash-link" href="#working-with-checkboxes" title="Direct link to heading">#</a></h3><p>You can check or uncheck a checkbox element by clicking on it using the <code>Click</code> interaction. If you want to be sure that that the element is checked or unchecked, you can also use the <code>SetCheckbox</code> class, to either check or uncheck the field.</p><p>For example, to check the Terms &amp; Conditions checkbox on a form, you might use the following:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(SetCheckbox.of(&quot;#terms-and-conditions&quot;).toTrue());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>And to uncheck it, you could do this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(SetCheckbox.of(&quot;#terms-and-conditions&quot;).toFalse());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Since enabling and disabling checkboxes involves clicking, we can also use the <code>afterWaitingUntilEnabled()</code> and <code>afterWaitingUntilPresent()</code> methods available with the <code>Click</code> interaction class, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            SetCheckbox.of(&quot;#terms-and-conditions&quot;).toFalse()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                   .afterWaitingUntilEnabled());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="javascriptclick"></a>JavaScriptClick<a class="hash-link" href="#javascriptclick" title="Direct link to heading">#</a></h3><p>Sometimes it is useful to be able to bypass Selenium and perform a click() directly with JavaScript. We can do this with the <code>JavaScriptClick</code> class. The class has the same API as the <code>Click</code> class, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(JavaScriptClick.on(&quot;#button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="moving-the-mouse"></a>Moving the mouse<a class="hash-link" href="#moving-the-mouse" title="Direct link to heading">#</a></h3><p>We can move the mouse to an element on the page using <code>MoveMouse</code>, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(MoveMouse.to(&quot;#button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If we need to perform one or more actions on the element once we have moved the cursor over it, we can do that using the <code>andThen()</code> method with a Lambda expression, which is passed the Actions object. For example, to click on the button after moving the cursor to it, we could do the following:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(MoveMouse.to(BUTTON).andThen(actions -&gt; actions.click()));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="performing-actions-on-collections-of-elements"></a>Performing actions on collections of elements<a class="hash-link" href="#performing-actions-on-collections-of-elements" title="Direct link to heading">#</a></h3><p>We can also perform actions on a collection of elements. Suppose we have an HTML page containing a list of checkboxes like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Condiments:</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">label</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Salt </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">checkbox</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">salt</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">condiment</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">salt</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Pepper </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">checkbox</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">pepper</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">condiment</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">pepper</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Sauce </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">checkbox</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">sause</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">condiment</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">sauce</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could check each of these checkboxes in one go by using the <code>PerformOn.eachMatching()</code> method. This takes two parameters:</p><ul><li>A locator (a Target, <code>By</code> locator, or CSS or XPath expression)</li><li>A lambda expression that accepts a <code>WebElementFacade</code></li></ul><p>If we wanted to click on each of these checkboxes, we could do the following:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">         dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            PerformOn.eachMatching(&quot;.condiment&quot;, WebElementFacade::click)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can also use Screenplay performables, as shown in this example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            PerformOn.eachMatching(&quot;.condiment&quot;, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                checkbox -&gt; dina.attemptsTo(SetCheckbox.of(checkbox).toTrue()))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="rightclick"></a>RightClick<a class="hash-link" href="#rightclick" title="Direct link to heading">#</a></h3><p>You can right-click on an element using the <code>RightClick</code> class. This will use the Selenium <code>contextClick()</code> action method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(RightClick.on(&quot;#button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="scrolling-elements-into-view"></a>Scrolling elements into view<a class="hash-link" href="#scrolling-elements-into-view" title="Direct link to heading">#</a></h3><p>Sometimes it can be useful to scroll to a specific element on the page. You can do this with the <code>Scroll</code> class, like this, which uses Javascript to scroll the element into view.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Scroll.to(By.id(&quot;#button&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This class uses the Javascript <code>scrollIntoView()</code> method, which by default will scroll the screen so that the top of the element will be aligned to the top of the visible area of the scrollable ancestor. You can also align the bottom of the element to the bottom of the visible area of the scrollable ancestor, using the <code>andAlignToBottom()</code> method, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(Scroll.to(By.id(&quot;#button&quot;)).andAlignToBottom());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="selecting-from-dropdowns"></a>Selecting from dropdowns<a class="hash-link" href="#selecting-from-dropdowns" title="Direct link to heading">#</a></h3><p>We can select a value from a dropdown using the <code>SelectFromOptions</code> class. Suppose we have the following HTML code:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">select</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">color</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">red</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Red</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">green</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Green</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">option</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">blue</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Blue</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">option</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">select</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can select the second of these options in any of the following ways:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(SelectFromOptions.byVisibleText(&quot;Green&quot;).from(&quot;#color&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(SelectFromOptions.byValue(&quot;green&quot;).from(&quot;#color&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(SelectFromOptions.byIndex(1).from(&quot;#color&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can retrieve the current value of a dropdown list using the <code>SelectedValue</code> Question class, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    String selectedValue = dina.asksFor(SelectedValue.of(COLOR_&quot;#color&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="switching-to-another-window-or-frame"></a>Switching to another window or frame<a class="hash-link" href="#switching-to-another-window-or-frame" title="Direct link to heading">#</a></h3><p>We can switch to a new window or tab using the <code>Switch</code> class. For example, the following code opens a link in a new tab and switches control to this tab:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Click.on(&quot;#link-that-opens-a-new-tab&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toNewWindow()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If there are only two windows or tabs open, we can switch back to the original window by using the <code>Switch.toTheOtherWindow()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toTheOtherWindow()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Another option is to use the name or handle of the window you want to switch to, using <code>Switch.toWindow()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toWindow(originalWindowHandle)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Alternatively, if you know the title of the window or tab, you can use the <code>Switch.toWindowTitled()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toWindowTitled(&quot;The other window&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Although HTML frames are considered obsolete for modern applications, they are still around in some older applications. You can interact with frames using the following methods:</p><p>Other Selenium switch functions are handled by the following methods:</p><table><thead><tr><th>Interaction</th><th>Purpose</th><th>Selenium equivalent</th></tr></thead><tbody><tr><td>Switch.toFrame(index)</td><td>Select a frame by its (zero-based) index. Selecting a frame by index is equivalent to the JS expression window.frames[index] where &quot;window&quot; is the DOM window represented by the current context. Once the frame has been selected, all subsequent calls on the WebDriver interface are made to that frame.</td><td><code>driver.switch().toFrame(index)</code></td></tr><tr><td>Switch.toFrame(nameOrId)</td><td>Select a frame by its name or ID. Frames located by matching name attributes are always given precedence over those matched by ID.</td><td><code>driver.switch().toFrame(nameOrId)</code></td></tr><tr><td>Switch.toParentFrame()</td><td>Change focus to the parent context. If the current context is the top level browsing context, the context remains unchanged.</td><td><code>driver.switchTo().parentFrame()</code></td></tr><tr><td>Switch.toDefaultContext()</td><td>Selects either the first frame on the page, or the main document when a page contains iframes.</td><td><code>driver.switch().toDefaultContext()</code></td></tr></tbody></table><p>Other Selenium switch functions are handled by the following methods:</p><table><thead><tr><th>Interaction</th><th>Purpose</th><th>Selenium equivalent</th></tr></thead><tbody><tr><td>Switch.toActiveElement()</td><td>Switches to the element that currently has focus within the document currently &quot;switched to&quot;, or the body element if this cannot be detected. This matches the semantics of calling &quot;document.activeElement&quot; in Javascript.</td><td><code>driver.switchTo().activeElement()</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="dealing-with-alert-dialogs"></a>Dealing with Alert dialogs<a class="hash-link" href="#dealing-with-alert-dialogs" title="Direct link to heading">#</a></h3><p>We can work with HTML Alert dialogs using the <code>Switch.toAlert()</code> method. For example, the following code will switch the current window to the current alert dialog:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toAlert()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can query the text of the alert using the <code>HtmlAlert.text()</code> Question class:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toAlert()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        assertThat(dina.asksFor(HtmlAlert.text())).isEqualTo(&quot;Are you sure?&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can also accept or dismiss the alert message using the <code>Switch.toAlert().andAccept()</code> and <code>Switch.toAlert().andDismiss()</code> methods respectively:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                Switch.toAlert().andAccept()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="upload"></a>Upload<a class="hash-link" href="#upload" title="Direct link to heading">#</a></h3><p>The simplest way to upload a file to an HTML upload field (one that has a type of &#x27;file&#x27;) is to use the <code>Upload</code> task. Suppose we have the following HTML form field:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI html"><pre tabindex="0" class="prism-code language-html codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">upload-file</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">filename</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can upload a file to this field as shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    Path fileToUpload = ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(Upload.theFile(fileToUpload).to(&quot;#upload-file&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If you are running the tests on a remote machine, you can use the Selenium Local File Detector. The Local File Detector allows the transfer of files from the client machine to the remote server. For example, if a test needs to upload a file to a web application, a remote WebDriver can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    Path fileToUpload = ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(Upload.theFile(fileToUpload).to(&quot;#upload-file&quot;).usingLocalFileDetector());</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can also upload a file on the classpath resources using the <code>Upload.theClasspathResource()</code> method, as shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    Path fileToUpload = ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dina.attemptsTo(Upload.theClasspathResource(&quot;some/resource/path.txt&quot;).to(&quot;#upload-file&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="working-with-chrome-devtools"></a>Working with Chrome DevTools<a class="hash-link" href="#working-with-chrome-devtools" title="Direct link to heading">#</a></h2><p>Many browsers provide &quot;DevTools&quot; â€“ a set of tools that are integrated with the browser that developers can use to debug web apps and explore the performance of their pages. Google Chromeâ€™s DevTools make use of a protocol called the Chrome DevTools Protocol (or â€œCDPâ€ for short). As the name suggests, this is not designed for testing, nor to have a stable API, so functionality is highly dependent on the version of the browser.</p><p>In Serenity Screenplay, we can access the Selenium 4 DevTools library using the <code>WithDevTools.perform()</code> method. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        final List&lt;Metric&gt; metricList = new ArrayList&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                WithDevTools.perform(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        devTools -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            devTools.createSession();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            devTools.send(Performance.enable(Optional.empty()));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            metricList.addAll(devTools.send(Performance.getMetrics()));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If we want to use DevTools to retrieve a specific value, we can use the <code>DevToolsQuery</code> class:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;Metric&gt; metrics = dina.asksFor(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                DevToolsQuery.ask().about(devTools -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    devTools.createSession();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    devTools.send(Performance.enable(Optional.empty()));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return devTools.send(Performance.getMetrics());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                })</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="querying-the-web-page"></a>Querying the web page<a class="hash-link" href="#querying-the-web-page" title="Direct link to heading">#</a></h2><p>Serenity Screenplay also gives you a large number of options when it comes to querying a web UI. Most involve special types of Question class.</p><p>In Screenplay web tests, you can simply implement a question which returns the object type you are interested, and then query the UI in a conventional Webdriver way. For example, suppose we want to read the user name on a page, which can be located with the &quot;.user-name&quot; CSS selector.</p><p>Screenplay assertion to check the user name might look like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">    sam.should(seeThat(TheUserName.value(), equalTo(&quot;sam&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could create a TheUserName question class to query this field as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Subject(&quot;the displayed username&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TheUserName implements Question&lt;String&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String answeredBy(Actor actor) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return BrowseTheWeb.as(actor).findBy(&quot;.user-name&quot;).getText();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Question&lt;String&gt; value() { return new TheUserName(); }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Here we use BrowseTheWeb.as(actor) to get the Serenity WebDriver API for the actorâ€™s webdriver instance, which gives access to the full range of Serenity Page Object methods.</p><p>We could also use a Target to locate the user name, which we could store in a separate Page Component class:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public static Target USER_NAME = Target.the(&quot;User name&quot;).locatedBy(&quot;.user-name&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can then use the resolveFor() method to find the element matching that target in the actorâ€™s browser:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Subject(&quot;the displayed username&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TheUserName implements Question&lt;String&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String answeredBy(Actor actor) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return USER_NAME.resolveFor(actor).getText();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Question&lt;String&gt; value() { return new TheUserName(); }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Alternatively, we could write this class as a factory, and use a lambda expression instead of a fully blown Question class:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public class TheUserName {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Question&lt;String&gt; value() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return actor -&gt; USER_NAME.resolveFor(actor).getText();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In this case, the <code>@Subject</code> annotation will have no effect, so we need to pass in the name of the object we are checking in the Screenplay assertion:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sam.should(seeThat(&quot;the displayed username&quot;, TheUserName.value(), equalTo(&quot;sam&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>So far you have seen how Screenplay questions work in detail. This will help you implement your own if you need to. However Serenity also provides a number of shortcuts related to querying web pages, which you will find in the net.serenitybdd.screenplay.questions package, which allow you to write much more concise automation code. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="bundled-webdriver-questions"></a>Bundled WebDriver Questions<a class="hash-link" href="#bundled-webdriver-questions" title="Direct link to heading">#</a></h2><p>Serenity provides many bundled Question classes in the <code>net.serenitybdd.screenplay.questions</code> package that a short-hand way of querying a web page. For example, the <code>Text</code> class lets us retrieve the text content of an element, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String name = sam.asksFor(Text.of(&quot;#name&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If there are many matching entries, we can retrieve them all using the <code>ofEach()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Collection&lt;String&gt; names = sam.asksFor(Text.ofEach(&quot;.name&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The full list of Web Question classes is provided here.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="absence"></a>Absence<a class="hash-link" href="#absence" title="Direct link to heading">#</a></h3><p>Determine whether an element is <em>not</em> present or visible on the page. A field that is present in the dom but is not rendered will be considered absent.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isNotPresent = sam.asksFor(Absence.of(&quot;#no-such-field&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="attribute"></a>Attribute<a class="hash-link" href="#attribute" title="Direct link to heading">#</a></h3><p>Check the value of an HTML attribute of a specified element.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String placeholderText = sam.asksFor(Attribute.of(&quot;.new-todo&quot;).named(&quot;placeholder&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="checkboxvalue"></a>CheckboxValue<a class="hash-link" href="#checkboxvalue" title="Direct link to heading">#</a></h3><p>Determine whether a checkbox has been checked or not.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean termsAndConditionsApproved = sam.asksFor(CheckboxValue.of(&quot;#tnc&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="cssvalue"></a>CSSValue<a class="hash-link" href="#cssvalue" title="Direct link to heading">#</a></h3><p>Retrieve the value of a specific CSS attribute of an element.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String font = sam.asksFor(CSSValue.of(target).named(&quot;font&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="currentlyenabled"></a>CurrentlyEnabled<a class="hash-link" href="#currentlyenabled" title="Direct link to heading">#</a></h3><p>Check whether an element is currently enabled, without waiting.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isCurrentlyEnabled = sam.asksFor(CurrentlyEnabled.of(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="currentvisibility"></a>CurrentVisibility<a class="hash-link" href="#currentvisibility" title="Direct link to heading">#</a></h3><p>Check whether an element is currently visible, without waiting.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isCurrentlyVisible = sam.asksFor(CurrentVisibility.of(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="disabled"></a>Disabled<a class="hash-link" href="#disabled" title="Direct link to heading">#</a></h3><p>Check whether an element is disabled.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isDisabled = sam.asksFor(Disabled.of(&quot;#a-disabled-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="displayed"></a>Displayed<a class="hash-link" href="#displayed" title="Direct link to heading">#</a></h3><p>Check whether an element is displayed. If the element is not currently displayed, the test will wait for a short delay to give it time to be displayed.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isDisplayed = sam.asksFor(Displayed.of(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="enabled"></a>Enabled<a class="hash-link" href="#enabled" title="Direct link to heading">#</a></h3><p>Check whether an element is enabled. If the element is not currently enabled, the test will wait for a short delay to give it time to be enabled.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean isEnabled = sam.asksFor(Enabled.of(&quot;#some-button&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="presence"></a>Presence<a class="hash-link" href="#presence" title="Direct link to heading">#</a></h3><p>Check whether an element is present in the DOM. An invisible or hidden element can still be present in the DOM.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="selectedstatus"></a>SelectedStatus<a class="hash-link" href="#selectedstatus" title="Direct link to heading">#</a></h3><p>Alternative to <code>CheckboxValue</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">boolean termsAndConditionsApproved = sam.asksFor(SelectedStatus.of(&quot;#tnc&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><header><h1>Text</h1></header><p>To fetch the text value of an element, we can use the <code>Text</code> class:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String introductionText = sam.asksFor(Text.of(&quot;#introduction&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="textcontent"></a>TextContent<a class="hash-link" href="#textcontent" title="Direct link to heading">#</a></h3><p>In some cases, we may need to read the <code>textContent</code> HTML property to get the text we need. To do this, we can use the <code>TextContent</code> class rather than <code>Text</code>. This returns the text content of the specified element, and all its descendants.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="thecoordinates"></a>TheCoordinates<a class="hash-link" href="#thecoordinates" title="Direct link to heading">#</a></h3><p>Return the coordinates of a specified element.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="thelocation"></a>TheLocation<a class="hash-link" href="#thelocation" title="Direct link to heading">#</a></h3><p>Return where on the page is the top left-hand corner of the rendered element.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="thesize"></a>TheSize<a class="hash-link" href="#thesize" title="Direct link to heading">#</a></h3><p>What is the width and height of the rendered element?</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="value"></a>Value<a class="hash-link" href="#value" title="Direct link to heading">#</a></h3><p>Return the HTML <code>value</code> attribute of a specified element.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="visibility"></a>Visibility<a class="hash-link" href="#visibility" title="Direct link to heading">#</a></h3><p>Determine whether this web element present and visible on the screen</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="working-with-dropdowns"></a>Working with Dropdowns<a class="hash-link" href="#working-with-dropdowns" title="Direct link to heading">#</a></h3><p>We can query the current selected value or values of an HTML <code>&lt;SELECT&gt;</code> element using the <code>SelectedValue</code>, <code>SelectedValues</code>, <code>SelectedVisibleTextValue</code> and <code>SelectedVisibleTextValue</code> Question classes.</p><p>For example, to find the current selected value of an HTML dropdown list, we could use the following code:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String selectedColorValue = dina.asksFor(SelectedValue.of(&quot;#color-dropdown&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To get the visible text of the selected item, we would use <code>SelectedVisibleTextValue</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String selectedColor = dina.asksFor(SelectedVisibleTextValue.of(&quot;#color-dropdown&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For multi-selects, we can use <code>SelectedValues</code> and <code>SelectedVisibleTextValues</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; selectedColors = dina.asksFor(SelectedValues.of(&quot;#color-dropdown&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can retrieve the current list of options using <code>SelectOptions</code>, which returns the list of visible texts for each option:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; selectedColors = dina.asksFor(SelectOptions.of(&quot;#color-dropdown&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If we need the <code>value</code> attribute of each dropdown option, we can use <code>SelectOptionValues</code>, e.g.:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; selectedColors = dina.asksFor(SelectOptionValues.of(&quot;#color-dropdown&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="handling-waits"></a>Handling Waits<a class="hash-link" href="#handling-waits" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-the-waituntil-class"></a>Using the WaitUntil class<a class="hash-link" href="#using-the-waituntil-class" title="Direct link to heading">#</a></h3><p>If you need to wait for an element to appear with Serenity Screenplay, there are a few options available. By default, Serenity will wait for a short delay if you try to interact with an element that is not on the page. However, you can ensure that this wait is sufficient by using the <code>WaitUntil</code> class, as shown here: </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">private final static Target DELAYED_BUTTON = PageElement.locatedBy(&quot;#delayed-button&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    WaitUntil.the(DELAYED_BUTTON, WebElementStateMatchers.isVisible()),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(DELAYED_BUTTON)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This code will wait until the element is visible before proceeding to the Click action. The timeout can be configured (in milliseconds) using the <code>webdriver.timeouts.implicitlywait</code> property, which is 5 seconds by default.</p><p>If you need to have a finer control over the timeout duration for specific situations, you can specify this by adding the <code>forNoMoreThan()</code> method, which lets you specify an explicit timeout:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    WaitUntil.the(DELAYED_BUTTON, isVisible()).forNoMoreThan(10).seconds()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can also wait for other conditions. For example, to wait until an element dissapears, you can use the <code>isNotVisible()</code> matcher:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    WaitUntil.the(DISAPPEARING_BUTTON, isNotVisible())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The following matchers are available in the <code>WebElementStateMatchers</code> class. Note that all of the following methods also have a negative equivalent (<code>isNotVisible()</code>, <code>isNotEmpty()</code> etc.).</p><table><thead><tr><th>Matcher</th><th>Purpose</th></tr></thead><tbody><tr><td>containsText(...)</td><td>Check that an element contains a specific text value</td></tr><tr><td>containsOnlyText(...)</td><td>Check that an element contains exactly a specific text value</td></tr><tr><td>containsSelectOption(...)</td><td>Check that a dropdown element contains a specific text value as an option</td></tr><tr><td>isClickable</td><td>Check that an element is visible and enabled</td></tr><tr><td>isEmpty</td><td>Check that an element is not visible or contains an empty string</td></tr><tr><td>isEnabled</td><td>Check that an element is enabled</td></tr><tr><td>isPresent</td><td>Check that an element is present on the page</td></tr><tr><td>isSelected</td><td>Check that an element is selected</td></tr><tr><td>isVisible</td><td>Check that an element is visible</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="waiting-for-a-webdriver-condition"></a>Waiting for a WebDriver condition<a class="hash-link" href="#waiting-for-a-webdriver-condition" title="Direct link to heading">#</a></h3><p>Another option is to wait for a WebDriver condition (which can be found in the <code>org.openqa.selenium.support.ui.ExpectedConditions</code> class), e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        WaitUntil.the(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                invisibilityOfElementLocated(By.id(&quot;disappearing-button&quot;)))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="waiting-for-targets"></a>Waiting for Targets<a class="hash-link" href="#waiting-for-targets" title="Direct link to heading">#</a></h3><p>You can also place a specific wait condition on a <code>Target</code> object. You can do this either when you define the <code>Target</code> variable (if it should be applied any time you interact with this element), or only when you interact with the element, as shown below:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">private final static Target INVISIBLE_BUTTON </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    = PageElement.locatedBy(&quot;#invisible-button&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">dina.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(INVISIBLE_BUTTON.waitingForNoMoreThan(Duration.ofSeconds(3)))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/screenplay/screenplay-webdriver.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/screenplay/screenplay_fundamentals"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Screenplay Fundamentals</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/screenplay/screenplay_rest"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working with REST APIs using Serenity Screenplay Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#opening-a-url" class="table-of-contents__link">Opening a URL</a><ul><li><a href="#opening-a-url-directly" class="table-of-contents__link">Opening a URL directly</a></li><li><a href="#opening-the-url-of-a-page-object" class="table-of-contents__link">Opening the URL of a Page Object</a></li><li><a href="#using-named-pages" class="table-of-contents__link">Using named pages</a></li></ul></li><li><a href="#locating-elements-on-a-page" class="table-of-contents__link">Locating elements on a page</a><ul><li><a href="#css-and-xpath" class="table-of-contents__link">CSS and XPath</a></li><li><a href="#using-selenium-locators" class="table-of-contents__link">Using Selenium locators</a></li><li><a href="#using-the-target-class" class="table-of-contents__link">Using the Target class</a></li><li><a href="#using-dynamic-targets" class="table-of-contents__link">Using dynamic targets</a></li><li><a href="#using-page-elements" class="table-of-contents__link">Using Page Elements</a></li></ul></li><li><a href="#interacting-with-elements" class="table-of-contents__link">Interacting with elements</a><ul><li><a href="#screenplay-interaction-classes" class="table-of-contents__link">Screenplay Interaction classes</a></li><li><a href="#clear" class="table-of-contents__link">Clear</a></li><li><a href="#click" class="table-of-contents__link">Click</a></li><li><a href="#doubleclick" class="table-of-contents__link">DoubleClick</a></li><li><a href="#enter-and-sendkeys" class="table-of-contents__link">Enter and SendKeys</a></li><li><a href="#evaluate-a-javascript-expression" class="table-of-contents__link">Evaluate a Javascript expression</a></li><li><a href="#hit-a-particular-key" class="table-of-contents__link">Hit a particular key</a></li><li><a href="#working-with-checkboxes" class="table-of-contents__link">Working with checkboxes</a></li><li><a href="#javascriptclick" class="table-of-contents__link">JavaScriptClick</a></li><li><a href="#moving-the-mouse" class="table-of-contents__link">Moving the mouse</a></li><li><a href="#performing-actions-on-collections-of-elements" class="table-of-contents__link">Performing actions on collections of elements</a></li><li><a href="#rightclick" class="table-of-contents__link">RightClick</a></li><li><a href="#scrolling-elements-into-view" class="table-of-contents__link">Scrolling elements into view</a></li><li><a href="#selecting-from-dropdowns" class="table-of-contents__link">Selecting from dropdowns</a></li><li><a href="#switching-to-another-window-or-frame" class="table-of-contents__link">Switching to another window or frame</a></li><li><a href="#dealing-with-alert-dialogs" class="table-of-contents__link">Dealing with Alert dialogs</a></li><li><a href="#upload" class="table-of-contents__link">Upload</a></li></ul></li><li><a href="#working-with-chrome-devtools" class="table-of-contents__link">Working with Chrome DevTools</a></li><li><a href="#querying-the-web-page" class="table-of-contents__link">Querying the web page</a></li><li><a href="#bundled-webdriver-questions" class="table-of-contents__link">Bundled WebDriver Questions</a><ul><li><a href="#absence" class="table-of-contents__link">Absence</a></li><li><a href="#attribute" class="table-of-contents__link">Attribute</a></li><li><a href="#checkboxvalue" class="table-of-contents__link">CheckboxValue</a></li><li><a href="#cssvalue" class="table-of-contents__link">CSSValue</a></li><li><a href="#currentlyenabled" class="table-of-contents__link">CurrentlyEnabled</a></li><li><a href="#currentvisibility" class="table-of-contents__link">CurrentVisibility</a></li><li><a href="#disabled" class="table-of-contents__link">Disabled</a></li><li><a href="#displayed" class="table-of-contents__link">Displayed</a></li><li><a href="#enabled" class="table-of-contents__link">Enabled</a></li><li><a href="#presence" class="table-of-contents__link">Presence</a></li><li><a href="#selectedstatus" class="table-of-contents__link">SelectedStatus</a></li><li><a href="#textcontent" class="table-of-contents__link">TextContent</a></li><li><a href="#thecoordinates" class="table-of-contents__link">TheCoordinates</a></li><li><a href="#thelocation" class="table-of-contents__link">TheLocation</a></li><li><a href="#thesize" class="table-of-contents__link">TheSize</a></li><li><a href="#value" class="table-of-contents__link">Value</a></li><li><a href="#visibility" class="table-of-contents__link">Visibility</a></li><li><a href="#working-with-dropdowns" class="table-of-contents__link">Working with Dropdowns</a></li></ul></li><li><a href="#handling-waits" class="table-of-contents__link">Handling Waits</a><ul><li><a href="#using-the-waituntil-class" class="table-of-contents__link">Using the WaitUntil class</a></li><li><a href="#waiting-for-a-webdriver-condition" class="table-of-contents__link">Waiting for a WebDriver condition</a></li><li><a href="#waiting-for-targets" class="table-of-contents__link">Waiting for Targets</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/first_test">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://gitter.im/serenity-bdd/serenity-core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/serenity-bdd" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn Serenity BDD</div><ul class="footer__items"><li class="footer__item"><a href="http://expansion.serenity-dojo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>The Serenity Dojo Training Library<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.serenity-dojo.com/apply" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Personalised Serenity BDD Coaching<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/serenity-bdd/serenity-core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Serenity Dojo Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c1de5fd6.js"></script>
<script src="/assets/js/main.76fb0d68.js"></script>
</body>
</html>