<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Serenity BDD Users Manual Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Serenity BDD Users Manual Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Serenity BDD Users Manual" href="/opensearch.xml"><title data-react-helmet="true">Making Screenplay Assertions with Serenity Ensure | Serenity BDD Users Manual</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://serenity-bdd.github.io/docs/screenplay/screenplay_ensure"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Making Screenplay Assertions with Serenity Ensure | Serenity BDD Users Manual"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_ensure"><link data-react-helmet="true" rel="alternate" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_ensure" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://serenity-bdd.github.io/docs/screenplay/screenplay_ensure" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://V10PILA8X2-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4fb1788f.css">
<link rel="preload" href="/assets/js/runtime~main.27df8ee3.js" as="script">
<link rel="preload" href="/assets/js/main.7a44c1de.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/serenity-bdd-small.png" alt="Serenity BDD Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/serenity-bdd-small.png" alt="Serenity BDD Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/first_test">Tutorials</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/guide/user_guide_intro">User Manual</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://www.serenity-dojo.com/serenity-bdd-enterprise-support" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Learn Serenity BDD</a><ul class="dropdown__menu"><li><a href="https://expansion.serenity-dojo.com/courses/testing-web-applications-with-serenity-bdd" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Serenity BDD Online Training<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="http://learnbdd.com/requirements-discovery-training" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>BDD Requirements Discovery Training<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.serenity-dojo.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>BDD And Test Automation Coaching<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Your First Steps with Serenity BDD</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Serenity Fundamentals</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">The Screenplay Pattern</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_fundamentals">Screenplay Fundamentals</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_webdriver">Web Testing with Serenity Screenplay</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenplay/screenplay_rest">Working with REST APIs using Serenity Screenplay</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/screenplay/screenplay_ensure">Making Screenplay Assertions with Serenity Ensure</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integrating in Spring</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reporting and Living Documentation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Scaling Serenity</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mobile Testing with Serenity</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Making Screenplay Assertions with Serenity Ensure</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>Web tests are a common use case for Screenplay scenarios, where we try to model user behaviour and interactions with the system. In this section, we will learn how to interact with a web application using the Screenplay WebDriver integration.</p><p>We have seen how make assertions using the <code>should()</code> method with
targets or questions combined with Hamcrest matchers, like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sam.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Enter.theValue(&quot;40&quot;).into(AGE_FIELD).thenHit(Keys.ENTER)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sam.should(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    seeThat(the(AGE_FIELD), hasValue(&quot;40&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In the code shown here, the <code>the()</code> method is a static import from the
<code>WebElementQuestion</code> class, and the <code>hasValue()</code> is a static import from
the <code>WebElementStateMatchers</code> class. This is quite flexible, as you can
add custom matchers quite easily. However, it means you need to know
what matchers exist, and which ones can be used in different
circumstances.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="introducing-serenity-ensure"></a>Introducing Serenity Ensure<a class="hash-link" href="#introducing-serenity-ensure" title="Direct link to heading">#</a></h2><p>Serenity Screenplay also provides an alternative approach, which many developers find easier to use and faster to write. This approach uses the <code>Ensure</code> class. The <code>Ensure</code> class produces a <code>Performable</code>, so you can integrate them directly into the <code>attemptsTo()</code> method. It also has a very readable DSL and lets you use code completion to discover the assertions you can use for different values, making writing assertions easier and quicker. An example of code equivalent to the above can be seen here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">sam.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Enter.theValue(&quot;40&quot;).into(AGE_FIELD).thenHit(Keys.ENTER),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(AGE).text().isEqualTo(&quot;40&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In this section, you will learn how to use <em>Serenity Ensure</em> to write fluent assertions for your own projects.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="adding-serenity-ensure-to-your-project"></a>Adding Serenity Ensure to your project<a class="hash-link" href="#adding-serenity-ensure-to-your-project" title="Direct link to heading">#</a></h2><p>Serenity Ensure needs an extra dependency in your build script. For
Maven, add the <code>serenity-enusre</code> dependency to your <code>pom.xml</code> file:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">net.serenity-bdd</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">serenity-ensure</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${serenity.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">test</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>And in Gradle, you need to add the following dependency:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">testCompile &quot;net.serenity-bdd:serenity-screenplay-webdriver:${serenity.version}&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="your-first-ensure-test"></a>Your first Ensure test<a class="hash-link" href="#your-first-ensure-test" title="Direct link to heading">#</a></h2><p>A very simple <code>Ensure</code> test can be seen here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Actor aster = Actor.named(&quot;Aster&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">int age = 20;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(age).isEqualTo(20)              </span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Almost all <code>Ensure</code> assertions start with the <code>Ensure.that()</code> method. This method takes the value being tested as a parameter (in this
case an integer). Following this comes the actual assertion method.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="assertions-about-numbers"></a>Assertions about numbers<a class="hash-link" href="#assertions-about-numbers" title="Direct link to heading">#</a></h2><p>You can use auto-complete in your IDE to see the range of assertions
available. For integers, longs and floating point numbers, the
assertions include:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isEqualTo</td><td><code>Ensure.that(age).isEqualTo(18)</code></td></tr><tr><td>isNotEqualTo</td><td><code>Ensure.that(age).isNotEqualTo(65)</code></td></tr><tr><td>isGreaterThan</td><td><code>Ensure.that(age).isGreaterThan(18)</code></td></tr><tr><td>isGreaterThanOrEqualTo</td><td><code>Ensure.that(age).isGreaterThanOrEqualTo(20)</code></td></tr><tr><td>isLessThan</td><td><code>Ensure.that(age).isLessThan(100)</code></td></tr><tr><td>isBetween</td><td><code>Ensure.that(age).isBetween(18,25)</code></td></tr><tr><td>isStrictlyBetween</td><td><code>Ensure.that(age).isStrictlyBetween(20,25)</code></td></tr></tbody></table><p>For doubles and floats, you can also use the <code>isCloseTo()</code> assertion:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">float creditScore = 9.8F;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(creditScore).isCloseTo(9.81F, 0.01F)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="assertions-about-strings"></a>Assertions about Strings<a class="hash-link" href="#assertions-about-strings" title="Direct link to heading">#</a></h2><p>Another common requirement is to make assertions about Strings. An
example is shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String name = &quot;Bill&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(name).isEqualToIgnoringCase(&quot;BILL&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Other basic comparison assertions about Strings include the following:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isEqualTo</td><td><code>Ensure.that(name).isEqualTo(&quot;Bill&quot;)</code></td></tr><tr><td>isNotEqualTo</td><td><code>Ensure.that(name).isNotEqualTo(&quot;Joe&quot;)</code></td></tr><tr><td>isGreaterThan</td><td><code>Ensure.that(name).isGreaterThan(&quot;Alfred&quot;)</code></td></tr><tr><td>isGreaterThanOrEqualTo</td><td><code>Ensure.that(name).isGreaterThanOrEqualTo(&quot;Al&quot;)</code></td></tr><tr><td>isLessThan</td><td><code>Ensure.that(name).isLessThan(&quot;Carrie&quot;)</code></td></tr><tr><td>isBetween</td><td><code>Ensure.that(name).isBetween(&quot;Bill&quot;,&quot;Carrie&quot;)</code></td></tr><tr><td>isStrictlyBetween</td><td><code>Ensure.that(name).isStrictlyBetween(&quot;Al&quot;,25)</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="string-contents"></a>String contents<a class="hash-link" href="#string-contents" title="Direct link to heading">#</a></h3><p>The <code>Ensure</code> class also has a number of assertions related to string
contents. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String colors = &quot;Red Green Blue&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).contains(&quot;Green&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>containsIgnoringCase</td><td><code>Ensure.that(colors).containsIgnoringCase(&quot;RED&quot;)</code></td></tr><tr><td>containsOnlyDigits</td><td><code>Ensure.that(&quot;123&quot;).containsOnlyDigits()</code></td></tr><tr><td>containsOnlyLettersOrDigits</td><td><code>Ensure.that(&quot;abc123&quot;).containsOnlyLettersOrDigits()</code></td></tr><tr><td>containsOnlyLetters</td><td><code>Ensure.that(&quot;abc&quot;).containsOnlyLetters()</code></td></tr><tr><td>containsWhitespaces</td><td>`Ensure.that(&quot;Red Green&quot;).containsWhitespaces()</td></tr><tr><td>containsOnlyWhitespaces</td><td><code>Ensure.that(&quot;   &quot;).containsOnlyWhitespaces()</code></td></tr><tr><td>startsWith</td><td><code>Ensure.that(colors).startsWith(&quot;Red&quot;)</code></td></tr><tr><td>endsWith</td><td><code>Ensure.that(colors).endsWith(&quot;Blue&quot;)</code></td></tr><tr><td>matches</td><td><code>Ensure.that(colors).matches(&quot;Red (.*) Blue&quot;)</code></td></tr><tr><td>doesNotContain</td><td><code>Ensure.that(colors).doesNotContain(&quot;cyan&quot;)</code></td></tr><tr><td>isBlank()</td><td><code>Ensure.that(&quot;  &quot;).isBlank()</code></td></tr><tr><td>isNotBlank()</td><td><code>Ensure.that(colors).isNotBlank()</code></td></tr><tr><td>isEmpty()</td><td><code>Ensure.that(&quot;&quot;).isEmpty()</code></td></tr><tr><td>isNotEmpty()</td><td><code>Ensure.that(colors).isNotEmpty()</code></td></tr><tr><td>isInLowerCase()</td><td><code>Ensure.that(&quot;red&quot;).isInLowerCase()</code></td></tr><tr><td>isInUpperCase()</td><td><code>Ensure.that(&quot;RED&quot;).isInUpperCase()</code></td></tr><tr><td>isSubstringOf</td><td><code>Ensure.that(&quot;Green&quot;).isSubstringOf(colors)</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="string-size"></a>String Size<a class="hash-link" href="#string-size" title="Direct link to heading">#</a></h3><p>There are also some assertions to check the length of the
string For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String colors = &quot;Red Green Blue&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).hasSizeGreaterThan(3)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>hasSize</td><td><code>Ensure.that(&quot;red&quot;).hasSize(3)</code></td></tr><tr><td>hasSizeGreaterThan</td><td><code>Ensure.that(&quot;red&quot;).hasSizeGreaterThan(2)</code></td></tr><tr><td>hasSizeGreaterThanOrEqualTo</td><td><code>Ensure.that(&quot;red&quot;).hasSizeGreaterThanOrEqualTo(3)</code></td></tr><tr><td>hasSizeLessThan</td><td><code>Ensure.that(&quot;red&quot;).hasSizeLessThan(4)</code></td></tr><tr><td>hasSizeLessThanOrEqualTo</td><td><code>Ensure.that(&quot;red&quot;).hasSizeLessThanOrEqualTo(3)</code></td></tr><tr><td>hasSizeBetween</td><td><code>Ensure.that(&quot;red&quot;).hasSizeBetween(1,5)</code></td></tr><tr><td>hasLineCount</td><td><code>Ensure.that(colors).hasLineCount(1)</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="assertions-using-lambda-expressions"></a>Assertions using Lambda expressions<a class="hash-link" href="#assertions-using-lambda-expressions" title="Direct link to heading">#</a></h2><p>Another useful trick is to use a Java 8 Lambda expression to do the
check. You can use the <code>Ensure.that(...).matches(...)</code> construct to pass
in a lambda predicate which will determine whether the <code>Ensure</code>
statement should pass or fail.</p><p>For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String actualColor = &quot;green&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(actualColor).matches(&quot;is an RGB color&quot;,        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                              color -&gt; color.equals(&quot;red&quot;)     </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       || color.equals(&quot;blue&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       || color.equals(&quot;green&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="negative-assertions"></a>Negative assertions<a class="hash-link" href="#negative-assertions" title="Direct link to heading">#</a></h2><p>You can negate an <code>Ensure.that()</code> statement simply by including the
<code>not()</code> method. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">String colors = &quot;Red Green Blue&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).not().contains(&quot;Cyan&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="working-with-dates-and-times"></a>Working with dates and times<a class="hash-link" href="#working-with-dates-and-times" title="Direct link to heading">#</a></h2><p>The <code>Ensure</code> class provides a few special methods for dates and times.
For <code>LocalTime</code> variables, we can use <code>Ensure.that(...).isBefore()</code> and
<code>Ensure.that(...).isAfter()</code> to compare two times, as we can see here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">LocalTime tenInTheMorning = LocalTime.of(10,0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalTime twoInTheAfternoon = LocalTime.of(14,0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(tenInTheMorning).isBefore(twoInTheAfternoon)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For <code>LocalDate</code> variables, we have <code>isBefore()</code> and <code>isAfter()</code>, as well
as a number of others, such as the <code>isDayOfWeek()</code> method illustrated
here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate firstOfJanuary = LocalDate.of(2000,1,1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(firstOfJanuary).isDayOfWeek(DayOfWeek.SATURDAY)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Other date-related assertions include:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isDayOfWeek</td><td><code>Ensure.that(firstOfJanuary).isDayOfWeek(SATURDAY)</code></td></tr><tr><td>isDayOfMonth</td><td><code>Ensure.that(firstOfJanuary).isDayOfMonth(1)</code></td></tr><tr><td>isInTheMonthOf</td><td><code>Ensure.that(firstOfJanuary).isInTheMonthOf(JANUARY)</code></td></tr><tr><td>isTheYear</td><td><code>Ensure.that(firstOfJanuary).isTheYear(2000)</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="working-with-collections"></a>Working with collections<a class="hash-link" href="#working-with-collections" title="Direct link to heading">#</a></h2><p>The <code>Ensure</code> class gives you a range of methods to make assertions about
collections. This can be as simple as checking whether an element
appears in a collection: we can do this using the
<code>Ensure.that(...).isIn(...)</code> construct:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; colors = Arrays.asList(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(&quot;red&quot;).isIn(colors)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Suppose we had the following lists:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; sameColors = Arrays.asList(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; differentColors = Arrays.asList(&quot;red&quot;, &quot;green&quot;, &quot;cyan&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; allColors = Arrays.asList(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;,&quot;yellow&quot;,&quot;cyan&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; lastColors = Arrays.asList(&quot;yellow&quot;,&quot;cyan&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; redAndPink = Arrays.asList(&quot;red&quot;, &quot;pink&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; noColors = Arrays.asList();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Here are some examples of other assertion methods using these
collections:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="assertions-about-list-equality-and-size"></a>Assertions about list equality and size<a class="hash-link" href="#assertions-about-list-equality-and-size" title="Direct link to heading">#</a></h2><p>The following assertions are useful if you need to check the size of a
collection, or whether it is equivalent to another collection.</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isEqualTo</td><td><code>Ensure.that(colors).isEqualTo(sameColors)</code></td></tr><tr><td>isEmpty</td><td><code>Ensure.that(noColors).isEmpty()</code></td></tr><tr><td>isNotEmpty</td><td><code>Ensure.that(colors).isNotEmpty()</code></td></tr><tr><td>hasSize</td><td><code>Ensure.that(colors).hasSize(3)</code></td></tr><tr><td>hasSizeGreaterThan</td><td><code>Ensure.that(colors).hasSizeGreaterThan(2)</code></td></tr><tr><td>hasSizeLessThan</td><td><code>Ensure.that(colors).hasSizeLessThan(4)</code></td></tr><tr><td>hasSizeBetween</td><td><code>Ensure.that(colors).hasSizeBetween(2,4)</code></td></tr><tr><td>hasSameSizeAs</td><td><code>Ensure.that(colors).hasSameSize(differentColors)</code></td></tr></tbody></table><header><h1>Assertions about list contents</h1></header><p>Often we need to check the contents of a collection. We can do this
using a range of <em>contains</em> assertions, as illustrated here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; colors = Arrays.asList(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(contains).contains(&quot;red&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Some of the other <em>contains</em> assertions are listed in the table below:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>contains</td><td><code>Ensure.that(colors).contains(&quot;red&quot;,&quot;blue&quot;)</code></td></tr><tr><td>containsAnyOf</td><td><code>Ensure.that(colors).anyOf(&quot;red&quot;,&quot;pink&quot;)</code></td></tr><tr><td>containsOnly</td><td><code>Ensure.that(colors).containsOnly(&quot;blue&quot;,&quot;green&quot;,&quot;red&quot;)</code></td></tr><tr><td>containsExactly</td><td><code>Ensure.that(colors).containsExactly(&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;)</code></td></tr><tr><td>containsExactlyInAnyOrder</td><td><code>Ensure.that(colors).containsExactly(&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;)</code></td></tr><tr><td>doesNotContain</td><td><code>Ensure.that(colors).doesNotContain(&quot;pink&quot;)</code></td></tr><tr><td>containsElementsFrom</td><td><code>Ensure.that(allColors).containsElementsFrom(colors)</code></td></tr><tr><td>containsAnyElementsOf</td><td><code>Ensure.that(colors).containsAnyElementsOf(redAndPink)</code></td></tr><tr><td>containsExactlyElementsOf</td><td><code>Ensure.that(colors).containsExactlyElementsOf(sameColors)</code></td></tr><tr><td>isASubsetOf</td><td><code>Ensure.that(colors).isASubsetOf(allColors)</code></td></tr><tr><td>doesNotHaveDuplicates</td><td><code>Ensure.that(colors).doesNotHaveDuplicates()</code></td></tr><tr><td>startsWith</td><td><code>Ensure.that(colors).startsWith(&quot;red&quot;, &quot;green&quot;)</code></td></tr><tr><td>startsWithElementsFrom</td><td><code>Ensure.that(allColors).startsWithElementsFrom(colors)</code></td></tr><tr><td>endsWith</td><td><code>Ensure.that(colors).endsWith(&quot;green&quot;,&quot;blue&quot;)</code></td></tr><tr><td>endWithElementsFrom</td><td><code>Ensure.that(allColors).endWithElementsFrom(lastColors)</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="matching-list-elements-with-java-8-lambdas"></a>Matching list elements with Java 8 Lambdas<a class="hash-link" href="#matching-list-elements-with-java-8-lambdas" title="Direct link to heading">#</a></h2><p>Lambda expressions provide a powerful way of making arbitrary assertions
about the contents of a collection. We can use the
<code>Ensure.that(...).allMatch()</code>, <code>Ensure.that(...).anyMatch()</code> and
<code>Ensure.that(...).noneMatch()</code> to do this. For example, the following
code asserts that each element in a collection is 4 characters long:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; colors = ImmutableList.of(&quot;blue&quot;, &quot;cyan&quot;, &quot;pink&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).allMatch(&quot;4 characters long&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 it -&gt; it.length() == 4)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Note that when we use a Lambda expression, we need to include a
description of the expectation before providing the lambda expression
itself. This description will be used in the reports should the
assertion fail.</p><p>The <em>anyMatch</em> method checks that there exists at least one element in a
collection that matches a specified predicate. An example is shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public void shouldContainAtLeastOnePrimaryColor() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor aster = Actor.named(&quot;Aster&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;String&gt; colors = ImmutableList.of(&quot;blue&quot;, &quot;cyan&quot;, &quot;pink&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.that(colors).anyMatch(&quot;is a primary color&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     it -&gt;  isAPrimaryColor(it))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private boolean isAPrimaryColor(String color) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return  (color == &quot;red&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            || (color == &quot;green&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            || (color == &quot;blue&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <em>noneMatch</em> method checks that no elements exist in a collection
that match a certain condition.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; colors = ImmutableList.of(&quot;orange&quot;, &quot;cyan&quot;, &quot;pink&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).noneMatch(&quot;is a primary color&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  it -&gt;  isAPrimaryColor(it))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can also check for specific numbers of elements, using <code>atLeast</code>,
<code>noMoreThan</code>, and <code>exactly</code>. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; colors = ImmutableList.of(&quot;blue&quot;, &quot;cyan&quot;, &quot;red&quot;,&quot;pink&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).atLeast(2, &quot;is a primary color&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                it -&gt;  isAPrimaryColor(it))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="using-named-expectations"></a>Using Named Expectations<a class="hash-link" href="#using-named-expectations" title="Direct link to heading">#</a></h2><p>If you have commonly used predicates in your test code, you can use the
<code>NamedExpectation</code> to make your code more concise. For example, here we
define a <code>NamedExpectation</code> that matches primary colors:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">private static final  NamedExpectation&lt;String&gt; IS_A_PRIMARY_COLOR</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        = new NamedExpectation&lt;&gt;(&quot;is a primary color&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                               color -&gt; (color.equals(&quot;red&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        || (color.equals(&quot;green&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        || (color.equals(&quot;blue&quot;)));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could use this in the <code>Ensure.that()</code> method like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(colors).anyMatch(IS_A_PRIMARY_COLOR)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="working-with-web-elements"></a>Working with web elements<a class="hash-link" href="#working-with-web-elements" title="Direct link to heading">#</a></h2><p>When writing UI tests, we need to make assertions about the state of
elements on a web page. The <code>Ensure</code> class makes this an easy task.</p><p>We can make assertions about <code>Target</code> elements directly using the
<code>Ensure.that()</code> method.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target FIRST_NAME = Target.the(&quot;First name field&quot;).locatedBy(&quot;#firstName&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(FIRST_NAME).value().isEqualTo(&quot;Joe&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>A more flexible approach is to use the <code>ElementLocated</code> class to
identify an element. We can also locate elements using <code>By</code> locators or
CSS/XPath strings. The following code uses the <code>Ensure.that()</code> and
<code>ElementLocated.by()</code> methods to check whether the element located by
the CSS selector \&quot;#firstName\&quot; is displayed:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(ElementLocated.by(&quot;#firstName&quot;)).isDisplayed(),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <code>ElementLocated.by()</code> will work with <code>By</code> locators, XPath/CSS
strings or <code>Target</code> elements, which means that you can easily decouple
your locator strategy from your assertions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="simple-web-element-assertions"></a>Simple web element assertions<a class="hash-link" href="#simple-web-element-assertions" title="Direct link to heading">#</a></h3><p>The most simple assertions about web elements are boolean checks about
the state of the element. The <code>Ensure.that(...).is...</code> assertions let
you make assertions about whether an element is displayed or disabled.</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isDisplayed</td><td><code>Ensure.that(FIRST_NAME).isDisplayed()</code></td></tr><tr><td>isDisabled</td><td><code>Ensure.that(FIRST_NAME).isDisabled()</code></td></tr><tr><td>isEnabled</td><td><code>Ensure.that(FIRST_NAME).isEnabled()</code></td></tr></tbody></table><header><h1>Checking text content and field values</h1></header><p>Checking field values and text content is the bread-and-butter of many
web tests. You can use <code>Ensure.that(...).value()</code> to read the value
attribute of a field, as shown here:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(FIRST_NAME).value().startsWith(&quot;Joe&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <code>Ensure.that(...).text()</code> method lets you read the text of the
element:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(SEARCH_RESULTS_SUMMARY)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .text()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .endsWith(&quot;results for &#x27;Serenity&#x27;&quot;),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can also read the text contents of an element using
<code>Ensure.that(...).textContent()</code>. The text content is the value of the
<code>textContent</code> CSS attribute.</p><p>This value is available even when an element is not visible, making it
useful in cases where you need to read a full set of values, even those
not currently visible on the page.</p><p>The most important <code>Ensure.that(...)</code> methods for web elements include
the following:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>value</td><td><code>Ensure.that(FIRST_NAME).value().isEqualTo(&quot;Joe&quot;)</code></td></tr><tr><td>text</td><td><code>Ensure.that(DESCRIPTION).text().isNotEmpty()</code></td></tr><tr><td>textContent</td><td><code>Ensure.that(DESCRIPTION).textContent().isNotEmpty()</code></td></tr><tr><td>attribute</td><td><code>Ensure.that(FIRST_NAME).attribute(&quot;title&quot;).isEqualTo(&quot;First name&quot;)</code></td></tr><tr><td>selectedValue</td><td><code>Ensure.that(COLORS).selectedValue().isEqualTo(&quot;green&quot;)</code></td></tr><tr><td>selectedVisibleText</td><td><code>Ensure.that(COLORS).selectedVisibleText().isEqualTo(&quot;Green&quot;)</code></td></tr><tr><td>hasCssClass</td><td><code>Ensure.that(COLORS).hasCssClass(&quot;color-list&quot;)</code></td></tr><tr><td>containsElements</td><td><code>Ensure.that(RESULT_LIST).containsElements(&quot;.result-details&quot;)</code></td></tr></tbody></table><p>All of these methods allow you to make all of the String assertions we
saw earlier.</p><header><h1>Converting values to different types</h1></header><p>Sometimes it is useful to be able to make assertions about non-String
types. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(ElementLocated.by(&quot;#itemCount&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .value()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .asAnInteger()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .isGreaterThanOrEqualTo(2)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The main conversion methods include:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>asAnInteger</td><td><code>Ensure.that(ITEM_COUNT).value().asAnInteger().isEqualTo(2)</code></td></tr><tr><td>asADouble</td><td><code>Ensure.that(TOTAL_COST).value().asADouble().isEqualTo(99.99d)</code></td></tr><tr><td>asAFloat</td><td><code>Ensure.that(TOTAL_COST).value().asAFloat().isCloseTo(99.99f,0.01f)</code></td></tr><tr><td>asABigDecimal</td><td><code>Ensure.that(TOTAL_COST).value().asABigDecimal().isEqualTo(new BigDecimal(&quot;99.99&quot;))</code></td></tr><tr><td>asADate</td><td><code>Ensure.that(CURRENT_DATE).value().asADate().isEqualTo(expectedLocalDate)</code></td></tr><tr><td>asATime</td><td><code>Ensure.that(CURRENT_TIME).value().asATime().isEqualTo(expectedLocalTime)</code></td></tr><tr><td>asABoolean</td><td><code>Ensure.that(SOME_FLAG).value().asABoolean().is True()</code></td></tr></tbody></table><p>If a date or time value uses as non-standard format, we can pass a
format string to the <code>asADate()</code> or <code>asATime()</code> methods:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(ElementLocated.by(&quot;#currentDate&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .value()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .asADate(&quot;dd-MM-yyyy&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .isBefore(dateLimit)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><header><h1>Making assertions about collections of web elements</h1></header><p>You can make assertions about multiple values, for example, all the
titles of a list of search results.</p><p>One way to do this is to use the <code>Ensure.thatTheSetOf()</code> method (or its
synonym, <code>Ensure.thatAmongst()</code>). This method takes a <code>Target</code> or a
locator, and lets you apply the</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.thatTheSetOf(ElementsLocated.by(&quot;.train-line&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              .hasSizeGreaterThan(5)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can also use static methods defined in <code>TheMatchingElement</code> to
perform commonly used checks on web elements, e.g.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.thatTheSetOf(ElementsLocated.by(&quot;.train-line&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              .allMatch(TheMatchingElement.containsText(&quot;Line&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The main methods defined in the <code>TheMatchingElement</code> class include:</p><table><thead><tr><th>Assertion</th><th>Example</th></tr></thead><tbody><tr><td>isDisplayed</td><td><code>Ensure.thatTheSetOf(RESULTS).allMatch(isDisplayed())</code></td></tr><tr><td>isNotDisplayed</td><td><code>Ensure.thatTheSetOf(RESULTS).noneMatch(isNotDisplayed())</code></td></tr><tr><td>isDisabled</td><td><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isDisabled())</code></td></tr><tr><td>isNotDisabled</td><td><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isNotDisabled())</code></td></tr><tr><td>isEnabled</td><td><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isEnabled())</code></td></tr><tr><td></td><td></td></tr><tr><td>isNotEnabled</td><td><code>Ensure.thatTheSetOf(INPUT_FIELDS).atLeast(1, isNotEnabled())</code></td></tr><tr><td>hasCssClass</td><td><code>Ensure.thatTheSetOf(RESULTS).noMoreThan(1, hasCssClass(&quot;selected&quot;))</code></td></tr><tr><td>hasValue</td><td><code>Ensure.thatTheSetOf(RESULTS).anyMatch(hasValue(&quot;red&quot;))</code></td></tr><tr><td>containsText</td><td><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsText(&quot;Red&quot;))</code></td></tr><tr><td>containsOnlyText</td><td><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsOnlyText(&quot;Red Car&quot;))</code></td></tr><tr><td>containsElementsLo</td><td><code>Ensure.thatTheSetOf(RESULTS).anyMatch(containsElementsLocatedBy(&quot;.model&quot;))</code></td></tr></tbody></table><p>We can also make assertions about collections of matching values or the
text contents of matching elements. We can do this using the
<code>Ensure.that(...).values()</code>, <code>Ensure.that(...).textValues()</code> and
<code>Ensure.that(...).textContentValues()</code>. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(ElementLocated.by(&quot;#colors option&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .values()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .contains(&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="waiting-for-elements-and-defining-timeouts"></a>Waiting for elements and defining timeouts<a class="hash-link" href="#waiting-for-elements-and-defining-timeouts" title="Direct link to heading">#</a></h3><p>When working with asynchronous web applications, an element may not be
immediately ready when a test interacts with it. By default, Serenity
will wait for 5 seconds for an element to be present. Using the <code>Ensure</code>
class, we can fine-tune the amount of time we need to wait for an
element to become available. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target SLOW_FIELD = Target.the(&quot;Slow field&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                          .locatedBy(&quot;#slow&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.that(SLOW_FIELD.waitingForNoMoreThan(Duration.ofSeconds(10)))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              .value()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              .isEqualTo(&quot;Marseille&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can also build a delay into a <code>Target</code> field, if the same delay
should be applied everywhere the element is used:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Target SLOW_FIELD = Target.the(&quot;Slow field&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                      .locatedBy(&quot;#slow&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                      .waitingForNoMoreThan(Duration.ofSeconds(5))</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="making-assertions-about-the-current-page"></a>Making assertions about the current page<a class="hash-link" href="#making-assertions-about-the-current-page" title="Direct link to heading">#</a></h3><p>There are also some <code>Ensure</code> methods that allow us to make basic
assertions about the page itself. For example, you can check the page
title like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.thatTheCurrentPage().title().isEqualTo(&quot;Some Title&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Page-level assertions also include <code>currentUrl()</code>, <code>pageSource()</code> and
<code>windowHandle()</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="working-with-screenplay-questions"></a>Working with Screenplay Questions<a class="hash-link" href="#working-with-screenplay-questions" title="Direct link to heading">#</a></h2><p>So far we have been using the <code>Ensure.that*</code> methods with web page
locators and with field values. We can also use <code>Ensure.that*</code> methods
with arbitrary Screenplay questions. This can be used to write custom
<code>Question</code> classes or methods that query the state of the application
without using the UI, or which do more tailored queries of the UI.</p><p>For example,</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">public Question&lt;Integer&gt; countOf(String todoItem) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Question.about(&quot;todo status&quot;).answeredBy(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            actor -&gt; // return some value related to a particular todo item</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could then use the <code>Ensure.thatTheAnswerTo()</code> method to check the
result of this question:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.thatTheAnswerTo(&quot;the count&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                               countOf(&quot;some-todo-item&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              .isEqualTo(1)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We can also work with <code>Question</code> classes that return collections, using
the <code>Ensure.thatTheAnswersTo()</code> method. Suppose we had a Question that
returned a list of Strings:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Question&lt;Collection&lt;String&gt;&gt; colors() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Question.about(&quot;colors&quot;).answeredBy(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            actor -&gt; // returns &quot;red&quot;,&quot;green&quot;,&quot;blue&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We could then use the <code>Ensure.thatTheAnswersTo()</code> method to make an
assertion about this question:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure.thatTheAnswersTo(colors()).contains(&quot;red&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="reporting-and-hiding-ensure-steps"></a>Reporting and hiding Ensure steps<a class="hash-link" href="#reporting-and-hiding-ensure-steps" title="Direct link to heading">#</a></h2><p>Each <code>Ensure</code> performable will be reported in the Serenity report as a
separate step, including a short description of the expectation.
Sometimes, however, we want to use the <code>Ensure</code> statement as a way to
make sure the application is ready to continue the tests. In these
cases, we may prefer to leave the <code>Ensure</code> statement out of the reports.</p><p>We can do this using the <code>silently()</code> method:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">aster.attemptsTo(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ensure.that(ElementLocated.by(&quot;#firstName&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .silently()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .isDisplayed()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/screenplay/screenplay-ensure.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/screenplay/screenplay_rest"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Working with REST APIs using Serenity Screenplay</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/spring/integration_testing_spring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Integration Testing in Spring Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#introducing-serenity-ensure" class="table-of-contents__link">Introducing Serenity Ensure</a></li><li><a href="#adding-serenity-ensure-to-your-project" class="table-of-contents__link">Adding Serenity Ensure to your project</a></li><li><a href="#your-first-ensure-test" class="table-of-contents__link">Your first Ensure test</a></li><li><a href="#assertions-about-numbers" class="table-of-contents__link">Assertions about numbers</a></li><li><a href="#assertions-about-strings" class="table-of-contents__link">Assertions about Strings</a><ul><li><a href="#string-contents" class="table-of-contents__link">String contents</a></li><li><a href="#string-size" class="table-of-contents__link">String Size</a></li></ul></li><li><a href="#assertions-using-lambda-expressions" class="table-of-contents__link">Assertions using Lambda expressions</a></li><li><a href="#negative-assertions" class="table-of-contents__link">Negative assertions</a></li><li><a href="#working-with-dates-and-times" class="table-of-contents__link">Working with dates and times</a></li><li><a href="#working-with-collections" class="table-of-contents__link">Working with collections</a></li><li><a href="#assertions-about-list-equality-and-size" class="table-of-contents__link">Assertions about list equality and size</a></li><li><a href="#matching-list-elements-with-java-8-lambdas" class="table-of-contents__link">Matching list elements with Java 8 Lambdas</a></li><li><a href="#using-named-expectations" class="table-of-contents__link">Using Named Expectations</a></li><li><a href="#working-with-web-elements" class="table-of-contents__link">Working with web elements</a><ul><li><a href="#simple-web-element-assertions" class="table-of-contents__link">Simple web element assertions</a></li><li><a href="#waiting-for-elements-and-defining-timeouts" class="table-of-contents__link">Waiting for elements and defining timeouts</a></li><li><a href="#making-assertions-about-the-current-page" class="table-of-contents__link">Making assertions about the current page</a></li></ul></li><li><a href="#working-with-screenplay-questions" class="table-of-contents__link">Working with Screenplay Questions</a></li><li><a href="#reporting-and-hiding-ensure-steps" class="table-of-contents__link">Reporting and hiding Ensure steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/first_test">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://gitter.im/serenity-bdd/serenity-core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/serenity-bdd" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn Serenity BDD</div><ul class="footer__items"><li class="footer__item"><a href="http://expansion.serenity-dojo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>The Serenity Dojo Training Library<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.serenity-dojo.com/apply" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Personalised Serenity BDD Coaching<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/serenity-bdd/serenity-core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Serenity Dojo Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.27df8ee3.js"></script>
<script src="/assets/js/main.7a44c1de.js"></script>
</body>
</html>