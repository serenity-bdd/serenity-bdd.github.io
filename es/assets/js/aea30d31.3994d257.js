"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[5769],{7553(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"cucumber/parallel-execution","title":"Ejecutando Pruebas Cucumber en Paralelo","description":"Ejecutar escenarios Cucumber en paralelo puede reducir dr\xe1sticamente el tiempo de ejecuci\xf3n de las pruebas. Esta gu\xeda explica c\xf3mo configurar y optimizar la ejecuci\xf3n paralela con Serenity BDD y JUnit 5.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/cucumber/parallel-execution.md","sourceDirName":"cucumber","slug":"/cucumber/parallel-execution","permalink":"/es/docs/cucumber/parallel-execution","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/cucumber/parallel-execution.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"parallel-execution","title":"Ejecutando Pruebas Cucumber en Paralelo","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Cucumber con JUnit 5","permalink":"/es/docs/cucumber/cucumber-junit5"},"next":{"title":"Patrones Avanzados de Cucumber","permalink":"/es/docs/cucumber/advanced-patterns"}}');var r=a(4848),l=a(8453);const s={id:"parallel-execution",title:"Ejecutando Pruebas Cucumber en Paralelo",sidebar_position:2},c="Ejecutando Escenarios Cucumber en Paralelo",o={},d=[{value:"Descripci\xf3n General",id:"descripci\xf3n-general",level:2},{value:"Prerrequisitos",id:"prerrequisitos",level:2},{value:"Configuraci\xf3n B\xe1sica",id:"configuraci\xf3n-b\xe1sica",level:2},{value:"Paso 1: Agregar Dependencias Requeridas",id:"paso-1-agregar-dependencias-requeridas",level:3},{value:"Paso 2: Usar el Reporter Paralelo",id:"paso-2-usar-el-reporter-paralelo",level:3},{value:"Paso 3: Configurar la Ejecuci\xf3n Paralela",id:"paso-3-configurar-la-ejecuci\xf3n-paralela",level:3},{value:"Estrategias de Ejecuci\xf3n",id:"estrategias-de-ejecuci\xf3n",level:2},{value:"Estrategia Din\xe1mica (Recomendada)",id:"estrategia-din\xe1mica-recomendada",level:3},{value:"Estrategia Fija",id:"estrategia-fija",level:3},{value:"Estrategia Personalizada",id:"estrategia-personalizada",level:3},{value:"Ejemplo de Configuraci\xf3n Completa",id:"ejemplo-de-configuraci\xf3n-completa",level:2},{value:"Consideraciones de Seguridad de Hilos",id:"consideraciones-de-seguridad-de-hilos",level:2},{value:"Gesti\xf3n de WebDriver",id:"gesti\xf3n-de-webdriver",level:3},{value:"Seguridad de Hilos en Step Definition",id:"seguridad-de-hilos-en-step-definition",level:3},{value:"Usando Contexto de Escenario",id:"usando-contexto-de-escenario",level:3},{value:"Controlando el Paralelismo",id:"controlando-el-paralelismo",level:2},{value:"Paralelo en Diferentes Niveles",id:"paralelo-en-diferentes-niveles",level:3},{value:"Paralelismo a Nivel de Escenario (Por Defecto)",id:"paralelismo-a-nivel-de-escenario-por-defecto",level:4},{value:"Paralelismo a Nivel de Feature",id:"paralelismo-a-nivel-de-feature",level:4},{value:"Limitando Escenarios Concurrentes",id:"limitando-escenarios-concurrentes",level:3},{value:"Ejecuci\xf3n Paralela con Etiquetas",id:"ejecuci\xf3n-paralela-con-etiquetas",level:2},{value:"Configuraci\xf3n de Maven/Gradle",id:"configuraci\xf3n-de-mavengradle",level:2},{value:"Plugin Maven Surefire",id:"plugin-maven-surefire",level:3},{value:"Configuraci\xf3n de Gradle",id:"configuraci\xf3n-de-gradle",level:3},{value:"Optimizaci\xf3n de Rendimiento",id:"optimizaci\xf3n-de-rendimiento",level:2},{value:"1. Elegir la Estrategia Correcta",id:"1-elegir-la-estrategia-correcta",level:3},{value:"2. Optimizar el Dise\xf1o de Escenarios",id:"2-optimizar-el-dise\xf1o-de-escenarios",level:3},{value:"3. Gesti\xf3n de Recursos",id:"3-gesti\xf3n-de-recursos",level:3},{value:"4. Monitorear el Uso de Recursos",id:"4-monitorear-el-uso-de-recursos",level:3},{value:"Depurando Pruebas Paralelas",id:"depurando-pruebas-paralelas",level:2},{value:"Deshabilitar la Ejecuci\xf3n Paralela Temporalmente",id:"deshabilitar-la-ejecuci\xf3n-paralela-temporalmente",level:3},{value:"Ejecutar con Menos Hilos",id:"ejecutar-con-menos-hilos",level:3},{value:"Registro Detallado",id:"registro-detallado",level:3},{value:"Problemas Comunes y Soluciones",id:"problemas-comunes-y-soluciones",level:2},{value:"Problema 1: Pruebas Inestables",id:"problema-1-pruebas-inestables",level:3},{value:"Problema 2: Agotamiento de Recursos",id:"problema-2-agotamiento-de-recursos",level:3},{value:"Problema 3: Problemas de Generaci\xf3n de Reportes",id:"problema-3-problemas-de-generaci\xf3n-de-reportes",level:3},{value:"Problema 4: Fallos en Pipeline CI/CD",id:"problema-4-fallos-en-pipeline-cicd",level:3},{value:"Mejores Pr\xe1cticas",id:"mejores-pr\xe1cticas",level:2},{value:"1. Comienza Peque\xf1o",id:"1-comienza-peque\xf1o",level:3},{value:"2. Usa Etiquetas Estrat\xe9gicamente",id:"2-usa-etiquetas-estrat\xe9gicamente",level:3},{value:"3. A\xedsla los Datos de Prueba",id:"3-a\xedsla-los-datos-de-prueba",level:3},{value:"4. Monitorea y Ajusta",id:"4-monitorea-y-ajusta",level:3},{value:"5. Documenta la Seguridad de Hilos",id:"5-documenta-la-seguridad-de-hilos",level:3},{value:"Midiendo Mejoras de Rendimiento",id:"midiendo-mejoras-de-rendimiento",level:2},{value:"Antes de la Ejecuci\xf3n Paralela",id:"antes-de-la-ejecuci\xf3n-paralela",level:3},{value:"Despu\xe9s de la Ejecuci\xf3n Paralela (8 hilos)",id:"despu\xe9s-de-la-ejecuci\xf3n-paralela-8-hilos",level:3},{value:"Siguientes Pasos",id:"siguientes-pasos",level:2},{value:"Recursos Adicionales",id:"recursos-adicionales",level:2}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ejecutando-escenarios-cucumber-en-paralelo",children:"Ejecutando Escenarios Cucumber en Paralelo"})}),"\n",(0,r.jsx)(n.p,{children:"Ejecutar escenarios Cucumber en paralelo puede reducir dr\xe1sticamente el tiempo de ejecuci\xf3n de las pruebas. Esta gu\xeda explica c\xf3mo configurar y optimizar la ejecuci\xf3n paralela con Serenity BDD y JUnit 5."}),"\n",(0,r.jsx)(n.h2,{id:"descripci\xf3n-general",children:"Descripci\xf3n General"}),"\n",(0,r.jsx)(n.p,{children:"La ejecuci\xf3n paralela en Cucumber con JUnit 5 est\xe1 impulsada por el Cucumber JUnit Platform Engine, que se integra con las capacidades de ejecuci\xf3n de pruebas paralelas de JUnit 5. Cuando se configura correctamente, m\xfaltiples escenarios pueden ejecutarse simult\xe1neamente, aprovechando los procesadores de m\xfaltiples n\xfacleos."}),"\n",(0,r.jsx)(n.h2,{id:"prerrequisitos",children:"Prerrequisitos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Serenity BDD 3.6.0 o superior"}),"\n",(0,r.jsx)(n.li,{children:"JUnit 5"}),"\n",(0,r.jsx)(n.li,{children:"Cucumber JUnit Platform Engine"}),"\n",(0,r.jsx)(n.li,{children:"C\xf3digo de prueba seguro para hilos"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n-b\xe1sica",children:"Configuraci\xf3n B\xe1sica"}),"\n",(0,r.jsx)(n.h3,{id:"paso-1-agregar-dependencias-requeridas",children:"Paso 1: Agregar Dependencias Requeridas"}),"\n",(0,r.jsx)(n.p,{children:"Aseg\xfarate de tener la dependencia del Cucumber JUnit Platform Engine:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>io.cucumber</groupId>\n    <artifactId>cucumber-junit-platform-engine</artifactId>\n    <version>7.33.0</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.platform</groupId>\n    <artifactId>junit-platform-suite</artifactId>\n    <version>5.10.0</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"paso-2-usar-el-reporter-paralelo",children:"Paso 2: Usar el Reporter Paralelo"}),"\n",(0,r.jsx)(n.admonition,{title:"Importante",type:"warning",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Debes"})," usar ",(0,r.jsx)(n.code,{children:"SerenityReporterParallel"})," para la ejecuci\xf3n paralela, no ",(0,r.jsx)(n.code,{children:"SerenityReporter"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"Actualiza tu suite de pruebas para usar el reporter seguro para paralelo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import org.junit.platform.suite.api.*;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines("cucumber")\n@SelectClasspathResource("features")\n@ConfigurationParameter(\n    key = PLUGIN_PROPERTY_NAME,\n    value = "net.serenitybdd.cucumber.core.plugin.SerenityReporterParallel"\n)\nclass CucumberTestSuite {\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"paso-3-configurar-la-ejecuci\xf3n-paralela",children:"Paso 3: Configurar la Ejecuci\xf3n Paralela"}),"\n",(0,r.jsxs)(n.p,{children:["Crea o actualiza ",(0,r.jsx)(n.code,{children:"junit-platform.properties"})," en ",(0,r.jsx)(n.code,{children:"src/test/resources"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Habilitar ejecuci\xf3n paralela\ncucumber.execution.parallel.enabled=true\n\n# Usar estrategia din\xe1mica (recomendado)\ncucumber.execution.parallel.config.strategy=dynamic\n\n# Configurar el reporter de Serenity\ncucumber.plugin=net.serenitybdd.cucumber.core.plugin.SerenityReporterParallel\n"})}),"\n",(0,r.jsx)(n.h2,{id:"estrategias-de-ejecuci\xf3n",children:"Estrategias de Ejecuci\xf3n"}),"\n",(0,r.jsx)(n.h3,{id:"estrategia-din\xe1mica-recomendada",children:"Estrategia Din\xe1mica (Recomendada)"}),"\n",(0,r.jsx)(n.p,{children:"La estrategia din\xe1mica determina autom\xe1ticamente el n\xfamero de hilos bas\xe1ndose en los procesadores disponibles:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=dynamic\ncucumber.execution.parallel.config.dynamic.factor=1.0\n"})}),"\n",(0,r.jsxs)(n.p,{children:["El ",(0,r.jsx)(n.code,{children:"factor"})," es un multiplicador para el n\xfamero de procesadores disponibles:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"1.0"})," = mismo n\xfamero de hilos que procesadores (recomendado)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"0.5"})," = la mitad del n\xfamero de procesadores"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"2.0"})," = el doble del n\xfamero de procesadores"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Ejemplo:"})," En una m\xe1quina con 8 n\xfacleos:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Factor ",(0,r.jsx)(n.code,{children:"1.0"})," = 8 hilos"]}),"\n",(0,r.jsxs)(n.li,{children:["Factor ",(0,r.jsx)(n.code,{children:"0.5"})," = 4 hilos"]}),"\n",(0,r.jsxs)(n.li,{children:["Factor ",(0,r.jsx)(n.code,{children:"2.0"})," = 16 hilos"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"estrategia-fija",children:"Estrategia Fija"}),"\n",(0,r.jsx)(n.p,{children:"La estrategia fija usa un n\xfamero especificado de hilos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=4\ncucumber.execution.parallel.config.fixed.max-pool-size=4\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"parallelism"})," - N\xfamero de hilos concurrentes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max-pool-size"})," - Tama\xf1o m\xe1ximo del pool de hilos"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usar cuando:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Necesitas conteos de hilos consistentes y predecibles"}),"\n",(0,r.jsx)(n.li,{children:"Ejecutas en infraestructura CI/CD compartida"}),"\n",(0,r.jsx)(n.li,{children:"Depuras problemas de ejecuci\xf3n paralela"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"estrategia-personalizada",children:"Estrategia Personalizada"}),"\n",(0,r.jsx)(n.p,{children:"Para casos de uso avanzados, puedes implementar una estrategia personalizada:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=custom\ncucumber.execution.parallel.config.custom.class=com.example.MyParallelStrategy\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ejemplo-de-configuraci\xf3n-completa",children:"Ejemplo de Configuraci\xf3n Completa"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"junit-platform.properties:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Ejecuci\xf3n paralela\ncucumber.execution.parallel.enabled=true\ncucumber.execution.parallel.config.strategy=dynamic\ncucumber.execution.parallel.config.dynamic.factor=1.0\n\n# Reporter de Serenity\ncucumber.plugin=net.serenitybdd.cucumber.core.plugin.SerenityReporterParallel\n\n# Opcional: Controlar orden de ejecuci\xf3n\ncucumber.execution.order=random\n\n# Opcional: Fallar r\xe1pido\ncucumber.execution.fail-fast=false\n"})}),"\n",(0,r.jsx)(n.h2,{id:"consideraciones-de-seguridad-de-hilos",children:"Consideraciones de Seguridad de Hilos"}),"\n",(0,r.jsx)(n.h3,{id:"gesti\xf3n-de-webdriver",children:"Gesti\xf3n de WebDriver"}),"\n",(0,r.jsxs)(n.p,{children:["El WebDriver ",(0,r.jsx)(n.code,{children:"@Managed"})," de Serenity es autom\xe1ticamente seguro para hilos cuando se usa ejecuci\xf3n paralela:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass WebDriverSteps {\n\n    @Managed\n    WebDriver driver;  // Seguro para hilos - cada hilo obtiene su propia instancia\n\n    @Given("I am on the home page")\n    public void navigateToHomePage() {\n        driver.get("https://example.com");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Cada hilo tendr\xe1 su propia instancia de WebDriver aislada."}),"\n",(0,r.jsx)(n.h3,{id:"seguridad-de-hilos-en-step-definition",children:"Seguridad de Hilos en Step Definition"}),"\n",(0,r.jsx)(n.p,{children:"Las clases de Step Definition deben ser seguras para hilos:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Seguro para Hilos (Recomendado):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class LoginSteps {\n\n    @Given("{actor} is on the login page")\n    public void navigateToLoginPage(Actor actor) {\n        actor.attemptsTo(\n            Navigate.to("/login")\n        );\n    }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"NO Seguro para Hilos:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class LoginSteps {\n\n    private String username;  // Estado compartido - NO seguro para hilos!\n\n    @Given("user enters username {string}")\n    public void enterUsername(String user) {\n        this.username = user;  // Condici\xf3n de carrera!\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usando-contexto-de-escenario",children:"Usando Contexto de Escenario"}),"\n",(0,r.jsx)(n.p,{children:"Para compartir datos dentro de un escenario, usa el contexto de escenario de Cucumber:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class CheckoutSteps {\n\n    private final ScenarioContext context;\n\n    public CheckoutSteps(ScenarioContext context) {\n        this.context = context;  // Inyectado por escenario\n    }\n\n    @When("I add item to cart")\n    public void addItem() {\n        context.put("cartTotal", calculateTotal());\n    }\n\n    @Then("cart total should be correct")\n    public void verifyTotal() {\n        Double total = context.get("cartTotal", Double.class);\n        // Verificar total\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"controlando-el-paralelismo",children:"Controlando el Paralelismo"}),"\n",(0,r.jsx)(n.h3,{id:"paralelo-en-diferentes-niveles",children:"Paralelo en Diferentes Niveles"}),"\n",(0,r.jsx)(n.p,{children:"Puedes controlar qu\xe9 se ejecuta en paralelo:"}),"\n",(0,r.jsx)(n.h4,{id:"paralelismo-a-nivel-de-escenario-por-defecto",children:"Paralelismo a Nivel de Escenario (Por Defecto)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Cada escenario se ejecuta en su propio hilo\ncucumber.execution.parallel.enabled=true\n"})}),"\n",(0,r.jsx)(n.h4,{id:"paralelismo-a-nivel-de-feature",children:"Paralelismo a Nivel de Feature"}),"\n",(0,r.jsx)(n.p,{children:"Para ejecutar Feature en paralelo pero escenarios dentro de una Feature secuencialmente, necesitas configurar JUnit Platform:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"junit-platform.properties:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=concurrent\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\n"})}),"\n",(0,r.jsx)(n.h3,{id:"limitando-escenarios-concurrentes",children:"Limitando Escenarios Concurrentes"}),"\n",(0,r.jsx)(n.p,{children:"Controla el n\xfamero m\xe1ximo de escenarios concurrentes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=4\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ejecuci\xf3n-paralela-con-etiquetas",children:"Ejecuci\xf3n Paralela con Etiquetas"}),"\n",(0,r.jsx)(n.p,{children:"Puedes ejecutar etiquetas espec\xedficas en paralelo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Suite\n@IncludeEngines("cucumber")\n@SelectClasspathResource("features")\n@ConfigurationParameter(\n    key = PLUGIN_PROPERTY_NAME,\n    value = "net.serenitybdd.cucumber.core.plugin.SerenityReporterParallel"\n)\n@ConfigurationParameter(\n    key = FILTER_TAGS_PROPERTY_NAME,\n    value = "@parallel"\n)\nclass ParallelTestSuite {\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"O excluir escenarios de la ejecuci\xf3n paralela:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.filter.tags=not @serial\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n-de-mavengradle",children:"Configuraci\xf3n de Maven/Gradle"}),"\n",(0,r.jsx)(n.h3,{id:"plugin-maven-surefire",children:"Plugin Maven Surefire"}),"\n",(0,r.jsx)(n.p,{children:"Configura Maven para soportar ejecuci\xf3n paralela:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-surefire-plugin</artifactId>\n            <version>3.0.0</version>\n            <configuration>\n                <skip>true</skip>\n            </configuration>\n        </plugin>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-failsafe-plugin</artifactId>\n            <version>3.0.0</version>\n            <configuration>\n                <includes>\n                    <include>**/*TestSuite.java</include>\n                </includes>\n                <systemPropertyVariables>\n                    <webdriver.driver>${webdriver.driver}</webdriver.driver>\n                </systemPropertyVariables>\n            </configuration>\n            <executions>\n                <execution>\n                    <goals>\n                        <goal>integration-test</goal>\n                        <goal>verify</goal>\n                    </goals>\n                </execution>\n            </executions>\n        </plugin>\n    </plugins>\n</build>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuraci\xf3n-de-gradle",children:"Configuraci\xf3n de Gradle"}),"\n",(0,r.jsx)(n.p,{children:"Para Gradle:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-groovy",children:"test {\n    useJUnitPlatform()\n    maxParallelForks = Runtime.runtime.availableProcessors()\n\n    systemProperty 'cucumber.execution.parallel.enabled', 'true'\n    systemProperty 'cucumber.execution.parallel.config.strategy', 'dynamic'\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"optimizaci\xf3n-de-rendimiento",children:"Optimizaci\xf3n de Rendimiento"}),"\n",(0,r.jsx)(n.h3,{id:"1-elegir-la-estrategia-correcta",children:"1. Elegir la Estrategia Correcta"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Suites de prueba peque\xf1as"})," (<50 escenarios): Estrategia fija con 2-4 hilos"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Suites de prueba medianas"})," (50-200 escenarios): Estrategia din\xe1mica con factor 1.0"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Suites de prueba grandes"})," (>200 escenarios): Estrategia din\xe1mica con factor 0.75-1.0"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-optimizar-el-dise\xf1o-de-escenarios",children:"2. Optimizar el Dise\xf1o de Escenarios"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mant\xe9n los escenarios independientes"})," - Sin estado compartido entre escenarios"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Minimiza el tiempo de configuraci\xf3n"})," - Usa hooks Before eficientes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Evita los sleeps"})," - Usa esperas expl\xedcitas en su lugar"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limpia los recursos"})," - Usa hooks After correctamente"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-gesti\xf3n-de-recursos",children:"3. Gesti\xf3n de Recursos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Controla el tama\xf1o del pool de hilos para evitar agotamiento de recursos\ncucumber.execution.parallel.config.fixed.max-pool-size=8\n\n# Evita demasiados navegadores concurrentes\nwebdriver.pool.max=10\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-monitorear-el-uso-de-recursos",children:"4. Monitorear el Uso de Recursos"}),"\n",(0,r.jsx)(n.p,{children:"Vigila:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Utilizaci\xf3n de CPU (deber\xeda estar cerca del 100% para rendimiento \xf3ptimo)"}),"\n",(0,r.jsx)(n.li,{children:"Consumo de memoria (cada instancia de navegador usa RAM)"}),"\n",(0,r.jsx)(n.li,{children:"Ancho de banda de red (para WebDriver remoto)"}),"\n",(0,r.jsx)(n.li,{children:"Conexiones a base de datos (si aplica)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"depurando-pruebas-paralelas",children:"Depurando Pruebas Paralelas"}),"\n",(0,r.jsx)(n.h3,{id:"deshabilitar-la-ejecuci\xf3n-paralela-temporalmente",children:"Deshabilitar la Ejecuci\xf3n Paralela Temporalmente"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.enabled=false\n"})}),"\n",(0,r.jsx)(n.p,{children:"O v\xeda l\xednea de comandos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mvn clean verify -Dcucumber.execution.parallel.enabled=false\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejecutar-con-menos-hilos",children:"Ejecutar con Menos Hilos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registro-detallado",children:"Registro Detallado"}),"\n",(0,r.jsx)(n.p,{children:"Habilita registro detallado para diagnosticar problemas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Ubicaci\xf3n del archivo de log\ncucumber.plugin=pretty,html:target/cucumber-reports.html,json:target/cucumber.json\n\n# Registro de Serenity\nserenity.verbose=true\nserenity.logging=VERBOSE\n"})}),"\n",(0,r.jsx)(n.h2,{id:"problemas-comunes-y-soluciones",children:"Problemas Comunes y Soluciones"}),"\n",(0,r.jsx)(n.h3,{id:"problema-1-pruebas-inestables",children:"Problema 1: Pruebas Inestables"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"S\xedntomas:"})," Las pruebas pasan cuando se ejecutan individualmente pero fallan cuando se ejecutan en paralelo"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Soluciones:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verifica el estado compartido en los Step Definition"}),"\n",(0,r.jsx)(n.li,{children:"Aseg\xfarate de que las instancias de WebDriver est\xe9n correctamente aisladas"}),"\n",(0,r.jsx)(n.li,{children:"Revisa los datos de prueba - evita datos de prueba compartidos"}),"\n",(0,r.jsx)(n.li,{children:"Agrega sincronizaci\xf3n/esperas adecuadas"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problema-2-agotamiento-de-recursos",children:"Problema 2: Agotamiento de Recursos"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"S\xedntomas:"})," Las pruebas se ralentizan o fallan despu\xe9s de un tiempo"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Soluciones:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduce el paralelismo: disminuye el conteo de hilos"}),"\n",(0,r.jsxs)(n.li,{children:["Aumenta el tama\xf1o del heap: ",(0,r.jsx)(n.code,{children:"-Xmx4g"})]}),"\n",(0,r.jsx)(n.li,{children:"Verifica fugas de recursos (conexiones sin cerrar, instancias de navegador)"}),"\n",(0,r.jsx)(n.li,{children:"Monitorea los recursos del sistema"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problema-3-problemas-de-generaci\xf3n-de-reportes",children:"Problema 3: Problemas de Generaci\xf3n de Reportes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"S\xedntomas:"})," Los reportes de Serenity est\xe1n incompletos o corruptos"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Soluciones:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Aseg\xfarate de estar usando ",(0,r.jsx)(n.code,{children:"SerenityReporterParallel"})]}),"\n",(0,r.jsx)(n.li,{children:"Verifica la versi\xf3n de Serenity (3.6.0+)"}),"\n",(0,r.jsx)(n.li,{children:"Verifica que maven-failsafe-plugin est\xe9 configurado correctamente"}),"\n",(0,r.jsx)(n.li,{children:"Verifica condiciones de carrera en el sistema de archivos"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"problema-4-fallos-en-pipeline-cicd",children:"Problema 4: Fallos en Pipeline CI/CD"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"S\xedntomas:"})," Las pruebas fallan solo en CI pero pasan localmente"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Soluciones:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ajusta el conteo de hilos a las capacidades del entorno CI"}),"\n",(0,r.jsx)(n.li,{children:"Usa estrategia fija para comportamiento consistente"}),"\n",(0,r.jsx)(n.li,{children:"Aumenta los timeouts para entornos CI m\xe1s lentos"}),"\n",(0,r.jsx)(n.li,{children:"Verifica los l\xedmites de recursos de CI"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"mejores-pr\xe1cticas",children:"Mejores Pr\xe1cticas"}),"\n",(0,r.jsx)(n.h3,{id:"1-comienza-peque\xf1o",children:"1. Comienza Peque\xf1o"}),"\n",(0,r.jsx)(n.p,{children:"Comienza con 2-4 hilos e incrementa gradualmente:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=2\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-usa-etiquetas-estrat\xe9gicamente",children:"2. Usa Etiquetas Estrat\xe9gicamente"}),"\n",(0,r.jsx)(n.p,{children:"Marca escenarios que no pueden ejecutarse en paralelo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"@serial @database-migration\nScenario: Migrar esquema de base de datos\n  # Este escenario debe ejecutarse solo\n"})}),"\n",(0,r.jsx)(n.p,{children:"Luego excl\xfayelos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"cucumber.filter.tags=not @serial\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-a\xedsla-los-datos-de-prueba",children:"3. A\xedsla los Datos de Prueba"}),"\n",(0,r.jsx)(n.p,{children:"Cada escenario debe crear y limpiar sus propios datos de prueba:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Before\npublic void setupTestData() {\n    // Crea datos de prueba \xfanicos para este escenario\n    String uniqueId = UUID.randomUUID().toString();\n    context.put("testUserId", "user_" + uniqueId);\n}\n\n@After\npublic void cleanupTestData() {\n    // Limpia los datos de prueba de este escenario\n    String userId = context.get("testUserId", String.class);\n    deleteUser(userId);\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-monitorea-y-ajusta",children:"4. Monitorea y Ajusta"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Monitorea los tiempos de ejecuci\xf3n de pruebas"}),"\n",(0,r.jsx)(n.li,{children:"Rastrea las tasas de pruebas inestables"}),"\n",(0,r.jsx)(n.li,{children:"Ajusta el paralelismo bas\xe1ndote en m\xe9tricas"}),"\n",(0,r.jsx)(n.li,{children:"Revisa la utilizaci\xf3n de recursos"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-documenta-la-seguridad-de-hilos",children:"5. Documenta la Seguridad de Hilos"}),"\n",(0,r.jsx)(n.p,{children:"Agrega comentarios para escenarios no seguros para hilos:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:"# @serial - Modifica el estado global de la aplicaci\xf3n\n@serial @admin\nScenario: Actualizar configuraci\xf3n de aplicaci\xf3n\n  Given I am logged in as admin\n  When I change the default language to Spanish\n  Then all users should see Spanish interface\n"})}),"\n",(0,r.jsx)(n.h2,{id:"midiendo-mejoras-de-rendimiento",children:"Midiendo Mejoras de Rendimiento"}),"\n",(0,r.jsx)(n.h3,{id:"antes-de-la-ejecuci\xf3n-paralela",children:"Antes de la Ejecuci\xf3n Paralela"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Total de escenarios: 100\nTiempo de ejecuci\xf3n: 50 minutos\n"})}),"\n",(0,r.jsx)(n.h3,{id:"despu\xe9s-de-la-ejecuci\xf3n-paralela-8-hilos",children:"Despu\xe9s de la Ejecuci\xf3n Paralela (8 hilos)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Total de escenarios: 100\nTiempo de ejecuci\xf3n: 8 minutos\nAceleraci\xf3n: 6.25x\nEficiencia: 78%\n"})}),"\n",(0,r.jsx)(n.p,{children:"Calcula tu aceleraci\xf3n:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Aceleraci\xf3n = Tiempo Secuencial / Tiempo Paralelo\nEficiencia = Aceleraci\xf3n / N\xfamero de Hilos\n"})}),"\n",(0,r.jsx)(n.h2,{id:"siguientes-pasos",children:"Siguientes Pasos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Revisa la gu\xeda principal de ",(0,r.jsx)(n.a,{href:"cucumber-junit5",children:"Cucumber con JUnit 5"})]}),"\n",(0,r.jsxs)(n.li,{children:["Consulta la ",(0,r.jsx)(n.a,{href:"configuration-reference",children:"Referencia de Configuraci\xf3n"})," para todas las opciones disponibles"]}),"\n",(0,r.jsxs)(n.li,{children:["Mira las ",(0,r.jsx)(n.a,{href:"cucumber-junit5#mejores-pr%C3%A1cticas",children:"Mejores Pr\xe1cticas"})," para escribir pruebas mantenibles"]}),"\n",(0,r.jsxs)(n.li,{children:["Explora la documentaci\xf3n de ",(0,r.jsx)(n.a,{href:"/docs/reporting/the_serenity_reports",children:"Reportes de Serenity"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"recursos-adicionales",children:"Recursos Adicionales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#parallel-execution",children:"Documentaci\xf3n de Ejecuci\xf3n Paralela de Cucumber"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution",children:"Ejecuci\xf3n Paralela en JUnit 5"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://serenity-bdd.info",children:"Consejos de Rendimiento de Serenity BDD"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453(e,n,a){a.d(n,{R:()=>s,x:()=>c});var i=a(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);