"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[9e3],{7218(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"playwright/playwright_screenplay_tutorial","title":"Tutorial: Screenplay with TodoMVC","description":"This tutorial walks through building a Serenity Playwright test suite using the Screenplay Pattern for the TodoMVC application. We\'ll build it iteratively, starting with the fundamentals and progressively adding more sophisticated patterns.","source":"@site/docs/playwright/screenplay-tutorial.md","sourceDirName":"playwright","slug":"/playwright/playwright_screenplay_tutorial","permalink":"/es/docs/playwright/playwright_screenplay_tutorial","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/playwright/screenplay-tutorial.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"playwright_screenplay_tutorial","title":"Tutorial: Screenplay with TodoMVC","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Tutorial: Testing TodoMVC","permalink":"/es/docs/playwright/playwright_tutorial_todomvc"},"next":{"title":"Cucumber Integration","permalink":"/es/docs/playwright/playwright_cucumber"}}');var s=n(4848),i=n(8453);const a={id:"playwright_screenplay_tutorial",title:"Tutorial: Screenplay with TodoMVC",sidebar_position:8},r="Tutorial: Building a Screenplay Test Suite",l={},d=[{value:"What We&#39;re Building",id:"what-were-building",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"Part 1: Our First Test",id:"part-1-our-first-test",level:2},{value:"Step 1: Create the Base Test Class",id:"step-1-create-the-base-test-class",level:3},{value:"Step 2: Define UI Targets",id:"step-2-define-ui-targets",level:3},{value:"Step 3: Create the First Task",id:"step-3-create-the-first-task",level:3},{value:"Step 4: Create the Add Todo Task",id:"step-4-create-the-add-todo-task",level:3},{value:"Step 5: Create a Question",id:"step-5-create-a-question",level:3},{value:"Step 6: Write the Test",id:"step-6-write-the-test",level:3},{value:"Part 2: Expanding Our Test Suite",id:"part-2-expanding-our-test-suite",level:2},{value:"Adding More Targets",id:"adding-more-targets",level:3},{value:"Complete Task",id:"complete-task",level:3},{value:"Delete Task",id:"delete-task",level:3},{value:"Filter Tasks",id:"filter-tasks",level:3},{value:"More Questions",id:"more-questions",level:3},{value:"Part 3: Complete Test Suite",id:"part-3-complete-test-suite",level:2},{value:"Adding Todos Tests",id:"adding-todos-tests",level:3},{value:"Completing Todos Tests",id:"completing-todos-tests",level:3},{value:"Filtering Tests",id:"filtering-tests",level:3},{value:"Deleting Tests",id:"deleting-tests",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"The Screenplay Pattern Benefits",id:"the-screenplay-pattern-benefits",level:3},{value:"Project Structure",id:"project-structure",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"tutorial-building-a-screenplay-test-suite",children:"Tutorial: Building a Screenplay Test Suite"})}),"\n",(0,s.jsxs)(t.p,{children:["This tutorial walks through building a Serenity Playwright test suite using the Screenplay Pattern for the ",(0,s.jsx)(t.a,{href:"https://todomvc.com/examples/react/dist/",children:"TodoMVC application"}),". We'll build it iteratively, starting with the fundamentals and progressively adding more sophisticated patterns."]}),"\n",(0,s.jsx)(t.h2,{id:"what-were-building",children:"What We're Building"}),"\n",(0,s.jsx)(t.p,{children:"By the end of this tutorial, you'll have a complete test suite with:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Targets"})," for all UI elements"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Tasks"})," for user actions (add, complete, delete, filter todos)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Questions"})," to query application state"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Tests"})," using ",(0,s.jsx)(t.code,{children:"Ensure.that()"})," assertions"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,s.jsx)(t.p,{children:"Create a Maven project with these dependencies:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-xml",children:"<properties>\n    <serenity.version>5.1.1</serenity.version>\n    <playwright.version>1.58.0</playwright.version>\n</properties>\n\n<dependencies>\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-screenplay-playwright</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-screenplay</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-ensure</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-junit5</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.microsoft.playwright</groupId>\n        <artifactId>playwright</artifactId>\n        <version>${playwright.version}</version>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>org.junit.jupiter</groupId>\n        <artifactId>junit-jupiter</artifactId>\n        <version>6.0.1</version>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n"})}),"\n",(0,s.jsx)(t.h2,{id:"part-1-our-first-test",children:"Part 1: Our First Test"}),"\n",(0,s.jsx)(t.p,{children:"Let's start with the simplest possible test - adding a single todo item."}),"\n",(0,s.jsx)(t.h3,{id:"step-1-create-the-base-test-class",children:"Step 1: Create the Base Test Class"}),"\n",(0,s.jsx)(t.p,{children:"First, create a base class that sets up our actor with Playwright abilities:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport org.junit.jupiter.api.BeforeEach;\n\npublic abstract class ScreenplayPlaywrightTest {\n\n    protected Actor toby;\n\n    @BeforeEach\n    void setUpPlaywright() {\n        toby = Actor.named("Toby");\n        toby.can(BrowseTheWebWithPlaywright.usingTheDefaultConfiguration());\n    }\n\n    // No @AfterEach needed - BrowseTheWebWithPlaywright automatically\n    // cleans up browser resources when the test finishes\n}\n'})}),"\n",(0,s.jsx)(t.admonition,{title:"Automatic Cleanup",type:"tip",children:(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"BrowseTheWebWithPlaywright"})," ability subscribes to Serenity's test lifecycle events and automatically closes the browser, context, and page when each test completes. You don't need to write any teardown code!"]})}),"\n",(0,s.jsx)(t.h3,{id:"step-2-define-ui-targets",children:"Step 2: Define UI Targets"}),"\n",(0,s.jsx)(t.p,{children:"Create a class to hold all UI element locators:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay.ui;\n\nimport net.serenitybdd.screenplay.playwright.Target;\n\npublic class TodoList {\n\n    public static final Target NEW_TODO_INPUT =\n        Target.the("new todo input")\n              .locatedBy("[placeholder=\'What needs to be done?\']");\n\n    public static final Target TODO_ITEMS =\n        Target.the("todo items")\n              .locatedBy(".todo-list li");\n\n    public static final Target TODO_ITEM_LABELS =\n        Target.the("todo item labels")\n              .locatedBy(".todo-list li label");\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"step-3-create-the-first-task",children:"Step 3: Create the First Task"}),"\n",(0,s.jsx)(t.p,{children:"Create a task to open the TodoMVC application:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.playwright.interactions.Open;\nimport net.serenitybdd.annotations.Step;\n\npublic class OpenTodoMvcApp implements Task {\n\n    private static final String URL = "https://todomvc.com/examples/react/dist/";\n\n    @Override\n    @Step("{0} opens the TodoMVC application")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(Open.url(URL));\n    }\n\n    public static OpenTodoMvcApp onTheHomePage() {\n        return new OpenTodoMvcApp();\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"step-4-create-the-add-todo-task",children:"Step 4: Create the Add Todo Task"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.playwright.interactions.Enter;\nimport net.serenitybdd.screenplay.playwright.interactions.Press;\nimport net.serenitybdd.annotations.Step;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class AddATodoItem implements Task {\n\n    private final String todoItem;\n\n    public AddATodoItem(String todoItem) {\n        this.todoItem = todoItem;\n    }\n\n    @Override\n    @Step("{0} adds a todo item called \'#todoItem\'")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Enter.theValue(todoItem).into(TodoList.NEW_TODO_INPUT),\n            Press.keys("Enter")\n        );\n    }\n\n    public static AddATodoItem called(String todoItem) {\n        return new AddATodoItem(todoItem);\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"step-5-create-a-question",children:"Step 5: Create a Question"}),"\n",(0,s.jsx)(t.p,{children:"Create a question to count visible todos:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay.questions;\n\nimport net.serenitybdd.screenplay.Question;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class TheVisibleTodos {\n\n    public static Question<Integer> count() {\n        return Question.about("visible todo count").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.TODO_ITEMS.asSelector())\n                .count()\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"step-6-write-the-test",children:"Step 6: Write the Test"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay;\n\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport net.serenitybdd.screenplay.ensure.Ensure;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport todomvc.screenplay.questions.TheVisibleTodos;\nimport todomvc.screenplay.tasks.AddATodoItem;\nimport todomvc.screenplay.tasks.OpenTodoMvcApp;\n\n@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When adding todos")\nclass WhenAddingTodosTest extends ScreenplayPlaywrightTest {\n\n    @Test\n    @DisplayName("should add a single todo item")\n    void shouldAddSingleTodoItem() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(1)\n        );\n    }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Run it with ",(0,s.jsx)(t.code,{children:"mvn clean verify"})," - you should see a passing test with a Serenity report."]}),"\n",(0,s.jsx)(t.h2,{id:"part-2-expanding-our-test-suite",children:"Part 2: Expanding Our Test Suite"}),"\n",(0,s.jsx)(t.p,{children:"Now let's add more capabilities."}),"\n",(0,s.jsx)(t.h3,{id:"adding-more-targets",children:"Adding More Targets"}),"\n",(0,s.jsxs)(t.p,{children:["Expand the ",(0,s.jsx)(t.code,{children:"TodoList"})," class with more locators:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'public class TodoList {\n\n    // Input elements\n    public static final Target NEW_TODO_INPUT =\n        Target.the("new todo input")\n              .locatedBy("[placeholder=\'What needs to be done?\']");\n\n    // Todo items\n    public static final Target TODO_ITEMS =\n        Target.the("todo items")\n              .locatedBy(".todo-list li");\n\n    public static final Target TODO_ITEM_LABELS =\n        Target.the("todo item labels")\n              .locatedBy(".todo-list li label");\n\n    // Dynamic targets for specific items\n    public static Target todoItemCalled(String text) {\n        return Target.the("todo \'" + text + "\'")\n                     .locatedBy(".todo-list li:has-text(\'" + text + "\')");\n    }\n\n    public static Target checkboxFor(String text) {\n        return Target.the("checkbox for \'" + text + "\'")\n                     .locatedBy(".todo-list li:has-text(\'" + text + "\') .toggle");\n    }\n\n    public static Target deleteButtonFor(String text) {\n        return Target.the("delete button for \'" + text + "\'")\n                     .locatedBy(".todo-list li:has-text(\'" + text + "\') .destroy");\n    }\n\n    // Footer elements\n    public static final Target TODO_COUNT =\n        Target.the("todo count")\n              .locatedBy(".todo-count");\n\n    public static final Target CLEAR_COMPLETED_BUTTON =\n        Target.the("clear completed button")\n              .locatedBy(".clear-completed");\n\n    // Filters\n    public static final Target ALL_FILTER =\n        Target.the("All filter")\n              .locatedBy(".filters a:has-text(\'All\')");\n\n    public static final Target ACTIVE_FILTER =\n        Target.the("Active filter")\n              .locatedBy(".filters a:has-text(\'Active\')");\n\n    public static final Target COMPLETED_FILTER =\n        Target.the("Completed filter")\n              .locatedBy(".filters a:has-text(\'Completed\')");\n\n    public static final Target SELECTED_FILTER =\n        Target.the("selected filter")\n              .locatedBy(".filters a.selected");\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"complete-task",children:"Complete Task"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"package todomvc.screenplay.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.playwright.interactions.Click;\nimport net.serenitybdd.annotations.Step;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class Complete implements Task {\n\n    private final String todoItem;\n\n    public Complete(String todoItem) {\n        this.todoItem = todoItem;\n    }\n\n    @Override\n    @Step(\"{0} completes the todo item '#todoItem'\")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Click.on(TodoList.checkboxFor(todoItem))\n        );\n    }\n\n    public static Complete todoItem(String todoItem) {\n        return new Complete(todoItem);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"delete-task",children:"Delete Task"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"package todomvc.screenplay.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.playwright.interactions.Click;\nimport net.serenitybdd.screenplay.playwright.interactions.Hover;\nimport net.serenitybdd.annotations.Step;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class Delete implements Task {\n\n    private final String todoItem;\n\n    public Delete(String todoItem) {\n        this.todoItem = todoItem;\n    }\n\n    @Override\n    @Step(\"{0} deletes the todo item '#todoItem'\")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Hover.over(TodoList.todoItemCalled(todoItem)),\n            Click.on(TodoList.deleteButtonFor(todoItem))\n        );\n    }\n\n    public static Delete theTodoItem(String todoItem) {\n        return new Delete(todoItem);\n    }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"filter-tasks",children:"Filter Tasks"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'package todomvc.screenplay.tasks;\n\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.playwright.interactions.Click;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class FilterTodos {\n\n    public static Task toShowAll() {\n        return Task.where("{0} filters to show all todos",\n            Click.on(TodoList.ALL_FILTER)\n        );\n    }\n\n    public static Task toShowActive() {\n        return Task.where("{0} filters to show active todos",\n            Click.on(TodoList.ACTIVE_FILTER)\n        );\n    }\n\n    public static Task toShowCompleted() {\n        return Task.where("{0} filters to show completed todos",\n            Click.on(TodoList.COMPLETED_FILTER)\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"more-questions",children:"More Questions"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// TheVisibleTodos.java - expanded\npackage todomvc.screenplay.questions;\n\nimport net.serenitybdd.screenplay.Question;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport todomvc.screenplay.ui.TodoList;\n\nimport java.util.Collection;\n\npublic class TheVisibleTodos {\n\n    public static Question<Collection<String>> displayed() {\n        return Question.about("the visible todos").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.TODO_ITEM_LABELS.asSelector())\n                .allTextContents()\n        );\n    }\n\n    public static Question<Integer> count() {\n        return Question.about("visible todo count").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.TODO_ITEMS.asSelector())\n                .count()\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// TheRemainingCount.java\npackage todomvc.screenplay.questions;\n\nimport net.serenitybdd.screenplay.Question;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport todomvc.screenplay.ui.TodoList;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class TheRemainingCount {\n\n    private static final Pattern COUNT_PATTERN = Pattern.compile("(\\\\d+)");\n\n    public static Question<Integer> value() {\n        return Question.about("the remaining count").answeredBy(actor -> {\n            String text = BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.TODO_COUNT.asSelector())\n                .textContent();\n\n            Matcher matcher = COUNT_PATTERN.matcher(text);\n            return matcher.find() ? Integer.parseInt(matcher.group(1)) : 0;\n        });\n    }\n}\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// TheCurrentFilter.java\npackage todomvc.screenplay.questions;\n\nimport net.serenitybdd.screenplay.Question;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class TheCurrentFilter {\n\n    public static Question<String> selected() {\n        return Question.about("the current filter").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.SELECTED_FILTER.asSelector())\n                .textContent()\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// TheTodoItem.java - fluent question builder\npackage todomvc.screenplay.questions;\n\nimport net.serenitybdd.screenplay.Question;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport todomvc.screenplay.ui.TodoList;\n\npublic class TheTodoItem {\n\n    private final String todoItem;\n\n    public TheTodoItem(String todoItem) {\n        this.todoItem = todoItem;\n    }\n\n    public static TheTodoItem called(String todoItem) {\n        return new TheTodoItem(todoItem);\n    }\n\n    public Question<Boolean> exists() {\n        String item = todoItem;\n        return Question.about("whether \'" + item + "\' exists").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.todoItemCalled(item).asSelector())\n                .count() > 0\n        );\n    }\n\n    public Question<Boolean> isCompleted() {\n        String item = todoItem;\n        return Question.about("whether \'" + item + "\' is completed").answeredBy(\n            actor -> BrowseTheWebWithPlaywright.as(actor)\n                .getCurrentPage()\n                .locator(TodoList.todoItemCalled(item).asSelector())\n                .getAttribute("class")\n                .contains("completed")\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h2,{id:"part-3-complete-test-suite",children:"Part 3: Complete Test Suite"}),"\n",(0,s.jsx)(t.p,{children:"Now we have everything to write a comprehensive test suite:"}),"\n",(0,s.jsx)(t.h3,{id:"adding-todos-tests",children:"Adding Todos Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When adding todos (Screenplay)")\nclass WhenAddingTodosScreenplayTest extends ScreenplayPlaywrightTest {\n\n    @Test\n    @DisplayName("should add a single todo item")\n    void shouldAddSingleTodoItem() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(1),\n            Ensure.that(TheTodoItem.called("Buy milk").exists()).isTrue()\n        );\n    }\n\n    @Test\n    @DisplayName("should add multiple todo items")\n    void shouldAddMultipleTodoItems() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            AddATodoItem.called("Walk the dog"),\n            AddATodoItem.called("Do laundry"),\n            Ensure.that(TheVisibleTodos.displayed())\n                .containsExactly("Buy milk", "Walk the dog", "Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should update remaining count when adding todos")\n    void shouldUpdateRemainingCountWhenAddingTodos() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Task 1"),\n            Ensure.that(TheRemainingCount.value()).isEqualTo(1),\n\n            AddATodoItem.called("Task 2"),\n            Ensure.that(TheRemainingCount.value()).isEqualTo(2),\n\n            AddATodoItem.called("Task 3"),\n            Ensure.that(TheRemainingCount.value()).isEqualTo(3)\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"completing-todos-tests",children:"Completing Todos Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When completing todos (Screenplay)")\nclass WhenCompletingTodosScreenplayTest extends ScreenplayPlaywrightTest {\n\n    @BeforeEach\n    void setupTodos() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            AddATodoItem.called("Walk the dog"),\n            AddATodoItem.called("Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should mark a todo as completed")\n    void shouldMarkTodoAsCompleted() {\n        toby.attemptsTo(\n            Complete.todoItem("Buy milk"),\n            Ensure.that(TheTodoItem.called("Buy milk").isCompleted()).isTrue(),\n            Ensure.that(TheRemainingCount.value()).isEqualTo(2)\n        );\n    }\n\n    @Test\n    @DisplayName("should clear completed todos")\n    void shouldClearCompletedTodos() {\n        toby.attemptsTo(\n            Complete.todoItem("Buy milk"),\n            Complete.todoItem("Walk the dog"),\n            Click.on(TodoList.CLEAR_COMPLETED_BUTTON),\n            Ensure.that(TheVisibleTodos.displayed()).containsExactly("Do laundry"),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(1)\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"filtering-tests",children:"Filtering Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When filtering todos (Screenplay)")\nclass WhenFilteringTodosScreenplayTest extends ScreenplayPlaywrightTest {\n\n    @BeforeEach\n    void setupTodos() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            AddATodoItem.called("Walk the dog"),\n            AddATodoItem.called("Do laundry"),\n            Complete.todoItem("Walk the dog")\n        );\n    }\n\n    @Test\n    @DisplayName("should show all todos by default")\n    void shouldShowAllTodosByDefault() {\n        toby.attemptsTo(\n            Ensure.that(TheCurrentFilter.selected()).isEqualTo("All"),\n            Ensure.that(TheVisibleTodos.displayed())\n                .containsExactly("Buy milk", "Walk the dog", "Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should filter to show only active todos")\n    void shouldFilterToShowOnlyActiveTodos() {\n        toby.attemptsTo(\n            FilterTodos.toShowActive(),\n            Ensure.that(TheCurrentFilter.selected()).isEqualTo("Active"),\n            Ensure.that(TheVisibleTodos.displayed())\n                .containsExactly("Buy milk", "Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should filter to show only completed todos")\n    void shouldFilterToShowOnlyCompletedTodos() {\n        toby.attemptsTo(\n            FilterTodos.toShowCompleted(),\n            Ensure.that(TheCurrentFilter.selected()).isEqualTo("Completed"),\n            Ensure.that(TheVisibleTodos.displayed()).containsExactly("Walk the dog")\n        );\n    }\n\n    @Test\n    @DisplayName("should switch between filters")\n    void shouldSwitchBetweenFilters() {\n        toby.attemptsTo(\n            FilterTodos.toShowActive(),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(2),\n\n            FilterTodos.toShowCompleted(),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(1),\n\n            FilterTodos.toShowAll(),\n            Ensure.that(TheVisibleTodos.count()).isEqualTo(3)\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"deleting-tests",children:"Deleting Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When deleting todos (Screenplay)")\nclass WhenDeletingTodosScreenplayTest extends ScreenplayPlaywrightTest {\n\n    @BeforeEach\n    void setupTodos() {\n        toby.attemptsTo(\n            OpenTodoMvcApp.onTheHomePage(),\n            AddATodoItem.called("Buy milk"),\n            AddATodoItem.called("Walk the dog"),\n            AddATodoItem.called("Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should delete a todo item")\n    void shouldDeleteTodoItem() {\n        toby.attemptsTo(\n            Delete.theTodoItem("Walk the dog"),\n            Ensure.that(TheTodoItem.called("Walk the dog").exists()).isFalse(),\n            Ensure.that(TheVisibleTodos.displayed())\n                .containsExactly("Buy milk", "Do laundry")\n        );\n    }\n\n    @Test\n    @DisplayName("should update the remaining count after deleting")\n    void shouldUpdateRemainingCountAfterDeleting() {\n        toby.attemptsTo(\n            Ensure.that(TheRemainingCount.value()).isEqualTo(3),\n            Delete.theTodoItem("Buy milk"),\n            Ensure.that(TheRemainingCount.value()).isEqualTo(2)\n        );\n    }\n}\n'})}),"\n",(0,s.jsx)(t.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,s.jsx)(t.h3,{id:"the-screenplay-pattern-benefits",children:"The Screenplay Pattern Benefits"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Readability"}),": Tests read like specifications"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'toby.attemptsTo(\n    OpenTodoMvcApp.onTheHomePage(),\n    AddATodoItem.called("Buy milk"),\n    Complete.todoItem("Buy milk"),\n    Ensure.that(TheRemainingCount.value()).isEqualTo(0)\n);\n'})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Reusability"}),": Tasks and Questions can be composed and reused"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Maintainability"}),": Changes to UI are isolated to Target definitions"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Expressiveness"}),": Business intent is clear in every test"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"project-structure",children:"Project Structure"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"src/test/java/\n\u251c\u2500\u2500 todomvc/screenplay/\n\u2502   \u251c\u2500\u2500 ScreenplayPlaywrightTest.java    # Base test class\n\u2502   \u251c\u2500\u2500 WhenAddingTodosTest.java         # Test class\n\u2502   \u251c\u2500\u2500 WhenCompletingTodosTest.java     # Test class\n\u2502   \u251c\u2500\u2500 WhenFilteringTodosTest.java      # Test class\n\u2502   \u251c\u2500\u2500 WhenDeletingTodosTest.java       # Test class\n\u2502   \u251c\u2500\u2500 ui/\n\u2502   \u2502   \u2514\u2500\u2500 TodoList.java                # UI Targets\n\u2502   \u251c\u2500\u2500 tasks/\n\u2502   \u2502   \u251c\u2500\u2500 OpenTodoMvcApp.java\n\u2502   \u2502   \u251c\u2500\u2500 AddATodoItem.java\n\u2502   \u2502   \u251c\u2500\u2500 Complete.java\n\u2502   \u2502   \u251c\u2500\u2500 Delete.java\n\u2502   \u2502   \u2514\u2500\u2500 FilterTodos.java\n\u2502   \u2514\u2500\u2500 questions/\n\u2502       \u251c\u2500\u2500 TheVisibleTodos.java\n\u2502       \u251c\u2500\u2500 TheRemainingCount.java\n\u2502       \u251c\u2500\u2500 TheCurrentFilter.java\n\u2502       \u2514\u2500\u2500 TheTodoItem.java\n"})}),"\n",(0,s.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Learn about ",(0,s.jsx)(t.a,{href:"playwright_screenplay",children:"advanced Screenplay features"})," including network interception and multiple tabs"]}),"\n",(0,s.jsxs)(t.li,{children:["Explore ",(0,s.jsx)(t.a,{href:"playwright_screenplay#playwright-specific-assertions",children:"Playwright-specific assertions"})," with auto-retry"]}),"\n",(0,s.jsxs)(t.li,{children:["See ",(0,s.jsx)(t.a,{href:"playwright_best_practices",children:"Best Practices"})," for production-ready tests"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>r});var o=n(6540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);