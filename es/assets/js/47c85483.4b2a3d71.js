"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[1817],{7392(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"tutorials/data-driven-testing","title":"Pruebas basadas en datos con Serenity BDD","description":"Las pruebas basadas en datos te permiten ejecutar la misma l\xf3gica de prueba con m\xfaltiples conjuntos de datos de entrada, haciendo tus pruebas m\xe1s completas y mantenibles. Esta gu\xeda cubre enfoques de pruebas basadas en datos tanto con JUnit 5 como con Cucumber.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/tutorials/data-driven-testing.md","sourceDirName":"tutorials","slug":"/tutorials/data-driven-testing","permalink":"/es/docs/tutorials/data-driven-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/data-driven-testing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"data-driven-testing","title":"Pruebas basadas en datos con Serenity BDD","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Pruebas completas de API REST","permalink":"/es/docs/tutorials/rest-api-testing"},"next":{"title":"Migraci\xf3n de Serenity BDD 3.x a Serenity BDD 4.x","permalink":"/es/docs/tutorials/migrating_to_serenity_4"}}');var a=s(4848),i=s(8453);const t={id:"data-driven-testing",title:"Pruebas basadas en datos con Serenity BDD",sidebar_position:5},o="Pruebas basadas en datos con Serenity BDD",d={},l=[{value:"Prerrequisitos",id:"prerrequisitos",level:2},{value:"\xbfPor qu\xe9 pruebas basadas en datos?",id:"por-qu\xe9-pruebas-basadas-en-datos",level:2},{value:"Pruebas parametrizadas con JUnit 5",id:"pruebas-parametrizadas-con-junit-5",level:2},{value:"Configuraci\xf3n b\xe1sica",id:"configuraci\xf3n-b\xe1sica",level:3},{value:"Fuentes de valores simples",id:"fuentes-de-valores-simples",level:3},{value:"CSV Source - Datos en l\xednea",id:"csv-source---datos-en-l\xednea",level:3},{value:"CSV Source con delimitador personalizado",id:"csv-source-con-delimitador-personalizado",level:3},{value:"CSV File Source - Datos externos",id:"csv-file-source---datos-externos",level:3},{value:"Method Source - Objetos complejos",id:"method-source---objetos-complejos",level:3},{value:"Method Source desde clase externa",id:"method-source-desde-clase-externa",level:3},{value:"Enum Source",id:"enum-source",level:3},{value:"Nombres de visualizaci\xf3n personalizados",id:"nombres-de-visualizaci\xf3n-personalizados",level:3},{value:"Scenario Outline de Cucumber",id:"scenario-outline-de-cucumber",level:2},{value:"Scenario Outline b\xe1sico",id:"scenario-outline-b\xe1sico",level:3},{value:"Step Definition con Screenplay",id:"step-definition-con-screenplay",level:3},{value:"M\xfaltiples tablas de Examples",id:"m\xfaltiples-tablas-de-examples",level:3},{value:"Tablas de datos",id:"tablas-de-datos",level:3},{value:"Archivos de datos externos con Cucumber",id:"archivos-de-datos-externos-con-cucumber",level:3},{value:"Fuentes de datos externos",id:"fuentes-de-datos-externos",level:2},{value:"Lectura desde archivos CSV",id:"lectura-desde-archivos-csv",level:3},{value:"Lectura desde archivos JSON",id:"lectura-desde-archivos-json",level:3},{value:"Lectura desde archivos Excel",id:"lectura-desde-archivos-excel",level:3},{value:"Constructores de datos de prueba",id:"constructores-de-datos-de-prueba",level:2},{value:"Uso de Faker para datos aleatorios",id:"uso-de-faker-para-datos-aleatorios",level:2},{value:"Mejores pr\xe1cticas",id:"mejores-pr\xe1cticas",level:2},{value:"1. Mant\xe9n los datos de prueba cerca de las pruebas",id:"1-mant\xe9n-los-datos-de-prueba-cerca-de-las-pruebas",level:3},{value:"2. Usa nombres de prueba significativos",id:"2-usa-nombres-de-prueba-significativos",level:3},{value:"3. Valida los datos de prueba",id:"3-valida-los-datos-de-prueba",level:3},{value:"4. A\xedsla los datos de prueba",id:"4-a\xedsla-los-datos-de-prueba",level:3},{value:"5. Documenta los requisitos de datos",id:"5-documenta-los-requisitos-de-datos",level:3},{value:"6. Separa datos v\xe1lidos e inv\xe1lidos",id:"6-separa-datos-v\xe1lidos-e-inv\xe1lidos",level:3},{value:"Ejemplo completo: Pruebas de comercio electr\xf3nico",id:"ejemplo-completo-pruebas-de-comercio-electr\xf3nico",level:2},{value:"Soluci\xf3n de problemas",id:"soluci\xf3n-de-problemas",level:2},{value:"Problema: Las pruebas parametrizadas no se ejecutan",id:"problema-las-pruebas-parametrizadas-no-se-ejecutan",level:3},{value:"Problema: Los datos CSV no se cargan",id:"problema-los-datos-csv-no-se-cargan",level:3},{value:"Problema: Los datos aparecen en orden incorrecto",id:"problema-los-datos-aparecen-en-orden-incorrecto",level:3},{value:"Siguientes pasos",id:"siguientes-pasos",level:2},{value:"Recursos adicionales",id:"recursos-adicionales",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"pruebas-basadas-en-datos-con-serenity-bdd",children:"Pruebas basadas en datos con Serenity BDD"})}),"\n",(0,a.jsx)(n.p,{children:"Las pruebas basadas en datos te permiten ejecutar la misma l\xf3gica de prueba con m\xfaltiples conjuntos de datos de entrada, haciendo tus pruebas m\xe1s completas y mantenibles. Esta gu\xeda cubre enfoques de pruebas basadas en datos tanto con JUnit 5 como con Cucumber."}),"\n",(0,a.jsx)(n.h2,{id:"prerrequisitos",children:"Prerrequisitos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Java 17 o superior"}),"\n",(0,a.jsx)(n.li,{children:"Serenity BDD 5.2.2 o superior"}),"\n",(0,a.jsx)(n.li,{children:"JUnit 5 6.0.1 o superior (para ejemplos de JUnit)"}),"\n",(0,a.jsx)(n.li,{children:"Cucumber 7.33.0 o superior (para ejemplos de Cucumber)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"por-qu\xe9-pruebas-basadas-en-datos",children:"\xbfPor qu\xe9 pruebas basadas en datos?"}),"\n",(0,a.jsx)(n.p,{children:"Las pruebas basadas en datos te ayudan a:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Probar m\xfaltiples escenarios"})," con m\xednima duplicaci\xf3n de c\xf3digo"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Mejorar la cobertura de pruebas"})," probando casos l\xedmite y valores frontera"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Separar la l\xf3gica de prueba de los datos de prueba"})," para mejor mantenibilidad"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Hacer las pruebas m\xe1s legibles"})," mostrando claramente qu\xe9 var\xeda entre casos de prueba"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"pruebas-parametrizadas-con-junit-5",children:"Pruebas parametrizadas con JUnit 5"}),"\n",(0,a.jsxs)(n.p,{children:["JUnit 5 proporciona potentes capacidades de pruebas parametrizadas a trav\xe9s de ",(0,a.jsx)(n.code,{children:"@ParameterizedTest"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"configuraci\xf3n-b\xe1sica",children:"Configuraci\xf3n b\xe1sica"}),"\n",(0,a.jsx)(n.p,{children:"Primero, agrega la dependencia de par\xe1metros de JUnit Jupiter:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-params</artifactId>\n    <version>6.0.1</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"fuentes-de-valores-simples",children:"Fuentes de valores simples"}),"\n",(0,a.jsxs)(n.p,{children:["Usa ",(0,a.jsx)(n.code,{children:"@ValueSource"})," para tipos de datos simples:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.annotations.Managed;\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.openqa.selenium.WebDriver;\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass SearchTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @ParameterizedTest\n    @ValueSource(strings = {"Selenium", "Cucumber", "JUnit 5"})\n    void shouldFindSearchResults(String searchTerm) {\n        // Navegar a la p\xe1gina de b\xfasqueda\n        driver.get("https://duckduckgo.com");\n\n        // Realizar b\xfasqueda con cada t\xe9rmino\n        SearchPage searchPage = new SearchPage(driver);\n        searchPage.searchFor(searchTerm);\n\n        // Verificar resultados\n        assertThat(searchPage.getResults()).isNotEmpty();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Tipos soportados para @ValueSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"strings"})," - Valores String"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ints"})," - Valores Integer"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"longs"})," - Valores Long"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"doubles"})," - Valores Double"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"booleans"})," - Valores Boolean"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"csv-source---datos-en-l\xednea",children:"CSV Source - Datos en l\xednea"}),"\n",(0,a.jsxs)(n.p,{children:["Usa ",(0,a.jsx)(n.code,{children:"@CsvSource"})," para m\xfaltiples par\xe1metros por caso de prueba:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @Steps\n    LoginActions loginActions;\n\n    @ParameterizedTest\n    @CsvSource({\n        "standard_user,     secret_sauce,  true",\n        "locked_out_user,  secret_sauce,  false",\n        "problem_user,     secret_sauce,  true",\n        "invalid_user,     wrong_password, false"\n    })\n    void shouldHandleLoginScenarios(String username, String password, boolean shouldSucceed) {\n        loginActions.navigateToLoginPage();\n        loginActions.loginWith(username, password);\n\n        if (shouldSucceed) {\n            loginActions.shouldSeeProductsPage();\n        } else {\n            loginActions.shouldSeeErrorMessage();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Consejos para @CsvSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Los valores est\xe1n separados por comas por defecto"}),"\n",(0,a.jsxs)(n.li,{children:["Usa comillas simples para cadenas que contengan comas: ",(0,a.jsx)(n.code,{children:"'valor, con, comas'"})]}),"\n",(0,a.jsx)(n.li,{children:"Los valores vac\xedos se tratan como null"}),"\n",(0,a.jsx)(n.li,{children:"Los espacios en blanco se eliminan por defecto"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"csv-source-con-delimitador-personalizado",children:"CSV Source con delimitador personalizado"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest\n@CsvSource(delimiter = \'|\', value = {\n    "Alice | alice@example.com | Premium",\n    "Bob   | bob@example.com   | Standard",\n    "Carol | carol@example.com | Basic"\n})\nvoid shouldHandleDifferentUserTypes(String name, String email, String accountType) {\n    // Implementaci\xf3n del test\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"csv-file-source---datos-externos",children:"CSV File Source - Datos externos"}),"\n",(0,a.jsx)(n.p,{children:"Almacena datos de prueba en archivos CSV externos para mejor mantenibilidad:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"src/test/resources/test-data/users.csv:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"username,password,email,expectedRole\nadmin,admin123,admin@example.com,ADMIN\nuser1,password1,user1@example.com,USER\nuser2,password2,user2@example.com,USER\nguest,guest123,guest@example.com,GUEST\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass UserRegistrationTests {\n\n    @Steps\n    RegistrationActions registration;\n\n    @ParameterizedTest\n    @CsvFileSource(resources = "/test-data/users.csv", numLinesToSkip = 1)\n    void shouldRegisterUsers(String username, String password, String email, String expectedRole) {\n        registration.registerNewUser(username, password, email);\n        registration.shouldHaveRole(expectedRole);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opciones de @CsvFileSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"resources"})," - Ruta al archivo CSV (relativa a src/test/resources)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"numLinesToSkip"})," - Omitir fila de encabezado (t\xedpicamente 1)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"delimiter"})," - Delimitador personalizado (por defecto es coma)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"encoding"})," - Codificaci\xf3n del archivo (por defecto es UTF-8)"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"method-source---objetos-complejos",children:"Method Source - Objetos complejos"}),"\n",(0,a.jsxs)(n.p,{children:["Usa ",(0,a.jsx)(n.code,{children:"@MethodSource"})," para datos de prueba complejos o cuando necesites m\xe1s control:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ProductTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest\n    @MethodSource("productTestData")\n    void shouldAddProductToCart(Product product, int quantity, double expectedTotal) {\n        shopping.addToCart(product, quantity);\n        shopping.shouldShowTotal(expectedTotal);\n    }\n\n    static Stream<Arguments> productTestData() {\n        return Stream.of(\n            Arguments.of(new Product("Laptop", 999.99), 1, 999.99),\n            Arguments.of(new Product("Mouse", 29.99), 2, 59.98),\n            Arguments.of(new Product("Keyboard", 79.99), 3, 239.97)\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"method-source-desde-clase-externa",children:"Method Source desde clase externa"}),"\n",(0,a.jsx)(n.p,{children:"Organiza los datos de prueba en clases separadas:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'class TestDataProviders {\n\n    static Stream<Arguments> loginScenarios() {\n        return Stream.of(\n            Arguments.of("admin", "admin123", true, "Dashboard"),\n            Arguments.of("user", "user123", true, "Home"),\n            Arguments.of("invalid", "wrong", false, "Login Error")\n        );\n    }\n\n    static Stream<Arguments> searchQueries() {\n        return Stream.of(\n            Arguments.of("Selenium", 10),\n            Arguments.of("Cucumber", 8),\n            Arguments.of("JUnit", 15)\n        );\n    }\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @ParameterizedTest\n    @MethodSource("com.example.TestDataProviders#loginScenarios")\n    void shouldHandleLoginScenarios(String username, String password,\n                                   boolean shouldSucceed, String expectedPage) {\n        // Implementaci\xf3n del test\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"enum-source",children:"Enum Source"}),"\n",(0,a.jsx)(n.p,{children:"Prueba con valores de enum:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'enum UserRole {\n    ADMIN, MANAGER, USER, GUEST\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass RoleBasedTests {\n\n    @ParameterizedTest\n    @EnumSource(UserRole.class)\n    void shouldHandleAllUserRoles(UserRole role) {\n        // Probar cada rol\n    }\n\n    @ParameterizedTest\n    @EnumSource(value = UserRole.class, names = {"ADMIN", "MANAGER"})\n    void shouldAllowAdminActions(UserRole role) {\n        // Probar solo roles admin y manager\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"nombres-de-visualizaci\xf3n-personalizados",children:"Nombres de visualizaci\xf3n personalizados"}),"\n",(0,a.jsx)(n.p,{children:"Haz los reportes de pruebas m\xe1s legibles:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest(name = "Buscar \'\'{0}\'\' deber\xeda retornar al menos {1} resultados")\n@CsvSource({\n    "Selenium, 10",\n    "Cucumber, 5",\n    "JUnit,    8"\n})\nvoid searchTests(String term, int minimumResults) {\n    // Implementaci\xf3n del test\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Los marcadores ",(0,a.jsx)(n.code,{children:"{0}"}),", ",(0,a.jsx)(n.code,{children:"{1}"})," corresponden a las posiciones de los par\xe1metros."]}),"\n",(0,a.jsx)(n.h2,{id:"scenario-outline-de-cucumber",children:"Scenario Outline de Cucumber"}),"\n",(0,a.jsx)(n.p,{children:"Cucumber proporciona Scenario Outline para pruebas BDD basadas en datos."}),"\n",(0,a.jsx)(n.h3,{id:"scenario-outline-b\xe1sico",children:"Scenario Outline b\xe1sico"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"features/login.feature:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Feature: User Login\n\n  Scenario Outline: Login with different credentials\n    Given the user is on the login page\n    When the user logs in with username "<username>" and password "<password>"\n    Then the login should <result>\n    And the user should see the "<page>" page\n\n    Examples:\n      | username      | password     | result  | page      |\n      | standard_user | secret_sauce | succeed | Products  |\n      | locked_user   | secret_sauce | fail    | Login     |\n      | invalid_user  | wrong_pass   | fail    | Login     |\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-definition-con-screenplay",children:"Step Definition con Screenplay"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import io.cucumber.java.en.*;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.abilities.BrowseTheWeb;\nimport net.serenitybdd.screenplay.actions.Open;\nimport static net.serenitybdd.screenplay.GivenWhenThen.*;\n\npublic class LoginStepDefinitions {\n\n    @Given("{actor} is on the login page")\n    public void userIsOnLoginPage(Actor actor) {\n        actor.attemptsTo(\n            Open.url("https://www.saucedemo.com")\n        );\n    }\n\n    @When("{actor} logs in with username {string} and password {string}")\n    public void userLogsIn(Actor actor, String username, String password) {\n        actor.attemptsTo(\n            Login.withCredentials(username, password)\n        );\n    }\n\n    @Then("the login should {word}")\n    public void verifyLoginResult(String result) {\n        // Verificaci\xf3n basada en el resultado\n    }\n\n    @Then("{actor} should see the {string} page")\n    public void verifiesPage(Actor actor, String expectedPage) {\n        actor.should(\n            seeThat(TheCurrentPage.title(), containsString(expectedPage))\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"m\xfaltiples-tablas-de-examples",children:"M\xfaltiples tablas de Examples"}),"\n",(0,a.jsx)(n.p,{children:"Usa m\xfaltiples tablas de Examples para organizar diferentes escenarios de prueba:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Feature: Shopping Cart\n\n  Scenario Outline: Add products to cart\n    Given the user is logged in\n    When the user adds "<product>" with quantity <quantity>\n    Then the cart total should be <total>\n\n    Examples: Single items\n      | product  | quantity | total   |\n      | Laptop   | 1        | 999.99  |\n      | Mouse    | 1        | 29.99   |\n      | Keyboard | 1        | 79.99   |\n\n    Examples: Multiple quantities\n      | product  | quantity | total   |\n      | Mouse    | 3        | 89.97   |\n      | Keyboard | 2        | 159.98  |\n'})}),"\n",(0,a.jsx)(n.h3,{id:"tablas-de-datos",children:"Tablas de datos"}),"\n",(0,a.jsx)(n.p,{children:"Para estructuras de datos m\xe1s complejas, usa Data Tables:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:"Feature: Bulk User Registration\n\n  Scenario: Register multiple users\n    Given the admin is logged in\n    When the admin registers the following users:\n      | username | email              | role    |\n      | alice    | alice@example.com  | Admin   |\n      | bob      | bob@example.com    | User    |\n      | charlie  | charlie@example.com| Manager |\n    Then all users should be created successfully\n"})}),"\n",(0,a.jsx)(n.p,{children:"Step Definition:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@When("the admin registers the following users:")\npublic void registerUsers(DataTable dataTable) {\n    List<Map<String, String>> users = dataTable.asMaps();\n\n    for (Map<String, String> user : users) {\n        String username = user.get("username");\n        String email = user.get("email");\n        String role = user.get("role");\n\n        actor.attemptsTo(\n            RegisterUser.withDetails(username, email, role)\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"archivos-de-datos-externos-con-cucumber",children:"Archivos de datos externos con Cucumber"}),"\n",(0,a.jsx)(n.p,{children:"Carga datos desde archivos externos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Scenario: Register users from CSV\n  Given the admin is logged in\n  When the admin imports users from "test-data/users.csv"\n  Then all users should be registered\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@When("the admin imports users from {string}")\npublic void importUsersFromFile(String filePath) {\n    List<User> users = UserDataLoader.fromCsv(filePath);\n\n    users.forEach(user ->\n        actor.attemptsTo(RegisterUser.with(user))\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"fuentes-de-datos-externos",children:"Fuentes de datos externos"}),"\n",(0,a.jsx)(n.h3,{id:"lectura-desde-archivos-csv",children:"Lectura desde archivos CSV"}),"\n",(0,a.jsx)(n.p,{children:"Crea un lector de CSV reutilizable:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class CsvDataReader {\n\n    public static List<Map<String, String>> readCsv(String filePath) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (BufferedReader reader = new BufferedReader(\n                new FileReader(filePath))) {\n\n            String headerLine = reader.readLine();\n            String[] headers = headerLine.split(",");\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] values = line.split(",");\n                Map<String, String> row = new HashMap<>();\n\n                for (int i = 0; i < headers.length; i++) {\n                    row.put(headers[i].trim(), values[i].trim());\n                }\n                data.add(row);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read CSV file: " + filePath, e);\n        }\n\n        return data;\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"lectura-desde-archivos-json",children:"Lectura desde archivos JSON"}),"\n",(0,a.jsx)(n.p,{children:"Usa Jackson o Gson para leer datos de prueba en JSON:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"src/test/resources/test-data/products.json:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "Laptop",\n    "price": 999.99,\n    "category": "Electronics",\n    "inStock": true\n  },\n  {\n    "name": "Mouse",\n    "price": 29.99,\n    "category": "Accessories",\n    "inStock": true\n  }\n]\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.type.TypeReference;\n\npublic class JsonDataReader {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public static <T> List<T> readJson(String filePath, Class<T> type) {\n        try {\n            InputStream stream = JsonDataReader.class\n                .getResourceAsStream(filePath);\n            return mapper.readValue(stream,\n                mapper.getTypeFactory().constructCollectionType(List.class, type));\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read JSON file: " + filePath, e);\n        }\n    }\n}\n\n// Uso\n@MethodSource("productData")\nstatic Stream<Product> productData() {\n    List<Product> products = JsonDataReader.readJson(\n        "/test-data/products.json",\n        Product.class\n    );\n    return products.stream();\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"lectura-desde-archivos-excel",children:"Lectura desde archivos Excel"}),"\n",(0,a.jsx)(n.p,{children:"Usa Apache POI para archivos Excel:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.poi</groupId>\n    <artifactId>poi-ooxml</artifactId>\n    <version>5.2.3</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelDataReader {\n\n    public static List<Map<String, String>> readExcel(String filePath, String sheetName) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (FileInputStream fis = new FileInputStream(filePath);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheet(sheetName);\n            Row headerRow = sheet.getRow(0);\n\n            for (int i = 1; i <= sheet.getLastRowNum(); i++) {\n                Row row = sheet.getRow(i);\n                Map<String, String> rowData = new HashMap<>();\n\n                for (int j = 0; j < headerRow.getLastCellNum(); j++) {\n                    String header = headerRow.getCell(j).getStringCellValue();\n                    String value = getCellValueAsString(row.getCell(j));\n                    rowData.put(header, value);\n                }\n                data.add(rowData);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read Excel file", e);\n        }\n\n        return data;\n    }\n\n    private static String getCellValueAsString(Cell cell) {\n        if (cell == null) return "";\n\n        switch (cell.getCellType()) {\n            case STRING: return cell.getStringCellValue();\n            case NUMERIC: return String.valueOf(cell.getNumericCellValue());\n            case BOOLEAN: return String.valueOf(cell.getBooleanCellValue());\n            default: return "";\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"constructores-de-datos-de-prueba",children:"Constructores de datos de prueba"}),"\n",(0,a.jsx)(n.p,{children:"Usa el patr\xf3n Builder para datos de prueba complejos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class UserBuilder {\n    private String username;\n    private String email;\n    private String password;\n    private String role = "USER";\n    private boolean active = true;\n\n    public static UserBuilder aUser() {\n        return new UserBuilder();\n    }\n\n    public UserBuilder withUsername(String username) {\n        this.username = username;\n        return this;\n    }\n\n    public UserBuilder withEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    public UserBuilder withPassword(String password) {\n        this.password = password;\n        return this;\n    }\n\n    public UserBuilder withRole(String role) {\n        this.role = role;\n        return this;\n    }\n\n    public UserBuilder inactive() {\n        this.active = false;\n        return this;\n    }\n\n    public User build() {\n        return new User(username, email, password, role, active);\n    }\n}\n\n// Uso\n@MethodSource("userTestData")\nstatic Stream<User> userTestData() {\n    return Stream.of(\n        aUser().withUsername("admin").withRole("ADMIN").build(),\n        aUser().withUsername("user1").withEmail("user1@example.com").build(),\n        aUser().withUsername("inactive").inactive().build()\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"uso-de-faker-para-datos-aleatorios",children:"Uso de Faker para datos aleatorios"}),"\n",(0,a.jsx)(n.p,{children:"Genera datos de prueba aleatorios realistas:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>com.github.javafaker</groupId>\n    <artifactId>javafaker</artifactId>\n    <version>1.0.2</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import com.github.javafaker.Faker;\n\npublic class TestDataGenerator {\n    private static final Faker faker = new Faker();\n\n    public static User randomUser() {\n        return aUser()\n            .withUsername(faker.name().username())\n            .withEmail(faker.internet().emailAddress())\n            .withPassword(faker.internet().password(8, 16))\n            .build();\n    }\n\n    public static Product randomProduct() {\n        return new Product(\n            faker.commerce().productName(),\n            Double.parseDouble(faker.commerce().price()),\n            faker.commerce().department()\n        );\n    }\n}\n\n// Uso en pruebas\n@ParameterizedTest\n@MethodSource("randomUsers")\nvoid shouldRegisterRandomUsers(User user) {\n    registration.registerUser(user);\n    registration.shouldSucceed();\n}\n\nstatic Stream<User> randomUsers() {\n    return Stream.generate(TestDataGenerator::randomUser).limit(10);\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"mejores-pr\xe1cticas",children:"Mejores pr\xe1cticas"}),"\n",(0,a.jsx)(n.h3,{id:"1-mant\xe9n-los-datos-de-prueba-cerca-de-las-pruebas",children:"1. Mant\xe9n los datos de prueba cerca de las pruebas"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"src/test/resources/\n\u251c\u2500\u2500 test-data/\n\u2502   \u251c\u2500\u2500 users/\n\u2502   \u2502   \u251c\u2500\u2500 valid-users.csv\n\u2502   \u2502   \u2514\u2500\u2500 invalid-users.csv\n\u2502   \u251c\u2500\u2500 products/\n\u2502   \u2502   \u2514\u2500\u2500 products.json\n\u2502   \u2514\u2500\u2500 shared/\n\u2502       \u2514\u2500\u2500 countries.csv\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-usa-nombres-de-prueba-significativos",children:"2. Usa nombres de prueba significativos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@ParameterizedTest(name = \"Usuario ''{0}'' con rol ''{1}'' deber\xeda acceder a ''{2}''\")\n@CsvSource({\n    \"admin, ADMIN, dashboard\",\n    \"user,  USER,  homepage\"\n})\nvoid accessControlTests(String username, String role, String page) {\n    // Implementaci\xf3n del test\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-valida-los-datos-de-prueba",children:"3. Valida los datos de prueba"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@MethodSource("userData")\nstatic Stream<User> userData() {\n    return loadUsersFromCsv("/test-data/users.csv")\n        .stream()\n        .peek(user -> {\n            assertThat(user.getEmail()).contains("@");\n            assertThat(user.getPassword()).hasSizeGreaterThan(8);\n        });\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-a\xedsla-los-datos-de-prueba",children:"4. A\xedsla los datos de prueba"}),"\n",(0,a.jsx)(n.p,{children:"Aseg\xfarate de que cada prueba tenga sus propios datos independientes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@BeforeEach\nvoid setUp() {\n    // Limpiar cualquier dato de prueba existente\n    testDataCleanup.deleteTestUsers();\n}\n\n@ParameterizedTest\n@MethodSource("userTestData")\nvoid userTests(User user) {\n    // Cada prueba obtiene datos frescos\n    String uniqueUsername = user.getUsername() + "_" + UUID.randomUUID();\n    User isolatedUser = user.withUsername(uniqueUsername);\n    // Probar con datos aislados\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"5-documenta-los-requisitos-de-datos",children:"5. Documenta los requisitos de datos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'/**\n * Prueba el registro de usuarios con varias entradas v\xe1lidas.\n *\n * Requisitos de datos de prueba:\n * - Username: 3-20 caracteres, alfanum\xe9rico\n * - Email: Formato de email v\xe1lido\n * - Password: M\xednimo 8 caracteres\n * - Role: Uno de [USER, ADMIN, MANAGER]\n */\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldRegisterValidUsers(String username, String email,\n                              String password, String role) {\n    // Implementaci\xf3n del test\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"6-separa-datos-v\xe1lidos-e-inv\xe1lidos",children:"6. Separa datos v\xe1lidos e inv\xe1lidos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Pruebas con datos v\xe1lidos\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldAcceptValidUsers(User user) {\n    // Esperar \xe9xito\n}\n\n// Pruebas con datos inv\xe1lidos\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/invalid-users.csv")\nvoid shouldRejectInvalidUsers(User user, String expectedError) {\n    // Esperar error espec\xedfico\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo-completo-pruebas-de-comercio-electr\xf3nico",children:"Ejemplo completo: Pruebas de comercio electr\xf3nico"}),"\n",(0,a.jsx)(n.p,{children:"Aqu\xed hay un ejemplo completo combinando m\xfaltiples t\xe9cnicas:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Product.java:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class Product {\n    private final String name;\n    private final double price;\n    private final String category;\n    private final boolean inStock;\n\n    // Constructor, getters, builder...\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"test-data/products.csv:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"name,price,category,inStock,expectedInCart\nLaptop,999.99,Electronics,true,true\nHeadphones,79.99,Audio,true,true\nOut of Stock Item,49.99,Misc,false,false\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"ShoppingTests.java:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ShoppingTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest(name = "Agregar {0} (${1}) deber\xeda {4}")\n    @CsvFileSource(resources = "/test-data/products.csv", numLinesToSkip = 1)\n    void shouldHandleProductAddition(String name, double price, String category,\n                                     boolean inStock, boolean expectedInCart) {\n        Product product = new Product(name, price, category, inStock);\n\n        shopping.addProductToCart(product);\n\n        if (expectedInCart) {\n            shopping.shouldSeeProductInCart(product);\n            shopping.cartTotalShouldBe(price);\n        } else {\n            shopping.shouldSeeOutOfStockMessage();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"soluci\xf3n-de-problemas",children:"Soluci\xf3n de problemas"}),"\n",(0,a.jsx)(n.h3,{id:"problema-las-pruebas-parametrizadas-no-se-ejecutan",children:"Problema: Las pruebas parametrizadas no se ejecutan"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Soluci\xf3n:"})," Aseg\xfarate de tener la dependencia junit-jupiter-params y usa ",(0,a.jsx)(n.code,{children:"@ParameterizedTest"})," en lugar de ",(0,a.jsx)(n.code,{children:"@Test"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"problema-los-datos-csv-no-se-cargan",children:"Problema: Los datos CSV no se cargan"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Soluci\xf3n:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Verifica que la ruta del archivo sea relativa a ",(0,a.jsx)(n.code,{children:"src/test/resources"})]}),"\n",(0,a.jsxs)(n.li,{children:["Verifica que ",(0,a.jsx)(n.code,{children:"numLinesToSkip"})," est\xe9 configurado correctamente"]}),"\n",(0,a.jsx)(n.li,{children:"Comprueba el formato correcto del CSV"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"problema-los-datos-aparecen-en-orden-incorrecto",children:"Problema: Los datos aparecen en orden incorrecto"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Soluci\xf3n:"})," JUnit no garantiza el orden de ejecuci\xf3n. Usa ",(0,a.jsx)(n.code,{children:"@TestMethodOrder"})," si es necesario:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTests {\n    @ParameterizedTest\n    @Order(1)\n    @ValueSource(strings = {"first"})\n    void test1(String value) { }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"siguientes-pasos",children:"Siguientes pasos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Explora el ",(0,a.jsx)(n.a,{href:"/docs/screenplay/screenplay_fundamentals",children:"Screenplay Pattern"})," para mejor organizaci\xf3n de pruebas"]}),"\n",(0,a.jsxs)(n.li,{children:["Aprende sobre ",(0,a.jsx)(n.a,{href:"/docs/junit5/parallel-execution",children:"Ejecuci\xf3n Paralela"})," para acelerar pruebas basadas en datos"]}),"\n",(0,a.jsxs)(n.li,{children:["Consulta los ",(0,a.jsx)(n.a,{href:"/docs/reporting/the_serenity_reports",children:"Reportes de Serenity"})," para ver c\xf3mo aparecen las pruebas parametrizadas en los reportes"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"recursos-adicionales",children:"Recursos adicionales"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests",children:"Gu\xeda de pruebas parametrizadas de JUnit 5"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://cucumber.io/docs/gherkin/reference/#scenario-outline",children:"Scenario Outline de Cucumber"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/DiUS/java-faker",children:"Documentaci\xf3n de JavaFaker"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const a={},i=r.createContext(a);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);