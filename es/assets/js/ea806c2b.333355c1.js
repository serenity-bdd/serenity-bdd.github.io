"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[5408],{4642(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"guide/maven","title":"Usando Maven con Serenity","description":"Maven es la herramienta de compilaci\xf3n recomendada para Serenity BDD.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/guide/maven.md","sourceDirName":"guide","slug":"/guide/maven","permalink":"/es/docs/guide/maven","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/guide/maven.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"maven","title":"Usando Maven con Serenity","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Creando un Nuevo Proyecto","permalink":"/es/docs/guide/getting_started"},"next":{"title":"Bibliotecas de Pasos","permalink":"/es/docs/guide/step_libraries"}}');var s=i(4848),a=i(8453);const t={id:"maven",title:"Usando Maven con Serenity",sidebar_position:3},d="Integrando Serenity BDD en un proyecto Maven",c={},o=[{value:"Versiones Recomendadas",id:"versiones-recomendadas",level:2},{value:"Dependencias Principales",id:"dependencias-principales",level:2},{value:"Dependencias de Serenity JUnit 5 (Recomendado)",id:"dependencias-de-serenity-junit-5-recomendado",level:2},{value:"Dependencias de Serenity JUnit 4 (Obsoleto)",id:"dependencias-de-serenity-junit-4-obsoleto",level:2},{value:"Dependencias de Serenity Cucumber",id:"dependencias-de-serenity-cucumber",level:2},{value:"Dependencias de Cucumber con JUnit 5 (Recomendado)",id:"dependencias-de-cucumber-con-junit-5-recomendado",level:2},{value:"Dependencias de Cucumber con JUnit 4 (Obsoleto)",id:"dependencias-de-cucumber-con-junit-4-obsoleto",level:2},{value:"Screenplay",id:"screenplay",level:2},{value:"Ejecutando Pruebas con Maven Failsafe",id:"ejecutando-pruebas-con-maven-failsafe",level:2},{value:"Ejecutando Pruebas de JUnit 5 y Cucumber Juntas",id:"ejecutando-pruebas-de-junit-5-y-cucumber-juntas",level:3},{value:"El Plugin Maven de Serenity",id:"el-plugin-maven-de-serenity",level:2},{value:"Verificando archivos de Feature de Gherkin",id:"verificando-archivos-de-feature-de-gherkin",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"integrando-serenity-bdd-en-un-proyecto-maven",children:"Integrando Serenity BDD en un proyecto Maven"})}),"\n",(0,s.jsx)(n.p,{children:"Maven es la herramienta de compilaci\xf3n recomendada para Serenity BDD."}),"\n",(0,s.jsxs)(n.p,{children:["Puedes a\xf1adir Serenity BDD a un proyecto Maven existente agregando las dependencias correspondientes a tu archivo ",(0,s.jsx)(n.code,{children:"pom.xml"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"versiones-recomendadas",children:"Versiones Recomendadas"}),"\n",(0,s.jsx)(n.p,{children:"Primero, define las versiones recomendadas en tu secci\xf3n de propiedades:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<properties>\n    <serenity.version>5.2.2</serenity.version>\n    <junit5.version>6.0.1</junit5.version>\n    <cucumber.version>7.33.0</cucumber.version>\n</properties>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-principales",children:"Dependencias Principales"}),"\n",(0,s.jsx)(n.p,{children:"Todos los proyectos de Serenity BDD necesitan la siguiente dependencia principal:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-core</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Tambi\xe9n necesitar\xe1s un ejecutor de pruebas, que normalmente ser\xe1 JUnit 5 (recomendado) o Cucumber. Ten en cuenta que JUnit 4 est\xe1 obsoleto a partir de Serenity 5.0.0."}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-de-serenity-junit-5-recomendado",children:"Dependencias de Serenity JUnit 5 (Recomendado)"}),"\n",(0,s.jsx)(n.p,{children:"Para usar JUnit 5 necesitar\xe1s la siguiente dependencia:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-junit5</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Tambi\xe9n necesitar\xe1s las dependencias de JUnit 5, por ejemplo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-api</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-engine</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-de-serenity-junit-4-obsoleto",children:"Dependencias de Serenity JUnit 4 (Obsoleto)"}),"\n",(0,s.jsx)(n.admonition,{title:"JUnit 4 Obsoleto",type:"warning",children:(0,s.jsx)(n.p,{children:"El soporte de JUnit 4 est\xe1 obsoleto a partir de Serenity 5.0.0 y ser\xe1 eliminado en Serenity 6.0.0. Por favor migra a JUnit 5 (ver arriba)."})}),"\n",(0,s.jsx)(n.p,{children:"Si a\xfan est\xe1s usando JUnit 4, necesitar\xe1s la siguiente dependencia:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-junit</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-de-serenity-cucumber",children:"Dependencias de Serenity Cucumber"}),"\n",(0,s.jsx)(n.p,{children:"Para Cucumber necesitar\xe1s la siguiente dependencia:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-cucumber</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Dado que Serenity depende de una versi\xf3n espec\xedfica de las APIs de Cucumber, recomendamos usar la misma versi\xf3n de las bibliotecas de Cucumber."}),"\n",(0,s.jsx)(n.p,{children:"Cucumber requiere un ejecutor de pruebas, preferiblemente JUnit 5 (JUnit 4 est\xe1 obsoleto)."}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-de-cucumber-con-junit-5-recomendado",children:"Dependencias de Cucumber con JUnit 5 (Recomendado)"}),"\n",(0,s.jsx)(n.p,{children:"Para usar JUnit 5 necesitar\xe1s la siguiente dependencia:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>io.cucumber</groupId>\n    <artifactId>cucumber-junit-platform-engine</artifactId>\n    <version>${cucumber.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.platform</groupId>\n    <artifactId>junit-platform-suite</artifactId>\n    <version>${junit-platform.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Consulta la documentaci\xf3n de cucumber-junit-platform-engine sobre c\xf3mo usar junit-platform-suite para controlar cucumber: ",(0,s.jsx)(n.a,{href:"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#suites-with-different-configurations",children:"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#suites-with-different-configurations"}),", y ",(0,s.jsx)(n.a,{href:"https://github.com/serenity-bdd/serenity-cucumber-starter",children:"https://github.com/serenity-bdd/serenity-cucumber-starter"})," para un ejemplo funcional."]}),"\n",(0,s.jsx)(n.h2,{id:"dependencias-de-cucumber-con-junit-4-obsoleto",children:"Dependencias de Cucumber con JUnit 4 (Obsoleto)"}),"\n",(0,s.jsx)(n.admonition,{title:"JUnit 4 Obsoleto",type:"warning",children:(0,s.jsx)(n.p,{children:"Los ejecutores de Cucumber con JUnit 4 est\xe1n obsoletos a partir de Serenity 5.0.0 y ser\xe1n eliminados en Serenity 6.0.0. Por favor migra a JUnit 5 (ver arriba)."})}),"\n",(0,s.jsx)(n.p,{children:"Si a\xfan est\xe1s usando JUnit 4 con Cucumber, necesitar\xe1s la siguiente dependencia:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>io.cucumber</groupId>\n    <artifactId>cucumber-junit</artifactId>\n    <version>${cucumber.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.platform</groupId>\n    <artifactId>junit-vintage-engine</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"screenplay",children:"Screenplay"}),"\n",(0,s.jsx)(n.p,{children:"Si est\xe1s usando el Screenplay Pattern, tambi\xe9n necesitar\xe1s las dependencias de Screenplay:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-screenplay</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-rest-assured</artifactId>\n    <version>${serenity.version}</version>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-ensure</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-screenplay-webdriver</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ejecutando-pruebas-con-maven-failsafe",children:"Ejecutando Pruebas con Maven Failsafe"}),"\n",(0,s.jsx)(n.p,{children:"Las pruebas de Serenity son pruebas de integraci\xf3n y deben ejecutarse usando el plugin Maven Failsafe. La configuraci\xf3n b\xe1sica es sencilla:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-failsafe-plugin</artifactId>\n    <version>3.5.2</version>\n    <configuration>\n        <includes>\n            <include>**/*Test.java</include>\n        </includes>\n    </configuration>\n    <executions>\n        <execution>\n            <goals>\n                <goal>integration-test</goal>\n                <goal>verify</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ejecutando-pruebas-de-junit-5-y-cucumber-juntas",children:"Ejecutando Pruebas de JUnit 5 y Cucumber Juntas"}),"\n",(0,s.jsxs)(n.p,{children:["Si tu proyecto contiene tanto pruebas de JUnit 5 como pruebas de Cucumber, puedes encontrar un problema donde solo se descubren y ejecutan las pruebas de Cucumber. Esto sucede porque cuando Cucumber usa la propiedad ",(0,s.jsx)(n.code,{children:"cucumber.features"})," (ya sea a trav\xe9s de ",(0,s.jsx)(n.code,{children:"@ConfigurationParameter"})," o ",(0,s.jsx)(n.code,{children:"junit-platform.properties"}),"), causa que otros selectores de descubrimiento de JUnit Platform sean ignorados."]}),"\n",(0,s.jsx)(n.p,{children:"Ver\xe1s una advertencia como esta:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"WARNING: TestEngine with ID 'cucumber' encountered a non-critical issue during test discovery:\nDiscovering tests using the cucumber.features property. Other discovery selectors are ignored!\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"La soluci\xf3n"})," es configurar ejecuciones separadas de Failsafe para las pruebas de JUnit 5 y Cucumber:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-failsafe-plugin</artifactId>\n    <version>3.5.2</version>\n    <executions>\n        \x3c!-- Ejecuci\xf3n para pruebas de JUnit Jupiter (excluye Cucumber) --\x3e\n        <execution>\n            <id>junit-tests</id>\n            <goals>\n                <goal>integration-test</goal>\n            </goals>\n            <configuration>\n                <includes>\n                    <include>**/*Test.java</include>\n                </includes>\n                <excludes>\n                    <exclude>**/CucumberTestSuite.java</exclude>\n                </excludes>\n            </configuration>\n        </execution>\n        \x3c!-- Ejecuci\xf3n para pruebas de Cucumber --\x3e\n        <execution>\n            <id>cucumber-tests</id>\n            <goals>\n                <goal>integration-test</goal>\n            </goals>\n            <configuration>\n                <includes>\n                    <include>**/CucumberTestSuite.java</include>\n                </includes>\n            </configuration>\n        </execution>\n        \x3c!-- Fase verify (se ejecuta una vez despu\xe9s de todas las pruebas) --\x3e\n        <execution>\n            <id>verify</id>\n            <goals>\n                <goal>verify</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Esta configuraci\xf3n:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ejecuta primero las pruebas de JUnit Jupiter (todos los archivos ",(0,s.jsx)(n.code,{children:"*Test.java"})," excepto la suite de Cucumber)"]}),"\n",(0,s.jsxs)(n.li,{children:["Ejecuta las pruebas de Cucumber por separado a trav\xe9s de la clase ",(0,s.jsx)(n.code,{children:"CucumberTestSuite"})]}),"\n",(0,s.jsx)(n.li,{children:"Ejecuta el goal verify una vez al final para verificar fallos"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Convenci\xf3n de Nombres",type:"tip",children:(0,s.jsxs)(n.p,{children:["Ajusta los patrones de ",(0,s.jsx)(n.code,{children:"<include>"})," y ",(0,s.jsx)(n.code,{children:"<exclude>"})," para que coincidan con las convenciones de nombres de tus clases de prueba. Por ejemplo, si tu suite de Cucumber se llama ",(0,s.jsx)(n.code,{children:"CucumberIT.java"}),", actualiza los patrones en consecuencia."]})}),"\n",(0,s.jsx)(n.h2,{id:"el-plugin-maven-de-serenity",children:"El Plugin Maven de Serenity"}),"\n",(0,s.jsxs)(n.p,{children:["Si deseas generar los reportes de Serenity cada vez que ejecutas ",(0,s.jsx)(n.code,{children:"mvn verify"}),", puedes usar el ",(0,s.jsx)(n.code,{children:"serenity-maven-plugin"})," para eso:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<plugin>\n    <groupId>net.serenity-bdd.maven.plugins</groupId>\n    <artifactId>serenity-maven-plugin</artifactId>\n    <version>${serenity.version}</version>\n    <configuration>\n      <tags>${tags}</tags>\n    </configuration>\n    <executions>\n        <execution>\n            <id>serenity-reports</id>\n            <phase>post-integration-test</phase>\n            <goals>\n                <goal>aggregate</goal>\n                <goal>check</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Por defecto, el goal ",(0,s.jsx)(n.code,{children:"aggregate"})," NO har\xe1 fallar la compilaci\xf3n si hay fallos en las pruebas - simplemente generar\xe1 los reportes. De esta manera puedes agregar m\xfaltiples conjuntos de reportes y luego verificar los fallos al final usando ",(0,s.jsx)(n.code,{children:"mvn serenity:check"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"verificando-archivos-de-feature-de-gherkin",children:"Verificando archivos de Feature de Gherkin"}),"\n",(0,s.jsx)(n.p,{children:"Algunos errores en los archivos de Feature de Gherkin pueden causar que los reportes de Serenity se comporten de manera impredecible. Por esta raz\xf3n, las siguientes reglas deben seguirse cuando se trabaja con Cucumber y Serenity:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Los nombres de Scenario deben ser \xfanicos dentro de un archivo de Feature"}),"\n",(0,s.jsx)(n.li,{children:"Los nombres de Scenario, Rule y Feature no deben estar vac\xedos"}),"\n",(0,s.jsx)(n.li,{children:"Los nombres de Feature deben ser \xfanicos siempre que sea posible. En particular, las Feature con el mismo nombre, dentro de directorios con nombres id\xe9nticos, no aparecer\xe1n correctamente en los reportes de Serenity."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Puedes verificar estas reglas antes de ejecutar la prueba completa llamando al goal ",(0,s.jsx)(n.code,{children:"check-gherkin"}),", por ejemplo:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mvn serenity:check-gherkin\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Puedes asegurarte de que tus archivos de Feature est\xe9n correctamente configurados antes de iniciar tus pruebas vinculando el goal ",(0,s.jsx)(n.code,{children:"check-gherkin"})," a la fase del ciclo de vida ",(0,s.jsx)(n.code,{children:"process-test-resources"}),", como se muestra aqu\xed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<plugin>\n    <groupId>net.serenity-bdd.maven.plugins</groupId>\n    <artifactId>serenity-maven-plugin</artifactId>\n    <version>${serenity.version}</version>\n    <configuration>\n      <tags>${tags}</tags>\n    </configuration>\n    <executions>\n        <execution>\n            <id>check-feature-files</id>\n            <phase>process-test-resources</phase>\n            <goals>\n                <goal>check-gherkin</goal>\n            </goals>\n        </execution>\n        <execution>\n            <id>serenity-reports</id>\n            <phase>post-integration-test</phase>\n            <goals>\n                <goal>aggregate</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n"})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>d});var r=i(6540);const s={},a=r.createContext(s);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);