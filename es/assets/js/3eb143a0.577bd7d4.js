"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[5504],{1823(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"playwright/playwright_page_objects","title":"Page Objects","description":"Page Objects are a design pattern that encapsulates the structure and behavior of a web page. With Playwright and Serenity, Page Objects provide a clean separation between your test logic and page implementation details.","source":"@site/docs/playwright/page-objects.md","sourceDirName":"playwright","slug":"/playwright/playwright_page_objects","permalink":"/es/docs/playwright/playwright_page_objects","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/playwright/page-objects.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"playwright_page_objects","title":"Page Objects","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/es/docs/playwright/playwright_getting_started"},"next":{"title":"Screenplay Pattern with Playwright","permalink":"/es/docs/playwright/playwright_screenplay"}}');var i=t(4848),r=t(8453);const s={id:"playwright_page_objects",title:"Page Objects",sidebar_position:3},o="Page Objects with Playwright",l={},c=[{value:"Why Page Objects?",id:"why-page-objects",level:2},{value:"Page Object Structure",id:"page-object-structure",level:2},{value:"Key Principles",id:"key-principles",level:3},{value:"Playwright Locator Strategies",id:"playwright-locator-strategies",level:2},{value:"Role-Based Locators (Recommended)",id:"role-based-locators-recommended",level:3},{value:"Text-Based Locators",id:"text-based-locators",level:3},{value:"Label-Based Locators",id:"label-based-locators",level:3},{value:"Test ID Locators",id:"test-id-locators",level:3},{value:"CSS and XPath (Last Resort)",id:"css-and-xpath-last-resort",level:3},{value:"Page Object Patterns",id:"page-object-patterns",level:2},{value:"Navigation Methods",id:"navigation-methods",level:3},{value:"Page Transitions",id:"page-transitions",level:3},{value:"Component Objects",id:"component-objects",level:3},{value:"Waiting Strategies",id:"waiting-strategies",level:3},{value:"Integrating with Step Libraries",id:"integrating-with-step-libraries",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. One Page Object Per Page/View",id:"1-one-page-object-per-pageview",level:3},{value:"2. Use Descriptive Method Names",id:"2-use-descriptive-method-names",level:3},{value:"3. Avoid Exposing Locators",id:"3-avoid-exposing-locators",level:3},{value:"4. Handle Dynamic Content",id:"4-handle-dynamic-content",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"page-objects-with-playwright",children:"Page Objects with Playwright"})}),"\n",(0,i.jsx)(n.p,{children:"Page Objects are a design pattern that encapsulates the structure and behavior of a web page. With Playwright and Serenity, Page Objects provide a clean separation between your test logic and page implementation details."}),"\n",(0,i.jsx)(n.h2,{id:"why-page-objects",children:"Why Page Objects?"}),"\n",(0,i.jsx)(n.p,{children:"Without Page Objects, tests become brittle and hard to maintain:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u274c Bad: Locators scattered throughout tests\n@Test\nvoid searchTest() {\n    page.locator("input[name=\'q\']").fill("search term");\n    page.locator("button.search-btn").click();\n    assertThat(page.locator(".results-count").textContent()).contains("10");\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"With Page Objects, tests are clean and maintainable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u2705 Good: Locators encapsulated in Page Object\n@Test\nvoid searchTest() {\n    searchPage.searchFor("search term");\n    assertThat(searchPage.getResultCount()).isEqualTo(10);\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"page-object-structure",children:"Page Object Structure"}),"\n",(0,i.jsx)(n.p,{children:"A well-designed Page Object has three sections:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class ProductPage {\n    private final Page page;\n\n    public ProductPage(Page page) {\n        this.page = page;\n    }\n\n    // ========== LOCATORS (private) ==========\n    // Encapsulate how elements are found\n\n    private Locator productTitle() {\n        return page.locator("h1.product-title");\n    }\n\n    private Locator addToCartButton() {\n        return page.getByRole(AriaRole.BUTTON,\n            new Page.GetByRoleOptions().setName("Add to Cart"));\n    }\n\n    private Locator quantityInput() {\n        return page.locator("#quantity");\n    }\n\n    // ========== ACTIONS (public) ==========\n    // Represent user interactions\n\n    public void addToCart() {\n        addToCartButton().click();\n    }\n\n    public void setQuantity(int quantity) {\n        quantityInput().fill(String.valueOf(quantity));\n    }\n\n    // ========== QUERIES (public) ==========\n    // Return information about page state\n\n    public String getProductTitle() {\n        return productTitle().textContent();\n    }\n\n    public boolean isAddToCartEnabled() {\n        return addToCartButton().isEnabled();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"key-principles",children:"Key Principles"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Locators are private"})," - Only the Page Object knows how to find elements"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions are public"})," - Expose meaningful user interactions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Queries are public"})," - Expose ways to check page state"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No assertions in Page Objects"})," - Let the caller decide what to verify"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"playwright-locator-strategies",children:"Playwright Locator Strategies"}),"\n",(0,i.jsx)(n.p,{children:"Playwright offers several ways to locate elements. Use the most resilient strategy for each case:"}),"\n",(0,i.jsx)(n.h3,{id:"role-based-locators-recommended",children:"Role-Based Locators (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"These are the most resilient as they use accessibility semantics:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Find by ARIA role and accessible name\nprivate Locator searchButton() {\n    return page.getByRole(AriaRole.BUTTON,\n        new Page.GetByRoleOptions().setName("Search"));\n}\n\nprivate Locator emailField() {\n    return page.getByRole(AriaRole.TEXTBOX,\n        new Page.GetByRoleOptions().setName("Email"));\n}\n\nprivate Locator mainNavigation() {\n    return page.getByRole(AriaRole.NAVIGATION);\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"text-based-locators",children:"Text-Based Locators"}),"\n",(0,i.jsx)(n.p,{children:"Good for finding elements by visible text:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'private Locator submitButton() {\n    return page.getByText("Submit Order");\n}\n\nprivate Locator welcomeMessage() {\n    return page.getByText("Welcome back", new Page.GetByTextOptions().setExact(false));\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"label-based-locators",children:"Label-Based Locators"}),"\n",(0,i.jsx)(n.p,{children:"Find form fields by their associated labels:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'private Locator usernameField() {\n    return page.getByLabel("Username");\n}\n\nprivate Locator rememberMeCheckbox() {\n    return page.getByLabel("Remember me");\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"test-id-locators",children:"Test ID Locators"}),"\n",(0,i.jsx)(n.p,{children:"Use data-testid attributes for elements without good semantic identifiers:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'private Locator shoppingCart() {\n    return page.getByTestId("shopping-cart");\n}\n\nprivate Locator productCard(String productId) {\n    return page.getByTestId("product-" + productId);\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"css-and-xpath-last-resort",children:"CSS and XPath (Last Resort)"}),"\n",(0,i.jsx)(n.p,{children:"Use only when other strategies aren't available:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"private Locator legacyWidget() {\n    return page.locator(\"div.legacy-widget > span.value\");\n}\n\nprivate Locator complexElement() {\n    return page.locator(\"xpath=//div[@class='container']//span[contains(text(),'Total')]\");\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"page-object-patterns",children:"Page Object Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"navigation-methods",children:"Navigation Methods"}),"\n",(0,i.jsx)(n.p,{children:"Include methods to navigate to the page:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class LoginPage {\n    private final Page page;\n    private static final String URL = "/login";\n\n    public void open() {\n        page.navigate(URL);\n    }\n\n    public void openWithRedirect(String returnUrl) {\n        page.navigate(URL + "?redirect=" + returnUrl);\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"page-transitions",children:"Page Transitions"}),"\n",(0,i.jsx)(n.p,{children:"Return new Page Objects when actions navigate to different pages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class LoginPage {\n    public DashboardPage loginAs(String username, String password) {\n        usernameField().fill(username);\n        passwordField().fill(password);\n        loginButton().click();\n        return new DashboardPage(page);\n    }\n}\n\n// Usage:\nDashboardPage dashboard = loginPage.loginAs("user", "pass");\nassertThat(dashboard.getWelcomeMessage()).contains("Welcome");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"component-objects",children:"Component Objects"}),"\n",(0,i.jsx)(n.p,{children:"Reuse common UI components across pages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class HeaderComponent {\n    private final Page page;\n\n    public HeaderComponent(Page page) {\n        this.page = page;\n    }\n\n    private Locator searchBox() {\n        return page.locator("header input[type=\'search\']");\n    }\n\n    private Locator cartIcon() {\n        return page.locator("header .cart-icon");\n    }\n\n    public void search(String term) {\n        searchBox().fill(term);\n        searchBox().press("Enter");\n    }\n\n    public int getCartItemCount() {\n        String text = cartIcon().textContent();\n        return Integer.parseInt(text);\n    }\n}\n\n// Use in Page Objects:\npublic class ProductPage {\n    private final Page page;\n    private final HeaderComponent header;\n\n    public ProductPage(Page page) {\n        this.page = page;\n        this.header = new HeaderComponent(page);\n    }\n\n    public HeaderComponent header() {\n        return header;\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"waiting-strategies",children:"Waiting Strategies"}),"\n",(0,i.jsx)(n.p,{children:"Playwright auto-waits, but sometimes you need explicit waits:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class SearchResultsPage {\n    public void waitForResults() {\n        // Wait for results to load\n        resultsContainer().waitFor();\n    }\n\n    public void waitForMinimumResults(int count) {\n        // Wait until we have enough results\n        page.waitForCondition(() -> getResultCount() >= count);\n    }\n\n    public void waitForLoadingToComplete() {\n        // Wait for loading spinner to disappear\n        loadingSpinner().waitFor(new Locator.WaitForOptions()\n            .setState(WaitForSelectorState.HIDDEN));\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"integrating-with-step-libraries",children:"Integrating with Step Libraries"}),"\n",(0,i.jsx)(n.p,{children:"Page Objects work alongside Step Libraries. The Step Library handles Serenity reporting while the Page Object handles page interactions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class CheckoutSteps {\n    private CheckoutPage checkoutPage;\n    private OrderConfirmationPage confirmationPage;\n\n    @Step("Enter shipping address")\n    public void enterShippingAddress(Address address) {\n        checkoutPage.enterAddress(address);\n    }\n\n    @Step("Complete the order")\n    public void completeOrder() {\n        confirmationPage = checkoutPage.submitOrder();\n    }\n\n    @Step("Verify order confirmation number is displayed")\n    public void verifyOrderConfirmationDisplayed() {\n        assertThat(confirmationPage.getOrderNumber())\n            .isNotEmpty();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-one-page-object-per-pageview",children:"1. One Page Object Per Page/View"}),"\n",(0,i.jsx)(n.p,{children:"Don't try to represent multiple pages in one class:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u274c Bad\npublic class AllPages { /* too many responsibilities */ }\n\n// \u2705 Good\npublic class LoginPage { /* login only */ }\npublic class DashboardPage { /* dashboard only */ }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-use-descriptive-method-names",children:"2. Use Descriptive Method Names"}),"\n",(0,i.jsx)(n.p,{children:"Method names should describe the user intent:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u274c Bad\npublic void click1() { ... }\npublic void fillForm() { ... }\n\n// \u2705 Good\npublic void addToWishlist() { ... }\npublic void submitContactForm(String name, String email, String message) { ... }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-avoid-exposing-locators",children:"3. Avoid Exposing Locators"}),"\n",(0,i.jsx)(n.p,{children:"Never return raw Locator objects:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u274c Bad - exposes implementation\npublic Locator getSubmitButton() {\n    return page.locator("#submit");\n}\n\n// \u2705 Good - exposes behavior\npublic void submitForm() {\n    submitButton().click();\n}\n\npublic boolean isSubmitEnabled() {\n    return submitButton().isEnabled();\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-handle-dynamic-content",children:"4. Handle Dynamic Content"}),"\n",(0,i.jsx)(n.p,{children:"Use parameterized locators for dynamic elements:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class ProductListPage {\n    public void selectProduct(String productName) {\n        page.getByRole(AriaRole.LINK,\n            new Page.GetByRoleOptions().setName(productName)).click();\n    }\n\n    public String getPriceFor(String productName) {\n        return page.locator(String.format(\n            \"[data-product='%s'] .price\", productName)).textContent();\n    }\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>o});var a=t(6540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);