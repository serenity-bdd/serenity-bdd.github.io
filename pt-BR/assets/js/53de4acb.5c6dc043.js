"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[7536],{6844(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"tutorials/data-driven-testing","title":"Testes Orientados a Dados com Serenity BDD","description":"Testes orientados a dados permitem que voce execute a mesma logica de teste com multiplos conjuntos de dados de entrada, tornando seus testes mais abrangentes e faceis de manter. Este guia cobre abordagens de testes orientados a dados com JUnit 5 e Cucumber.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/tutorials/data-driven-testing.md","sourceDirName":"tutorials","slug":"/tutorials/data-driven-testing","permalink":"/pt-BR/docs/tutorials/data-driven-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/data-driven-testing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"data-driven-testing","title":"Testes Orientados a Dados com Serenity BDD","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Testes Completos de API REST","permalink":"/pt-BR/docs/tutorials/rest-api-testing"},"next":{"title":"Migrando do Serenity BDD 3.x para o Serenity BDD 4.x","permalink":"/pt-BR/docs/tutorials/migrating_to_serenity_4"}}');var a=s(4848),i=s(8453);const t={id:"data-driven-testing",title:"Testes Orientados a Dados com Serenity BDD",sidebar_position:5},o="Testes Orientados a Dados com Serenity BDD",d={},l=[{value:"Pre-requisitos",id:"pre-requisitos",level:2},{value:"Por que Testes Orientados a Dados?",id:"por-que-testes-orientados-a-dados",level:2},{value:"Testes Parametrizados com JUnit 5",id:"testes-parametrizados-com-junit-5",level:2},{value:"Configuracao Basica",id:"configuracao-basica",level:3},{value:"Fontes de Valores Simples",id:"fontes-de-valores-simples",level:3},{value:"CSV Source - Dados Inline",id:"csv-source---dados-inline",level:3},{value:"CSV Source com Delimitador Personalizado",id:"csv-source-com-delimitador-personalizado",level:3},{value:"CSV File Source - Dados Externos",id:"csv-file-source---dados-externos",level:3},{value:"Method Source - Objetos Complexos",id:"method-source---objetos-complexos",level:3},{value:"Method Source de Classe Externa",id:"method-source-de-classe-externa",level:3},{value:"Enum Source",id:"enum-source",level:3},{value:"Nomes de Exibicao Personalizados",id:"nomes-de-exibicao-personalizados",level:3},{value:"Scenario Outline do Cucumber",id:"scenario-outline-do-cucumber",level:2},{value:"Scenario Outline Basico",id:"scenario-outline-basico",level:3},{value:"Step Definition com Screenplay",id:"step-definition-com-screenplay",level:3},{value:"Multiplas Tabelas de Examples",id:"multiplas-tabelas-de-examples",level:3},{value:"Data Tables",id:"data-tables",level:3},{value:"Arquivos de Dados Externos com Cucumber",id:"arquivos-de-dados-externos-com-cucumber",level:3},{value:"Fontes de Dados Externas",id:"fontes-de-dados-externas",level:2},{value:"Lendo de Arquivos CSV",id:"lendo-de-arquivos-csv",level:3},{value:"Lendo de Arquivos JSON",id:"lendo-de-arquivos-json",level:3},{value:"Lendo de Arquivos Excel",id:"lendo-de-arquivos-excel",level:3},{value:"Builders de Dados de Teste",id:"builders-de-dados-de-teste",level:2},{value:"Usando Faker para Dados Aleatorios",id:"usando-faker-para-dados-aleatorios",level:2},{value:"Melhores Praticas",id:"melhores-praticas",level:2},{value:"1. Mantenha os Dados de Teste Proximos aos Testes",id:"1-mantenha-os-dados-de-teste-proximos-aos-testes",level:3},{value:"2. Use Nomes de Teste Significativos",id:"2-use-nomes-de-teste-significativos",level:3},{value:"3. Valide os Dados de Teste",id:"3-valide-os-dados-de-teste",level:3},{value:"4. Isole os Dados de Teste",id:"4-isole-os-dados-de-teste",level:3},{value:"5. Documente os Requisitos de Dados",id:"5-documente-os-requisitos-de-dados",level:3},{value:"6. Separe Dados Validos e Invalidos",id:"6-separe-dados-validos-e-invalidos",level:3},{value:"Exemplo Completo: Teste de E-Commerce",id:"exemplo-completo-teste-de-e-commerce",level:2},{value:"Solucao de Problemas",id:"solucao-de-problemas",level:2},{value:"Problema: Testes parametrizados nao executando",id:"problema-testes-parametrizados-nao-executando",level:3},{value:"Problema: Dados CSV nao carregando",id:"problema-dados-csv-nao-carregando",level:3},{value:"Problema: Dados aparecendo em ordem errada",id:"problema-dados-aparecendo-em-ordem-errada",level:3},{value:"Proximos Passos",id:"proximos-passos",level:2},{value:"Recursos Adicionais",id:"recursos-adicionais",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"testes-orientados-a-dados-com-serenity-bdd",children:"Testes Orientados a Dados com Serenity BDD"})}),"\n",(0,a.jsx)(n.p,{children:"Testes orientados a dados permitem que voce execute a mesma logica de teste com multiplos conjuntos de dados de entrada, tornando seus testes mais abrangentes e faceis de manter. Este guia cobre abordagens de testes orientados a dados com JUnit 5 e Cucumber."}),"\n",(0,a.jsx)(n.h2,{id:"pre-requisitos",children:"Pre-requisitos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Java 17 ou superior"}),"\n",(0,a.jsx)(n.li,{children:"Serenity BDD 5.2.2 ou superior"}),"\n",(0,a.jsx)(n.li,{children:"JUnit 5 6.0.1 ou superior (para exemplos JUnit)"}),"\n",(0,a.jsx)(n.li,{children:"Cucumber 7.33.0 ou superior (para exemplos Cucumber)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"por-que-testes-orientados-a-dados",children:"Por que Testes Orientados a Dados?"}),"\n",(0,a.jsx)(n.p,{children:"Testes orientados a dados ajudam voce a:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Testar multiplos cenarios"})," com duplicacao minima de codigo"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Melhorar a cobertura de testes"})," testando casos extremos e valores de limite"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Separar a logica de teste dos dados de teste"})," para melhor manutencao"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Tornar os testes mais legiveis"})," mostrando claramente o que varia entre os casos de teste"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"testes-parametrizados-com-junit-5",children:"Testes Parametrizados com JUnit 5"}),"\n",(0,a.jsxs)(n.p,{children:["O JUnit 5 fornece capacidades poderosas de testes parametrizados atraves de ",(0,a.jsx)(n.code,{children:"@ParameterizedTest"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"configuracao-basica",children:"Configuracao Basica"}),"\n",(0,a.jsx)(n.p,{children:"Primeiro, adicione a dependencia de parametros do JUnit Jupiter:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-params</artifactId>\n    <version>6.0.1</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"fontes-de-valores-simples",children:"Fontes de Valores Simples"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"@ValueSource"})," para tipos de dados simples:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.annotations.Managed;\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.openqa.selenium.WebDriver;\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass SearchTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @ParameterizedTest\n    @ValueSource(strings = {"Selenium", "Cucumber", "JUnit 5"})\n    void shouldFindSearchResults(String searchTerm) {\n        // Navegar para a pagina de busca\n        driver.get("https://duckduckgo.com");\n\n        // Realizar busca com cada termo\n        SearchPage searchPage = new SearchPage(driver);\n        searchPage.searchFor(searchTerm);\n\n        // Verificar resultados\n        assertThat(searchPage.getResults()).isNotEmpty();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Tipos suportados para @ValueSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"strings"})," - Valores String"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ints"})," - Valores Integer"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"longs"})," - Valores Long"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"doubles"})," - Valores Double"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"booleans"})," - Valores Boolean"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"csv-source---dados-inline",children:"CSV Source - Dados Inline"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"@CsvSource"})," para multiplos parametros por caso de teste:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @Steps\n    LoginActions loginActions;\n\n    @ParameterizedTest\n    @CsvSource({\n        "standard_user,     secret_sauce,  true",\n        "locked_out_user,  secret_sauce,  false",\n        "problem_user,     secret_sauce,  true",\n        "invalid_user,     wrong_password, false"\n    })\n    void shouldHandleLoginScenarios(String username, String password, boolean shouldSucceed) {\n        loginActions.navigateToLoginPage();\n        loginActions.loginWith(username, password);\n\n        if (shouldSucceed) {\n            loginActions.shouldSeeProductsPage();\n        } else {\n            loginActions.shouldSeeErrorMessage();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Dicas para @CsvSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Valores sao separados por virgula por padrao"}),"\n",(0,a.jsxs)(n.li,{children:["Use aspas simples para strings contendo virgulas: ",(0,a.jsx)(n.code,{children:"'value, with, commas'"})]}),"\n",(0,a.jsx)(n.li,{children:"Valores vazios sao tratados como null"}),"\n",(0,a.jsx)(n.li,{children:"Espacos em branco sao removidos por padrao"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"csv-source-com-delimitador-personalizado",children:"CSV Source com Delimitador Personalizado"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest\n@CsvSource(delimiter = \'|\', value = {\n    "Alice | alice@example.com | Premium",\n    "Bob   | bob@example.com   | Standard",\n    "Carol | carol@example.com | Basic"\n})\nvoid shouldHandleDifferentUserTypes(String name, String email, String accountType) {\n    // Implementacao do teste\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"csv-file-source---dados-externos",children:"CSV File Source - Dados Externos"}),"\n",(0,a.jsx)(n.p,{children:"Armazene dados de teste em arquivos CSV externos para melhor manutencao:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"src/test/resources/test-data/users.csv:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"username,password,email,expectedRole\nadmin,admin123,admin@example.com,ADMIN\nuser1,password1,user1@example.com,USER\nuser2,password2,user2@example.com,USER\nguest,guest123,guest@example.com,GUEST\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass UserRegistrationTests {\n\n    @Steps\n    RegistrationActions registration;\n\n    @ParameterizedTest\n    @CsvFileSource(resources = "/test-data/users.csv", numLinesToSkip = 1)\n    void shouldRegisterUsers(String username, String password, String email, String expectedRole) {\n        registration.registerNewUser(username, password, email);\n        registration.shouldHaveRole(expectedRole);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opcoes do @CsvFileSource:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"resources"})," - Caminho para o arquivo CSV (relativo a src/test/resources)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"numLinesToSkip"})," - Pular linha de cabecalho (tipicamente 1)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"delimiter"})," - Delimitador personalizado (padrao e virgula)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"encoding"})," - Codificacao do arquivo (padrao e UTF-8)"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"method-source---objetos-complexos",children:"Method Source - Objetos Complexos"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"@MethodSource"})," para dados de teste complexos ou quando voce precisa de mais controle:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ProductTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest\n    @MethodSource("productTestData")\n    void shouldAddProductToCart(Product product, int quantity, double expectedTotal) {\n        shopping.addToCart(product, quantity);\n        shopping.shouldShowTotal(expectedTotal);\n    }\n\n    static Stream<Arguments> productTestData() {\n        return Stream.of(\n            Arguments.of(new Product("Laptop", 999.99), 1, 999.99),\n            Arguments.of(new Product("Mouse", 29.99), 2, 59.98),\n            Arguments.of(new Product("Keyboard", 79.99), 3, 239.97)\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"method-source-de-classe-externa",children:"Method Source de Classe Externa"}),"\n",(0,a.jsx)(n.p,{children:"Organize dados de teste em classes separadas:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'class TestDataProviders {\n\n    static Stream<Arguments> loginScenarios() {\n        return Stream.of(\n            Arguments.of("admin", "admin123", true, "Dashboard"),\n            Arguments.of("user", "user123", true, "Home"),\n            Arguments.of("invalid", "wrong", false, "Login Error")\n        );\n    }\n\n    static Stream<Arguments> searchQueries() {\n        return Stream.of(\n            Arguments.of("Selenium", 10),\n            Arguments.of("Cucumber", 8),\n            Arguments.of("JUnit", 15)\n        );\n    }\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @ParameterizedTest\n    @MethodSource("com.example.TestDataProviders#loginScenarios")\n    void shouldHandleLoginScenarios(String username, String password,\n                                   boolean shouldSucceed, String expectedPage) {\n        // Implementacao do teste\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"enum-source",children:"Enum Source"}),"\n",(0,a.jsx)(n.p,{children:"Teste com valores enum:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'enum UserRole {\n    ADMIN, MANAGER, USER, GUEST\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass RoleBasedTests {\n\n    @ParameterizedTest\n    @EnumSource(UserRole.class)\n    void shouldHandleAllUserRoles(UserRole role) {\n        // Testar cada role\n    }\n\n    @ParameterizedTest\n    @EnumSource(value = UserRole.class, names = {"ADMIN", "MANAGER"})\n    void shouldAllowAdminActions(UserRole role) {\n        // Testar apenas roles admin e manager\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"nomes-de-exibicao-personalizados",children:"Nomes de Exibicao Personalizados"}),"\n",(0,a.jsx)(n.p,{children:"Torne os relatorios de teste mais legiveis:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest(name = "Search for \'\'{0}\'\' should return at least {1} results")\n@CsvSource({\n    "Selenium, 10",\n    "Cucumber, 5",\n    "JUnit,    8"\n})\nvoid searchTests(String term, int minimumResults) {\n    // Implementacao do teste\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Os placeholders ",(0,a.jsx)(n.code,{children:"{0}"}),", ",(0,a.jsx)(n.code,{children:"{1}"})," correspondem as posicoes dos parametros."]}),"\n",(0,a.jsx)(n.h2,{id:"scenario-outline-do-cucumber",children:"Scenario Outline do Cucumber"}),"\n",(0,a.jsx)(n.p,{children:"O Cucumber fornece Scenario Outline para testes BDD orientados a dados."}),"\n",(0,a.jsx)(n.h3,{id:"scenario-outline-basico",children:"Scenario Outline Basico"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"features/login.feature:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Feature: User Login\n\n  Scenario Outline: Login with different credentials\n    Given the user is on the login page\n    When the user logs in with username "<username>" and password "<password>"\n    Then the login should <result>\n    And the user should see the "<page>" page\n\n    Examples:\n      | username      | password     | result  | page      |\n      | standard_user | secret_sauce | succeed | Products  |\n      | locked_user   | secret_sauce | fail    | Login     |\n      | invalid_user  | wrong_pass   | fail    | Login     |\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-definition-com-screenplay",children:"Step Definition com Screenplay"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import io.cucumber.java.en.*;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.abilities.BrowseTheWeb;\nimport net.serenitybdd.screenplay.actions.Open;\nimport static net.serenitybdd.screenplay.GivenWhenThen.*;\n\npublic class LoginStepDefinitions {\n\n    @Given("{actor} is on the login page")\n    public void userIsOnLoginPage(Actor actor) {\n        actor.attemptsTo(\n            Open.url("https://www.saucedemo.com")\n        );\n    }\n\n    @When("{actor} logs in with username {string} and password {string}")\n    public void userLogsIn(Actor actor, String username, String password) {\n        actor.attemptsTo(\n            Login.withCredentials(username, password)\n        );\n    }\n\n    @Then("the login should {word}")\n    public void verifyLoginResult(String result) {\n        // Verificacao baseada no resultado\n    }\n\n    @Then("{actor} should see the {string} page")\n    public void verifiesPage(Actor actor, String expectedPage) {\n        actor.should(\n            seeThat(TheCurrentPage.title(), containsString(expectedPage))\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"multiplas-tabelas-de-examples",children:"Multiplas Tabelas de Examples"}),"\n",(0,a.jsx)(n.p,{children:"Use multiplas tabelas de Examples para organizar diferentes cenarios de teste:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Feature: Shopping Cart\n\n  Scenario Outline: Add products to cart\n    Given the user is logged in\n    When the user adds "<product>" with quantity <quantity>\n    Then the cart total should be <total>\n\n    Examples: Single items\n      | product  | quantity | total   |\n      | Laptop   | 1        | 999.99  |\n      | Mouse    | 1        | 29.99   |\n      | Keyboard | 1        | 79.99   |\n\n    Examples: Multiple quantities\n      | product  | quantity | total   |\n      | Mouse    | 3        | 89.97   |\n      | Keyboard | 2        | 159.98  |\n'})}),"\n",(0,a.jsx)(n.h3,{id:"data-tables",children:"Data Tables"}),"\n",(0,a.jsx)(n.p,{children:"Para estruturas de dados mais complexas, use Data Tables:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:"Feature: Bulk User Registration\n\n  Scenario: Register multiple users\n    Given the admin is logged in\n    When the admin registers the following users:\n      | username | email              | role    |\n      | alice    | alice@example.com  | Admin   |\n      | bob      | bob@example.com    | User    |\n      | charlie  | charlie@example.com| Manager |\n    Then all users should be created successfully\n"})}),"\n",(0,a.jsx)(n.p,{children:"Step Definition:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@When("the admin registers the following users:")\npublic void registerUsers(DataTable dataTable) {\n    List<Map<String, String>> users = dataTable.asMaps();\n\n    for (Map<String, String> user : users) {\n        String username = user.get("username");\n        String email = user.get("email");\n        String role = user.get("role");\n\n        actor.attemptsTo(\n            RegisterUser.withDetails(username, email, role)\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"arquivos-de-dados-externos-com-cucumber",children:"Arquivos de Dados Externos com Cucumber"}),"\n",(0,a.jsx)(n.p,{children:"Carregue dados de arquivos externos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'Scenario: Register users from CSV\n  Given the admin is logged in\n  When the admin imports users from "test-data/users.csv"\n  Then all users should be registered\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@When("the admin imports users from {string}")\npublic void importUsersFromFile(String filePath) {\n    List<User> users = UserDataLoader.fromCsv(filePath);\n\n    users.forEach(user ->\n        actor.attemptsTo(RegisterUser.with(user))\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"fontes-de-dados-externas",children:"Fontes de Dados Externas"}),"\n",(0,a.jsx)(n.h3,{id:"lendo-de-arquivos-csv",children:"Lendo de Arquivos CSV"}),"\n",(0,a.jsx)(n.p,{children:"Crie um leitor de CSV reutilizavel:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class CsvDataReader {\n\n    public static List<Map<String, String>> readCsv(String filePath) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (BufferedReader reader = new BufferedReader(\n                new FileReader(filePath))) {\n\n            String headerLine = reader.readLine();\n            String[] headers = headerLine.split(",");\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] values = line.split(",");\n                Map<String, String> row = new HashMap<>();\n\n                for (int i = 0; i < headers.length; i++) {\n                    row.put(headers[i].trim(), values[i].trim());\n                }\n                data.add(row);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read CSV file: " + filePath, e);\n        }\n\n        return data;\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"lendo-de-arquivos-json",children:"Lendo de Arquivos JSON"}),"\n",(0,a.jsx)(n.p,{children:"Use Jackson ou Gson para ler dados de teste JSON:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"src/test/resources/test-data/products.json:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "Laptop",\n    "price": 999.99,\n    "category": "Electronics",\n    "inStock": true\n  },\n  {\n    "name": "Mouse",\n    "price": 29.99,\n    "category": "Accessories",\n    "inStock": true\n  }\n]\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.type.TypeReference;\n\npublic class JsonDataReader {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public static <T> List<T> readJson(String filePath, Class<T> type) {\n        try {\n            InputStream stream = JsonDataReader.class\n                .getResourceAsStream(filePath);\n            return mapper.readValue(stream,\n                mapper.getTypeFactory().constructCollectionType(List.class, type));\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read JSON file: " + filePath, e);\n        }\n    }\n}\n\n// Uso\n@MethodSource("productData")\nstatic Stream<Product> productData() {\n    List<Product> products = JsonDataReader.readJson(\n        "/test-data/products.json",\n        Product.class\n    );\n    return products.stream();\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"lendo-de-arquivos-excel",children:"Lendo de Arquivos Excel"}),"\n",(0,a.jsx)(n.p,{children:"Use Apache POI para arquivos Excel:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.poi</groupId>\n    <artifactId>poi-ooxml</artifactId>\n    <version>5.2.3</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelDataReader {\n\n    public static List<Map<String, String>> readExcel(String filePath, String sheetName) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (FileInputStream fis = new FileInputStream(filePath);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheet(sheetName);\n            Row headerRow = sheet.getRow(0);\n\n            for (int i = 1; i <= sheet.getLastRowNum(); i++) {\n                Row row = sheet.getRow(i);\n                Map<String, String> rowData = new HashMap<>();\n\n                for (int j = 0; j < headerRow.getLastCellNum(); j++) {\n                    String header = headerRow.getCell(j).getStringCellValue();\n                    String value = getCellValueAsString(row.getCell(j));\n                    rowData.put(header, value);\n                }\n                data.add(rowData);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read Excel file", e);\n        }\n\n        return data;\n    }\n\n    private static String getCellValueAsString(Cell cell) {\n        if (cell == null) return "";\n\n        switch (cell.getCellType()) {\n            case STRING: return cell.getStringCellValue();\n            case NUMERIC: return String.valueOf(cell.getNumericCellValue());\n            case BOOLEAN: return String.valueOf(cell.getBooleanCellValue());\n            default: return "";\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"builders-de-dados-de-teste",children:"Builders de Dados de Teste"}),"\n",(0,a.jsx)(n.p,{children:"Use o padrao Builder para dados de teste complexos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class UserBuilder {\n    private String username;\n    private String email;\n    private String password;\n    private String role = "USER";\n    private boolean active = true;\n\n    public static UserBuilder aUser() {\n        return new UserBuilder();\n    }\n\n    public UserBuilder withUsername(String username) {\n        this.username = username;\n        return this;\n    }\n\n    public UserBuilder withEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    public UserBuilder withPassword(String password) {\n        this.password = password;\n        return this;\n    }\n\n    public UserBuilder withRole(String role) {\n        this.role = role;\n        return this;\n    }\n\n    public UserBuilder inactive() {\n        this.active = false;\n        return this;\n    }\n\n    public User build() {\n        return new User(username, email, password, role, active);\n    }\n}\n\n// Uso\n@MethodSource("userTestData")\nstatic Stream<User> userTestData() {\n    return Stream.of(\n        aUser().withUsername("admin").withRole("ADMIN").build(),\n        aUser().withUsername("user1").withEmail("user1@example.com").build(),\n        aUser().withUsername("inactive").inactive().build()\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"usando-faker-para-dados-aleatorios",children:"Usando Faker para Dados Aleatorios"}),"\n",(0,a.jsx)(n.p,{children:"Gere dados de teste aleatorios realistas:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>com.github.javafaker</groupId>\n    <artifactId>javafaker</artifactId>\n    <version>1.0.2</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import com.github.javafaker.Faker;\n\npublic class TestDataGenerator {\n    private static final Faker faker = new Faker();\n\n    public static User randomUser() {\n        return aUser()\n            .withUsername(faker.name().username())\n            .withEmail(faker.internet().emailAddress())\n            .withPassword(faker.internet().password(8, 16))\n            .build();\n    }\n\n    public static Product randomProduct() {\n        return new Product(\n            faker.commerce().productName(),\n            Double.parseDouble(faker.commerce().price()),\n            faker.commerce().department()\n        );\n    }\n}\n\n// Uso em testes\n@ParameterizedTest\n@MethodSource("randomUsers")\nvoid shouldRegisterRandomUsers(User user) {\n    registration.registerUser(user);\n    registration.shouldSucceed();\n}\n\nstatic Stream<User> randomUsers() {\n    return Stream.generate(TestDataGenerator::randomUser).limit(10);\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"melhores-praticas",children:"Melhores Praticas"}),"\n",(0,a.jsx)(n.h3,{id:"1-mantenha-os-dados-de-teste-proximos-aos-testes",children:"1. Mantenha os Dados de Teste Proximos aos Testes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"src/test/resources/\n\u251c\u2500\u2500 test-data/\n\u2502   \u251c\u2500\u2500 users/\n\u2502   \u2502   \u251c\u2500\u2500 valid-users.csv\n\u2502   \u2502   \u2514\u2500\u2500 invalid-users.csv\n\u2502   \u251c\u2500\u2500 products/\n\u2502   \u2502   \u2514\u2500\u2500 products.json\n\u2502   \u2514\u2500\u2500 shared/\n\u2502       \u2514\u2500\u2500 countries.csv\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-use-nomes-de-teste-significativos",children:"2. Use Nomes de Teste Significativos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"@ParameterizedTest(name = \"User ''{0}'' with role ''{1}'' should access ''{2}''\")\n@CsvSource({\n    \"admin, ADMIN, dashboard\",\n    \"user,  USER,  homepage\"\n})\nvoid accessControlTests(String username, String role, String page) {\n    // Implementacao do teste\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-valide-os-dados-de-teste",children:"3. Valide os Dados de Teste"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@MethodSource("userData")\nstatic Stream<User> userData() {\n    return loadUsersFromCsv("/test-data/users.csv")\n        .stream()\n        .peek(user -> {\n            assertThat(user.getEmail()).contains("@");\n            assertThat(user.getPassword()).hasSizeGreaterThan(8);\n        });\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-isole-os-dados-de-teste",children:"4. Isole os Dados de Teste"}),"\n",(0,a.jsx)(n.p,{children:"Garanta que cada teste tenha seus proprios dados independentes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@BeforeEach\nvoid setUp() {\n    // Limpar quaisquer dados de teste existentes\n    testDataCleanup.deleteTestUsers();\n}\n\n@ParameterizedTest\n@MethodSource("userTestData")\nvoid userTests(User user) {\n    // Cada teste recebe dados novos\n    String uniqueUsername = user.getUsername() + "_" + UUID.randomUUID();\n    User isolatedUser = user.withUsername(uniqueUsername);\n    // Testar com dados isolados\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"5-documente-os-requisitos-de-dados",children:"5. Documente os Requisitos de Dados"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'/**\n * Testa o registro de usuarios com varias entradas validas.\n *\n * Requisitos de dados de teste:\n * - Username: 3-20 caracteres, alfanumerico\n * - Email: Formato de email valido\n * - Password: Minimo 8 caracteres\n * - Role: Um de [USER, ADMIN, MANAGER]\n */\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldRegisterValidUsers(String username, String email,\n                              String password, String role) {\n    // Implementacao do teste\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"6-separe-dados-validos-e-invalidos",children:"6. Separe Dados Validos e Invalidos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Testes de dados validos\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldAcceptValidUsers(User user) {\n    // Espera sucesso\n}\n\n// Testes de dados invalidos\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/invalid-users.csv")\nvoid shouldRejectInvalidUsers(User user, String expectedError) {\n    // Espera erro especifico\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"exemplo-completo-teste-de-e-commerce",children:"Exemplo Completo: Teste de E-Commerce"}),"\n",(0,a.jsx)(n.p,{children:"Aqui esta um exemplo completo combinando multiplas tecnicas:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Product.java:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class Product {\n    private final String name;\n    private final double price;\n    private final String category;\n    private final boolean inStock;\n\n    // Construtor, getters, builder...\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"test-data/products.csv:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"name,price,category,inStock,expectedInCart\nLaptop,999.99,Electronics,true,true\nHeadphones,79.99,Audio,true,true\nOut of Stock Item,49.99,Misc,false,false\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"ShoppingTests.java:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ShoppingTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest(name = "Adding {0} (${1}) should {4}")\n    @CsvFileSource(resources = "/test-data/products.csv", numLinesToSkip = 1)\n    void shouldHandleProductAddition(String name, double price, String category,\n                                     boolean inStock, boolean expectedInCart) {\n        Product product = new Product(name, price, category, inStock);\n\n        shopping.addProductToCart(product);\n\n        if (expectedInCart) {\n            shopping.shouldSeeProductInCart(product);\n            shopping.cartTotalShouldBe(price);\n        } else {\n            shopping.shouldSeeOutOfStockMessage();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"solucao-de-problemas",children:"Solucao de Problemas"}),"\n",(0,a.jsx)(n.h3,{id:"problema-testes-parametrizados-nao-executando",children:"Problema: Testes parametrizados nao executando"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solucao:"})," Certifique-se de ter a dependencia junit-jupiter-params e usar ",(0,a.jsx)(n.code,{children:"@ParameterizedTest"})," e nao ",(0,a.jsx)(n.code,{children:"@Test"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"problema-dados-csv-nao-carregando",children:"Problema: Dados CSV nao carregando"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Solucao:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Verifique se o caminho do arquivo e relativo a ",(0,a.jsx)(n.code,{children:"src/test/resources"})]}),"\n",(0,a.jsxs)(n.li,{children:["Verifique se ",(0,a.jsx)(n.code,{children:"numLinesToSkip"})," esta definido corretamente"]}),"\n",(0,a.jsx)(n.li,{children:"Verifique a formatacao correta do CSV"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"problema-dados-aparecendo-em-ordem-errada",children:"Problema: Dados aparecendo em ordem errada"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solucao:"})," O JUnit nao garante a ordem de execucao. Use ",(0,a.jsx)(n.code,{children:"@TestMethodOrder"})," se necessario:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTests {\n    @ParameterizedTest\n    @Order(1)\n    @ValueSource(strings = {"first"})\n    void test1(String value) { }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"proximos-passos",children:"Proximos Passos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Explore o ",(0,a.jsx)(n.a,{href:"/docs/screenplay/screenplay_fundamentals",children:"Screenplay Pattern"})," para melhor organizacao de testes"]}),"\n",(0,a.jsxs)(n.li,{children:["Aprenda sobre ",(0,a.jsx)(n.a,{href:"/docs/junit5/parallel-execution",children:"Execucao Paralela"})," para acelerar testes orientados a dados"]}),"\n",(0,a.jsxs)(n.li,{children:["Confira ",(0,a.jsx)(n.a,{href:"/docs/reporting/the_serenity_reports",children:"Relatorios Serenity"})," para ver como testes parametrizados aparecem nos relatorios"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"recursos-adicionais",children:"Recursos Adicionais"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests",children:"Guia de Testes Parametrizados JUnit 5"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://cucumber.io/docs/gherkin/reference/#scenario-outline",children:"Scenario Outline do Cucumber"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/DiUS/java-faker",children:"Documentacao do JavaFaker"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const a={},i=r.createContext(a);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);