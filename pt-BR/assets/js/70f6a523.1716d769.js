"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[4245],{1735(e,o,n){n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"playwright/playwright_tutorial_todomvc","title":"Tutorial: Testando TodoMVC","description":"Este tutorial mostra como construir uma su\xedte de testes Serenity Playwright para a aplica\xe7\xe3o TodoMVC. Em vez de mostrar o c\xf3digo final de uma vez, vamos constru\xed-lo iterativamente\u2014come\xe7ando com um \xfanico teste e adicionando apenas o que precisamos conforme avan\xe7amos.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/playwright/tutorial-todomvc.md","sourceDirName":"playwright","slug":"/playwright/playwright_tutorial_todomvc","permalink":"/pt-BR/docs/playwright/playwright_tutorial_todomvc","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/playwright/tutorial-todomvc.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"playwright_tutorial_todomvc","title":"Tutorial: Testando TodoMVC","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Boas Pr\xe1ticas","permalink":"/pt-BR/docs/playwright/playwright_best_practices"},"next":{"title":"Tutorial: Screenplay com TodoMVC","permalink":"/pt-BR/docs/playwright/playwright_screenplay_tutorial"}}');var a=n(4848),i=n(8453);const s={id:"playwright_tutorial_todomvc",title:"Tutorial: Testando TodoMVC",sidebar_position:7},r="Tutorial: Construindo uma Su\xedte de Testes Passo a Passo",d={},c=[{value:"O Que Estamos Testando",id:"o-que-estamos-testando",level:2},{value:"Configura\xe7\xe3o do Projeto",id:"configura\xe7\xe3o-do-projeto",level:2},{value:"Itera\xe7\xe3o 1: Nosso Primeiro Teste",id:"itera\xe7\xe3o-1-nosso-primeiro-teste",level:2},{value:"Escreva o Teste Primeiro",id:"escreva-o-teste-primeiro",level:3},{value:"Crie a Step Library",id:"crie-a-step-library",level:3},{value:"Crie o Page Object",id:"crie-o-page-object",level:3},{value:"Execute",id:"execute",level:3},{value:"Itera\xe7\xe3o 2: Adicionando Mais Asser\xe7\xf5es",id:"itera\xe7\xe3o-2-adicionando-mais-asser\xe7\xf5es",level:2},{value:"Atualize o Teste",id:"atualize-o-teste",level:3},{value:"Adicione \xe0 Step Library",id:"adicione-\xe0-step-library",level:3},{value:"Adicione ao Page Object",id:"adicione-ao-page-object",level:3},{value:"Itera\xe7\xe3o 3: Testando M\xfaltiplas Tarefas",id:"itera\xe7\xe3o-3-testando-m\xfaltiplas-tarefas",level:2},{value:"Adicione um Novo Teste",id:"adicione-um-novo-teste",level:3},{value:"Adicione \xe0 Step Library",id:"adicione-\xe0-step-library-1",level:3},{value:"Adicione ao Page Object",id:"adicione-ao-page-object-1",level:3},{value:"Itera\xe7\xe3o 4: Extrair uma Classe Base de Teste",id:"itera\xe7\xe3o-4-extrair-uma-classe-base-de-teste",level:2},{value:"Crie a Classe Base",id:"crie-a-classe-base",level:3},{value:"Simplifique a Classe de Teste",id:"simplifique-a-classe-de-teste",level:3},{value:"Itera\xe7\xe3o 5: Testando Conclus\xe3o",id:"itera\xe7\xe3o-5-testando-conclus\xe3o",level:2},{value:"Crie a Classe de Teste",id:"crie-a-classe-de-teste",level:3},{value:"Adicione \xe0 Step Library",id:"adicione-\xe0-step-library-2",level:3},{value:"Adicione ao Page Object",id:"adicione-ao-page-object-2",level:3},{value:"Itera\xe7\xe3o 6: Testando a Contagem Restante",id:"itera\xe7\xe3o-6-testando-a-contagem-restante",level:2},{value:"Adicione Outro Teste",id:"adicione-outro-teste",level:3},{value:"Adicione \xe0 Step Library",id:"adicione-\xe0-step-library-3",level:3},{value:"Adicione ao Page Object",id:"adicione-ao-page-object-3",level:3},{value:"O Padr\xe3o",id:"o-padr\xe3o",level:2},{value:"Continue Construindo",id:"continue-construindo",level:2},{value:"Estrutura Final do Projeto",id:"estrutura-final-do-projeto",level:2},{value:"Principais Li\xe7\xf5es",id:"principais-li\xe7\xf5es",level:2},{value:"C\xf3digo-Fonte Completo",id:"c\xf3digo-fonte-completo",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"tutorial-construindo-uma-su\xedte-de-testes-passo-a-passo",children:"Tutorial: Construindo uma Su\xedte de Testes Passo a Passo"})}),"\n",(0,a.jsxs)(o.p,{children:["Este tutorial mostra como construir uma su\xedte de testes Serenity Playwright para a ",(0,a.jsx)(o.a,{href:"https://todomvc.com/examples/react/dist/",children:"aplica\xe7\xe3o TodoMVC"}),". Em vez de mostrar o c\xf3digo final de uma vez, vamos constru\xed-lo iterativamente\u2014come\xe7ando com um \xfanico teste e adicionando apenas o que precisamos conforme avan\xe7amos."]}),"\n",(0,a.jsx)(o.p,{children:"Isso reflete como voc\xea realmente desenvolveria testes na pr\xe1tica: escreva um teste, construa a infraestrutura m\xednima para suport\xe1-lo, depois expanda."}),"\n",(0,a.jsx)(o.h2,{id:"o-que-estamos-testando",children:"O Que Estamos Testando"}),"\n",(0,a.jsx)(o.p,{children:"TodoMVC \xe9 uma aplica\xe7\xe3o simples de lista de tarefas onde usu\xe1rios podem adicionar, completar, editar e excluir itens. Come\xe7aremos com a funcionalidade mais b\xe1sica e evoluiremos a partir da\xed."}),"\n",(0,a.jsx)(o.h2,{id:"configura\xe7\xe3o-do-projeto",children:"Configura\xe7\xe3o do Projeto"}),"\n",(0,a.jsxs)(o.p,{children:["Primeiro, crie um projeto Maven com estas depend\xeancias no ",(0,a.jsx)(o.code,{children:"pom.xml"}),":"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>serenity-playwright-todomvc</artifactId>\n    <version>1.0.0-SNAPSHOT</version>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <maven.compiler.source>17</maven.compiler.source>\n        <maven.compiler.target>17</maven.compiler.target>\n        <serenity.version>5.1.0</serenity.version>\n        <playwright.version>1.57.0</playwright.version>\n    </properties>\n\n    <dependencies>\n        <dependency>\n            <groupId>net.serenity-bdd</groupId>\n            <artifactId>serenity-playwright</artifactId>\n            <version>${serenity.version}</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>net.serenity-bdd</groupId>\n            <artifactId>serenity-junit5</artifactId>\n            <version>${serenity.version}</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>com.microsoft.playwright</groupId>\n            <artifactId>playwright</artifactId>\n            <version>${playwright.version}</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.junit.jupiter</groupId>\n            <artifactId>junit-jupiter</artifactId>\n            <version>6.0.1</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.assertj</groupId>\n            <artifactId>assertj-core</artifactId>\n            <version>3.27.0</version>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-failsafe-plugin</artifactId>\n                <version>3.5.0</version>\n                <configuration>\n                    <includes>\n                        <include>**/*Test.java</include>\n                    </includes>\n                </configuration>\n                <executions>\n                    <execution>\n                        <goals>\n                            <goal>integration-test</goal>\n                            <goal>verify</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            <plugin>\n                <groupId>net.serenity-bdd.maven.plugins</groupId>\n                <artifactId>serenity-maven-plugin</artifactId>\n                <version>${serenity.version}</version>\n                <executions>\n                    <execution>\n                        <id>serenity-reports</id>\n                        <phase>post-integration-test</phase>\n                        <goals>\n                            <goal>aggregate</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n'})}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-1-nosso-primeiro-teste",children:"Itera\xe7\xe3o 1: Nosso Primeiro Teste"}),"\n",(0,a.jsx)(o.p,{children:"Vamos come\xe7ar com o teste mais simples poss\xedvel: adicionar um \xfanico item de tarefa."}),"\n",(0,a.jsx)(o.h3,{id:"escreva-o-teste-primeiro",children:"Escreva o Teste Primeiro"}),"\n",(0,a.jsxs)(o.p,{children:["Crie ",(0,a.jsx)(o.code,{children:"src/test/java/todomvc/tests/WhenAddingTodosTest.java"}),":"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'package todomvc.tests;\n\nimport com.microsoft.playwright.*;\nimport net.serenitybdd.annotations.Steps;\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport net.serenitybdd.playwright.PlaywrightSerenity;\nimport org.junit.jupiter.api.*;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport todomvc.steps.TodoSteps;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When adding todos")\nclass WhenAddingTodosTest {\n\n    private Playwright playwright;\n    private Browser browser;\n    private Page page;\n\n    @Steps\n    TodoSteps todo;\n\n    @BeforeEach\n    void setUp() {\n        playwright = Playwright.create();\n        browser = playwright.chromium().launch(\n            new BrowserType.LaunchOptions().setHeadless(true)\n        );\n        page = browser.newPage();\n        PlaywrightSerenity.registerPage(page);\n        todo.setPage(page);\n    }\n\n    @AfterEach\n    void tearDown() {\n        PlaywrightSerenity.unregisterPage(page);\n        if (page != null) page.close();\n        if (browser != null) browser.close();\n        if (playwright != null) playwright.close();\n    }\n\n    @Test\n    @DisplayName("should add a single todo item")\n    void shouldAddSingleTodoItem() {\n        todo.openApplication();\n        todo.addTodo("Buy milk");\n\n        assertThat(todo.visibleTodoCount()).isEqualTo(1);\n    }\n}\n'})}),"\n",(0,a.jsx)(o.p,{children:"Este teste ainda n\xe3o vai compilar\u2014precisamos criar a step library e o page object. Mas observe que definimos exatamente o que precisamos:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.code,{children:"openApplication()"})," - navegar at\xe9 a aplica\xe7\xe3o"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.code,{children:"addTodo(String)"})," - adicionar um item"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.code,{children:"visibleTodoCount()"})," - retornar quantos itens est\xe3o vis\xedveis"]}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"crie-a-step-library",children:"Crie a Step Library"}),"\n",(0,a.jsxs)(o.p,{children:["Crie ",(0,a.jsx)(o.code,{children:"src/test/java/todomvc/steps/TodoSteps.java"})," com apenas os m\xe9todos que precisamos:"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'package todomvc.steps;\n\nimport com.microsoft.playwright.Page;\nimport net.serenitybdd.annotations.Step;\nimport todomvc.pages.TodoMvcPage;\n\npublic class TodoSteps {\n\n    private TodoMvcPage todoMvcPage;\n\n    public void setPage(Page page) {\n        this.todoMvcPage = new TodoMvcPage(page);\n    }\n\n    @Step("Open the TodoMVC application")\n    public void openApplication() {\n        todoMvcPage.open();\n    }\n\n    @Step("Add a todo: \'{0}\'")\n    public void addTodo(String todoText) {\n        todoMvcPage.addTodo(todoText);\n    }\n\n    @Step("Get the number of visible todos")\n    public int visibleTodoCount() {\n        return todoMvcPage.getVisibleTodoCount();\n    }\n}\n'})}),"\n",(0,a.jsx)(o.admonition,{title:"Passos Retornam Dados, Testes Fazem Asser\xe7\xf5es",type:"tip",children:(0,a.jsxs)(o.p,{children:["Observe que ",(0,a.jsx)(o.code,{children:"visibleTodoCount()"})," retorna um ",(0,a.jsx)(o.code,{children:"int"}),". O teste faz a asser\xe7\xe3o, n\xe3o a step library. Isso mant\xe9m os passos reutiliz\xe1veis\u2014o mesmo passo pode ser usado em diferentes testes com diferentes valores esperados."]})}),"\n",(0,a.jsx)(o.h3,{id:"crie-o-page-object",children:"Crie o Page Object"}),"\n",(0,a.jsxs)(o.p,{children:["Crie ",(0,a.jsx)(o.code,{children:"src/test/java/todomvc/pages/TodoMvcPage.java"})," com apenas o que precisamos:"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'package todomvc.pages;\n\nimport com.microsoft.playwright.Locator;\nimport com.microsoft.playwright.Page;\n\npublic class TodoMvcPage {\n\n    private final Page page;\n    private static final String URL = "https://todomvc.com/examples/react/dist/";\n\n    public TodoMvcPage(Page page) {\n        this.page = page;\n    }\n\n    // Locators - mantenha privados\n    private Locator newTodoInput() {\n        return page.getByPlaceholder("What needs to be done?");\n    }\n\n    private Locator todoItems() {\n        return page.locator(".todo-list li");\n    }\n\n    // A\xe7\xf5es\n    public void open() {\n        page.navigate(URL);\n        page.waitForLoadState();\n    }\n\n    public void addTodo(String todoText) {\n        newTodoInput().fill(todoText);\n        newTodoInput().press("Enter");\n    }\n\n    // Consultas\n    public int getVisibleTodoCount() {\n        return todoItems().count();\n    }\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"execute",children:"Execute"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"mvn clean verify\n"})}),"\n",(0,a.jsx)(o.p,{children:"O teste deve passar. Agora temos uma su\xedte de testes funcional m\xednima."}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-2-adicionando-mais-asser\xe7\xf5es",children:"Itera\xe7\xe3o 2: Adicionando Mais Asser\xe7\xf5es"}),"\n",(0,a.jsx)(o.p,{children:"Vamos melhorar nosso teste para verificar se o texto da tarefa aparece corretamente."}),"\n",(0,a.jsx)(o.h3,{id:"atualize-o-teste",children:"Atualize o Teste"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@Test\n@DisplayName("should add a single todo item")\nvoid shouldAddSingleTodoItem() {\n    todo.openApplication();\n    todo.addTodo("Buy milk");\n\n    assertThat(todo.visibleTodoCount()).isEqualTo(1);\n    assertThat(todo.todoExists("Buy milk")).isTrue();  // Nova asser\xe7\xe3o\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-\xe0-step-library",children:"Adicione \xe0 Step Library"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:"@Step(\"Check if todo '{0}' exists\")\npublic boolean todoExists(String todoText) {\n    return todoMvcPage.hasTodo(todoText);\n}\n"})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-ao-page-object",children:"Adicione ao Page Object"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'private Locator todoItemByText(String text) {\n    return page.locator(".todo-list li").filter(\n        new Locator.FilterOptions().setHasText(text)\n    );\n}\n\npublic boolean hasTodo(String todoText) {\n    return todoItemByText(todoText).count() > 0;\n}\n'})}),"\n",(0,a.jsxs)(o.p,{children:["Adicionamos um novo m\xe9todo de locator ",(0,a.jsx)(o.code,{children:"todoItemByText()"})," porque precis\xe1vamos encontrar um item espec\xedfico. Este locator ser\xe1 reutilizado para outras opera\xe7\xf5es depois."]}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-3-testando-m\xfaltiplas-tarefas",children:"Itera\xe7\xe3o 3: Testando M\xfaltiplas Tarefas"}),"\n",(0,a.jsx)(o.h3,{id:"adicione-um-novo-teste",children:"Adicione um Novo Teste"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@Test\n@DisplayName("should add multiple todo items")\nvoid shouldAddMultipleTodoItems() {\n    todo.openApplication();\n    todo.addTodos("Buy milk", "Walk the dog", "Do laundry");\n\n    assertThat(todo.visibleTodoCount()).isEqualTo(3);\n    assertThat(todo.visibleTodos())\n        .containsExactly("Buy milk", "Walk the dog", "Do laundry");\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-\xe0-step-library-1",children:"Adicione \xe0 Step Library"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@Step("Add todos: {0}")\npublic void addTodos(String... todoTexts) {\n    todoMvcPage.addTodos(todoTexts);\n}\n\n@Step("Get the visible todo items")\npublic List<String> visibleTodos() {\n    return todoMvcPage.getVisibleTodoTexts();\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-ao-page-object-1",children:"Adicione ao Page Object"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'public void addTodos(String... todoTexts) {\n    for (String text : todoTexts) {\n        addTodo(text);\n    }\n}\n\npublic List<String> getVisibleTodoTexts() {\n    return todoItems().locator("label").allTextContents();\n}\n'})}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-4-extrair-uma-classe-base-de-teste",children:"Itera\xe7\xe3o 4: Extrair uma Classe Base de Teste"}),"\n",(0,a.jsx)(o.p,{children:"Estamos prestes a criar mais classes de teste, e todas precisar\xe3o da mesma configura\xe7\xe3o do Playwright. Vamos extrair isso para uma classe base."}),"\n",(0,a.jsx)(o.h3,{id:"crie-a-classe-base",children:"Crie a Classe Base"}),"\n",(0,a.jsxs)(o.p,{children:["Crie ",(0,a.jsx)(o.code,{children:"src/test/java/todomvc/tests/SerenityPlaywrightTest.java"}),":"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:"package todomvc.tests;\n\nimport com.microsoft.playwright.*;\nimport net.serenitybdd.playwright.PlaywrightSerenity;\nimport org.junit.jupiter.api.*;\n\npublic abstract class SerenityPlaywrightTest {\n\n    protected Playwright playwright;\n    protected Browser browser;\n    protected Page page;\n\n    @BeforeEach\n    void setUpPlaywright() {\n        playwright = Playwright.create();\n        browser = playwright.chromium().launch(\n            new BrowserType.LaunchOptions().setHeadless(true)\n        );\n        page = browser.newPage();\n        PlaywrightSerenity.registerPage(page);\n    }\n\n    @AfterEach\n    void tearDownPlaywright() {\n        PlaywrightSerenity.unregisterPage(page);\n        if (page != null) page.close();\n        if (browser != null) browser.close();\n        if (playwright != null) playwright.close();\n    }\n}\n"})}),"\n",(0,a.jsx)(o.h3,{id:"simplifique-a-classe-de-teste",children:"Simplifique a Classe de Teste"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When adding todos")\nclass WhenAddingTodosTest extends SerenityPlaywrightTest {\n\n    @Steps\n    TodoSteps todo;\n\n    @BeforeEach\n    void setUp() {\n        todo.setPage(page);\n    }\n\n    @Test\n    @DisplayName("should add a single todo item")\n    void shouldAddSingleTodoItem() {\n        todo.openApplication();\n        todo.addTodo("Buy milk");\n\n        assertThat(todo.visibleTodoCount()).isEqualTo(1);\n        assertThat(todo.todoExists("Buy milk")).isTrue();\n    }\n\n    // ... outros testes\n}\n'})}),"\n",(0,a.jsx)(o.p,{children:"Muito mais limpo! Cada classe de teste agora foca puramente na l\xf3gica do teste."}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-5-testando-conclus\xe3o",children:"Itera\xe7\xe3o 5: Testando Conclus\xe3o"}),"\n",(0,a.jsx)(o.p,{children:"Agora vamos criar uma nova classe de teste para completar tarefas."}),"\n",(0,a.jsx)(o.h3,{id:"crie-a-classe-de-teste",children:"Crie a Classe de Teste"}),"\n",(0,a.jsxs)(o.p,{children:["Crie ",(0,a.jsx)(o.code,{children:"src/test/java/todomvc/tests/WhenCompletingTodosTest.java"}),":"]}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When completing todos")\nclass WhenCompletingTodosTest extends SerenityPlaywrightTest {\n\n    @Steps\n    TodoSteps todo;\n\n    @BeforeEach\n    void setUp() {\n        todo.setPage(page);\n    }\n\n    @Test\n    @DisplayName("should mark a todo as completed")\n    void shouldMarkTodoAsCompleted() {\n        todo.openApplication();\n        todo.addTodo("Buy milk");\n        todo.completeTodo("Buy milk");\n\n        assertThat(todo.todoIsCompleted("Buy milk")).isTrue();\n    }\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-\xe0-step-library-2",children:"Adicione \xe0 Step Library"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:"@Step(\"Complete the todo: '{0}'\")\npublic void completeTodo(String todoText) {\n    todoMvcPage.completeTodo(todoText);\n}\n\n@Step(\"Check if todo '{0}' is completed\")\npublic boolean todoIsCompleted(String todoText) {\n    return todoMvcPage.isCompleted(todoText);\n}\n"})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-ao-page-object-2",children:"Adicione ao Page Object"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'private Locator todoCheckbox(String text) {\n    return todoItemByText(text).locator(".toggle");\n}\n\npublic void completeTodo(String todoText) {\n    todoCheckbox(todoText).click();\n}\n\npublic boolean isCompleted(String todoText) {\n    String classAttr = todoItemByText(todoText).getAttribute("class");\n    return classAttr != null && classAttr.contains("completed");\n}\n'})}),"\n",(0,a.jsxs)(o.p,{children:["Observe como reutilizamos ",(0,a.jsx)(o.code,{children:"todoItemByText()"})," que criamos antes. O page object cresce organicamente conforme precisamos de mais funcionalidade."]}),"\n",(0,a.jsx)(o.h2,{id:"itera\xe7\xe3o-6-testando-a-contagem-restante",children:"Itera\xe7\xe3o 6: Testando a Contagem Restante"}),"\n",(0,a.jsx)(o.h3,{id:"adicione-outro-teste",children:"Adicione Outro Teste"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@Test\n@DisplayName("should decrease remaining count when completing")\nvoid shouldDecreaseRemainingCountWhenCompleting() {\n    todo.openApplication();\n    todo.addTodos("Task 1", "Task 2", "Task 3");\n\n    assertThat(todo.remainingCount()).isEqualTo(3);\n\n    todo.completeTodo("Task 2");\n\n    assertThat(todo.remainingCount()).isEqualTo(2);\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-\xe0-step-library-3",children:"Adicione \xe0 Step Library"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'@Step("Get the remaining items count")\npublic int remainingCount() {\n    return todoMvcPage.getRemainingCount();\n}\n'})}),"\n",(0,a.jsx)(o.h3,{id:"adicione-ao-page-object-3",children:"Adicione ao Page Object"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-java",children:'private Locator todoCount() {\n    return page.locator(".todo-count");\n}\n\npublic int getRemainingCount() {\n    String text = todoCount().textContent();\n    return Integer.parseInt(text.replaceAll("[^0-9]", ""));\n}\n'})}),"\n",(0,a.jsx)(o.h2,{id:"o-padr\xe3o",children:"O Padr\xe3o"}),"\n",(0,a.jsx)(o.p,{children:"Agora voc\xea pode ver o padr\xe3o:"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Escreva um teste"})," que descreve o que voc\xea quer verificar"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Adicione m\xe9todos \xe0 step library"})," que o teste precisa"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Adicione m\xe9todos ao page object"})," que os passos precisam"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Adicione locators"})," apenas quando um m\xe9todo requer"]}),"\n"]}),"\n",(0,a.jsx)(o.p,{children:"Esta abordagem garante:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsx)(o.li,{children:"Voc\xea nunca escreve c\xf3digo que n\xe3o precisa"}),"\n",(0,a.jsx)(o.li,{children:"Cada adi\xe7\xe3o \xe9 orientada por um requisito concreto"}),"\n",(0,a.jsx)(o.li,{children:"O page object cresce naturalmente para corresponder \xe0 cobertura de testes"}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"continue-construindo",children:"Continue Construindo"}),"\n",(0,a.jsx)(o.p,{children:"Seguindo este padr\xe3o, voc\xea pode adicionar testes para:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsx)(o.li,{children:"Editar tarefas (duplo clique, digitar, pressionar Enter)"}),"\n",(0,a.jsx)(o.li,{children:"Excluir tarefas (hover, clicar no bot\xe3o de destruir)"}),"\n",(0,a.jsx)(o.li,{children:"Filtrar (Todas, Ativas, Completadas)"}),"\n",(0,a.jsx)(o.li,{children:"Alternar todas"}),"\n",(0,a.jsx)(o.li,{children:"Limpar completadas"}),"\n"]}),"\n",(0,a.jsx)(o.p,{children:"Cada novo teste pode requerer novos m\xe9todos de passos, m\xe9todos do page object e locators\u2014adicione conforme necess\xe1rio."}),"\n",(0,a.jsx)(o.h2,{id:"estrutura-final-do-projeto",children:"Estrutura Final do Projeto"}),"\n",(0,a.jsx)(o.p,{children:"Ap\xf3s v\xe1rias itera\xe7\xf5es, seu projeto ficar\xe1 assim:"}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{children:"src/test/java/todomvc/\n\u251c\u2500\u2500 pages/\n\u2502   \u2514\u2500\u2500 TodoMvcPage.java         # Cresce a cada itera\xe7\xe3o\n\u251c\u2500\u2500 steps/\n\u2502   \u2514\u2500\u2500 TodoSteps.java           # Cresce a cada itera\xe7\xe3o\n\u2514\u2500\u2500 tests/\n    \u251c\u2500\u2500 SerenityPlaywrightTest.java  # Extra\xedda na itera\xe7\xe3o 4\n    \u251c\u2500\u2500 WhenAddingTodosTest.java\n    \u251c\u2500\u2500 WhenCompletingTodosTest.java\n    \u251c\u2500\u2500 WhenEditingTodosTest.java    # Adicionada depois\n    \u251c\u2500\u2500 WhenDeletingTodosTest.java   # Adicionada depois\n    \u2514\u2500\u2500 WhenFilteringTodosTest.java  # Adicionada depois\n"})}),"\n",(0,a.jsx)(o.h2,{id:"principais-li\xe7\xf5es",children:"Principais Li\xe7\xf5es"}),"\n",(0,a.jsxs)(o.table,{children:[(0,a.jsx)(o.thead,{children:(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.th,{children:"Princ\xedpio"}),(0,a.jsx)(o.th,{children:"Por Que Importa"})]})}),(0,a.jsxs)(o.tbody,{children:[(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:(0,a.jsx)(o.strong,{children:"Comece com um teste"})}),(0,a.jsx)(o.td,{children:"Testes direcionam qual c\xf3digo voc\xea escreve"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:(0,a.jsx)(o.strong,{children:"Adicione apenas o necess\xe1rio"})}),(0,a.jsx)(o.td,{children:"Sem c\xf3digo especulativo que pode nunca ser usado"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:(0,a.jsx)(o.strong,{children:"Extraia quando padr\xf5es emergirem"})}),(0,a.jsx)(o.td,{children:"Classe base surgiu depois de vermos duplica\xe7\xe3o"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:(0,a.jsx)(o.strong,{children:"Passos retornam dados"})}),(0,a.jsx)(o.td,{children:"Testes fazem asser\xe7\xf5es, mantendo passos reutiliz\xe1veis"})]}),(0,a.jsxs)(o.tr,{children:[(0,a.jsx)(o.td,{children:(0,a.jsx)(o.strong,{children:"Locators privados"})}),(0,a.jsx)(o.td,{children:"Encapsulamento facilita mudan\xe7as"})]})]})]}),"\n",(0,a.jsx)(o.h2,{id:"c\xf3digo-fonte-completo",children:"C\xf3digo-Fonte Completo"}),"\n",(0,a.jsxs)(o.p,{children:["O c\xf3digo-fonte completo deste tutorial est\xe1 dispon\xedvel em:\n",(0,a.jsx)(o.a,{href:"https://github.com/serenity-bdd/serenity-playwright-todomvc-demo",children:"github.com/serenity-bdd/serenity-playwright-todomvc-demo"})]})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453(e,o,n){n.d(o,{R:()=>s,x:()=>r});var t=n(6540);const a={},i=t.createContext(a);function s(e){const o=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);