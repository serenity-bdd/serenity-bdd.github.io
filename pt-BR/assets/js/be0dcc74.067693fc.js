"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[1163],{2823(e,a,o){o.r(a),o.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"reporting/filtering_reports","title":"Filtrando Execu\xe7\xe3o e Relat\xf3rios com Tags","description":"O Serenity BDD facilita obter tanto uma vis\xe3o geral ampla dos seus resultados de teste quanto da cobertura funcional.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/reporting/filtering-reports.md","sourceDirName":"reporting","slug":"/reporting/filtering_reports","permalink":"/pt-BR/docs/reporting/filtering_reports","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/reporting/filtering-reports.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"filtering_reports","title":"Filtrando Execu\xe7\xe3o e Relat\xf3rios com Tags","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Documenta\xe7\xe3o Viva","permalink":"/pt-BR/docs/reporting/living_documentation"},"next":{"title":"Relat\xf3rios Adicionais","permalink":"/pt-BR/docs/reporting/additional_reports"}}');var s=o(4848),r=o(8453);const t={id:"filtering_reports",title:"Filtrando Execu\xe7\xe3o e Relat\xf3rios com Tags",sidebar_position:3},i=void 0,c={},d=[{value:"Executando Cen\xe1rios por tags",id:"executando-cen\xe1rios-por-tags",level:2},{value:"Excluindo Requisitos N\xe3o Relacionados",id:"excluindo-requisitos-n\xe3o-relacionados",level:2},{value:"Usando tags com Cucumber e JUnit 5",id:"usando-tags-com-cucumber-e-junit-5",level:2}];function l(e){const a={admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.p,{children:"O Serenity BDD facilita obter tanto uma vis\xe3o geral ampla dos seus resultados de teste quanto da cobertura funcional.\nMas ao trabalhar com grandes conjuntos de testes, muitas vezes \xe9 \xfatil poder se concentrar em \xe1reas funcionais espec\xedficas da aplica\xe7\xe3o ao reportar resultados.\nPor exemplo, voc\xea pode querer visualizar apenas os resultados dos testes relacionados ao release atual, ou a uma \xe1rea funcional espec\xedfica."}),"\n",(0,s.jsx)(a.p,{children:"No Serenity BDD, voc\xea pode usar tags para gerar esse tipo de relat\xf3rio focado."}),"\n",(0,s.jsxs)(a.p,{children:["Isso funciona de forma muito natural com cen\xe1rios de teste Cucumber. Por exemplo, no seguinte arquivo de feature, usamos a tag ",(0,s.jsx)(a.code,{children:"@sprint-2"})," para indicar que o cen\xe1rio est\xe1 programado para o Sprint 2."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-gherkin",children:"@sprint-2\nScenario: Comprador pede um caf\xe9\n  Given Cathy tem uma conta Caffeinate-Me\n  When ela pede um cappuccino grande\n  Then Cathy deve receber o pedido\n"})}),"\n",(0,s.jsx)(a.p,{children:"A marca\xe7\xe3o com tags tamb\xe9m funciona com testes JUnit 5, como ilustrado aqui:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass WhenAddingNumbers {\n\n    @Steps\n    MathWizSteps michael;\n\n    @Test\n    @WithTag("release:sprint-2")\n    void addingSums() {\n        // Given\n        michael.startsWith(1);\n\n        // When\n        michael.adds(2);\n\n        // Then\n        michael.shouldHave(3);\n    }\n\n    @Test\n    @WithTagsValuesOf({"Reporting", "release:sprint-3"})\n    void testWithMultipleTags() {\n    }\n}\n'})}),"\n",(0,s.jsx)(a.admonition,{title:"JUnit 4 Obsoleto",type:"note",children:(0,s.jsxs)(a.p,{children:["Se voc\xea estiver usando JUnit 4 com ",(0,s.jsx)(a.code,{children:"@RunWith(SerenityRunner.class)"}),", observe que o suporte ao JUnit 4 est\xe1 obsoleto a partir do Serenity 5.0.0 e ser\xe1 removido no Serenity 6.0.0. Por favor, migre para o JUnit 5."]})}),"\n",(0,s.jsx)(a.h2,{id:"executando-cen\xe1rios-por-tags",children:"Executando Cen\xe1rios por tags"}),"\n",(0,s.jsx)(a.p,{children:'Tags tamb\xe9m s\xe3o uma \xf3tima maneira de ajudar a organizar a execu\xe7\xe3o de testes.\nPor exemplo, voc\xea pode querer marcar todos os testes de web services, ou marcar certos testes para executar apenas no navegador Internet Explorer.\nCom testes JUnit, isso pode ser alcan\xe7ado fornecendo uma \xfanica tag ou uma lista de tags separadas por "or" na linha de comando.\nSe fornecido, apenas classes e/ou m\xe9todos com tags nesta lista ser\xe3o executados.'}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:'mvn clean verify -Dtags="feature:Reporting or release:sprint-2"\nmvn clean verify -Dtags="feature:Reporting or release:sprint-2"\n'})}),"\n",(0,s.jsxs)(a.p,{children:["Ao usar Cucumber, precisamos usar a propriedade ",(0,s.jsx)(a.code,{children:"cucumber.options"})," para indicar quais cen\xe1rios devem ser executados. Por exemplo, o seguinte comando executa todos os cen\xe1rios Cucumber com a tag ",(0,s.jsx)(a.code,{children:"@sprint-2"}),":"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:'mvn clean verify -Dcucumber.options="--tags=@sprint-2"\n'})}),"\n",(0,s.jsx)(a.h2,{id:"excluindo-requisitos-n\xe3o-relacionados",children:"Excluindo Requisitos N\xe3o Relacionados"}),"\n",(0,s.jsxs)(a.p,{children:["Por padr\xe3o, quando voc\xea usa a op\xe7\xe3o ",(0,s.jsx)(a.code,{children:"tags"}),", o Serenity filtrar\xe1 seus requisitos da melhor forma poss\xedvel para reportar apenas os requisitos que s\xe3o relevantes para a tag especificada."]}),"\n",(0,s.jsxs)(a.p,{children:["A filtragem de requisitos s\xf3 acontece se voc\xea especificar a op\xe7\xe3o ",(0,s.jsx)(a.code,{children:"tags"}),". Ent\xe3o isso produzir\xe1 um conjunto completo de requisitos na p\xe1gina ",(0,s.jsx)(a.em,{children:"Requirements"}),"."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:'mvn clean verify -Dcucumber.options="--tags @sprint-2"\n'})}),"\n",(0,s.jsx)(a.p,{children:"Mas isso reportar\xe1 apenas os requisitos que est\xe3o relacionados aos testes executados."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:'mvn clean verify -Dcucumber.options="--tags @sprint-2" -Dtags=sprint-2\n'})}),"\n",(0,s.jsxs)(a.p,{children:["Se voc\xea j\xe1 executou o conjunto completo de testes, tamb\xe9m pode produzir um relat\xf3rio agregado filtrado, caso em que n\xe3o precisa fornecer a propriedade ",(0,s.jsx)(a.code,{children:"cucumber.options"}),":"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"mvn serenity:aggregate -Dtags=sprint-2\n"})}),"\n",(0,s.jsx)(a.h2,{id:"usando-tags-com-cucumber-e-junit-5",children:"Usando tags com Cucumber e JUnit 5"}),"\n",(0,s.jsxs)(a.p,{children:["Ao executar testes Cucumber com JUnit 5, voc\xea pode usar a propriedade de configura\xe7\xe3o ",(0,s.jsx)(a.code,{children:"FILTER_TAGS_PROPERTY_NAME"})," para gerenciar as tags para um executor de teste espec\xedfico:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-java",children:'@ConfigurationParameter(key = FILTER_TAGS_PROPERTY_NAME, value = "@smoke-test and @filtering")\npublic class CucumberTestSuite {\n}\n'})}),"\n",(0,s.jsxs)(a.p,{children:["Alternativamente, a partir da linha de comando, voc\xea pode usar a propriedade de linha de comando ",(0,s.jsx)(a.code,{children:"tags"})," como mostrado aqui (observe que com Cucumber 7, voc\xea n\xe3o precisa do s\xedmbolo '@' para as tags ao especificar tags na linha de comando):"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:'mvn clean verify -Dtags="smoke-test or filtering"\n'})})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453(e,a,o){o.d(a,{R:()=>t,x:()=>i});var n=o(6540);const s={},r=n.createContext(s);function t(e){const a=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);