"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[915],{2808(e,a,s){s.r(a),s.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"playwright/playwright_best_practices","title":"Boas Pr\xe1ticas","description":"Este guia aborda as melhores pr\xe1ticas para escrever testes Serenity Playwright f\xe1ceis de manter, confi\xe1veis e eficientes.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/playwright/best-practices.md","sourceDirName":"playwright","slug":"/playwright/playwright_best_practices","permalink":"/pt-BR/docs/playwright/playwright_best_practices","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/playwright/best-practices.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"playwright_best_practices","title":"Boas Pr\xe1ticas","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Configura\xe7\xe3o","permalink":"/pt-BR/docs/playwright/playwright_configuration"},"next":{"title":"Tutorial: Testando TodoMVC","permalink":"/pt-BR/docs/playwright/playwright_tutorial_todomvc"}}');var r=s(4848),t=s(8453);const i={id:"playwright_best_practices",title:"Boas Pr\xe1ticas",sidebar_position:6},o="Boas Pr\xe1ticas",d={},l=[{value:"Arquitetura de Testes",id:"arquitetura-de-testes",level:2},{value:"Siga o Padr\xe3o de Tr\xeas Camadas",id:"siga-o-padr\xe3o-de-tr\xeas-camadas",level:3},{value:"Mantenha os Testes Focados",id:"mantenha-os-testes-focados",level:3},{value:"Gerenciamento do Navegador",id:"gerenciamento-do-navegador",level:2},{value:"Compartilhe o Navegador, Isole as P\xe1ginas",id:"compartilhe-o-navegador-isole-as-p\xe1ginas",level:3},{value:"Use Contextos de Navegador para Isolamento",id:"use-contextos-de-navegador-para-isolamento",level:3},{value:"Extraia a Configura\xe7\xe3o Comum para uma Classe Base",id:"extraia-a-configura\xe7\xe3o-comum-para-uma-classe-base",level:3},{value:"Estrat\xe9gias de Locator",id:"estrat\xe9gias-de-locator",level:2},{value:"Prefira Locators Resilientes",id:"prefira-locators-resilientes",level:3},{value:"Evite Locators Fr\xe1geis",id:"evite-locators-fr\xe1geis",level:3},{value:"Use Locators Encadeados para Contexto",id:"use-locators-encadeados-para-contexto",level:3},{value:"Estrat\xe9gias de Espera",id:"estrat\xe9gias-de-espera",level:2},{value:"Confie na Espera Autom\xe1tica do Playwright",id:"confie-na-espera-autom\xe1tica-do-playwright",level:3},{value:"Use Esperas Expl\xedcitas Quando Necess\xe1rio",id:"use-esperas-expl\xedcitas-quando-necess\xe1rio",level:3},{value:"Tratamento de Erros",id:"tratamento-de-erros",level:2},{value:"Forne\xe7a Asser\xe7\xf5es Claras",id:"forne\xe7a-asser\xe7\xf5es-claras",level:3},{value:"Trate Falhas Esperadas com Eleg\xe2ncia",id:"trate-falhas-esperadas-com-eleg\xe2ncia",level:3},{value:"Dicas de Performance",id:"dicas-de-performance",level:2},{value:"Use Modo Headless no CI",id:"use-modo-headless-no-ci",level:3},{value:"Minimize Inicializa\xe7\xf5es de Navegador",id:"minimize-inicializa\xe7\xf5es-de-navegador",level:3},{value:"Use Mock de Rede para Velocidade",id:"use-mock-de-rede-para-velocidade",level:3},{value:"Organizando Testes",id:"organizando-testes",level:2},{value:"Use Nomes de Teste Descritivos",id:"use-nomes-de-teste-descritivos",level:3},{value:"Agrupe Testes Relacionados",id:"agrupe-testes-relacionados",level:3},{value:"Integra\xe7\xe3o CI/CD",id:"integra\xe7\xe3o-cicd",level:2},{value:"Configure para Ambientes CI",id:"configure-para-ambientes-ci",level:3},{value:"Gere Relat\xf3rios no CI",id:"gere-relat\xf3rios-no-ci",level:3},{value:"Armadilhas Comuns",id:"armadilhas-comuns",level:2},{value:"Evite Interdepend\xeancias de Teste",id:"evite-interdepend\xeancias-de-teste",level:3},{value:"N\xe3o Ignore Testes Inst\xe1veis",id:"n\xe3o-ignore-testes-inst\xe1veis",level:3},{value:"Limpe Dados de Teste",id:"limpe-dados-de-teste",level:3}];function c(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"boas-pr\xe1ticas",children:"Boas Pr\xe1ticas"})}),"\n",(0,r.jsx)(a.p,{children:"Este guia aborda as melhores pr\xe1ticas para escrever testes Serenity Playwright f\xe1ceis de manter, confi\xe1veis e eficientes."}),"\n",(0,r.jsx)(a.h2,{id:"arquitetura-de-testes",children:"Arquitetura de Testes"}),"\n",(0,r.jsx)(a.h3,{id:"siga-o-padr\xe3o-de-tr\xeas-camadas",children:"Siga o Padr\xe3o de Tr\xeas Camadas"}),"\n",(0,r.jsx)(a.p,{children:"Sempre estruture seu c\xf3digo em tr\xeas camadas:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"Testes (cen\xe1rios de neg\xf3cio)\n    \u2514\u2500\u2500 Step Library (relat\xf3rios com @Step)\n          \u2514\u2500\u2500 Page Object (locators e a\xe7\xf5es)\n"})}),"\n",(0,r.jsx)(a.p,{children:"Essa separa\xe7\xe3o proporciona:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Manutenibilidade"})," - Mudan\xe7as na UI afetam apenas Page Object"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Legibilidade"})," - Testes leem como especifica\xe7\xf5es"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Reusabilidade"})," - Passos e Page Object podem ser compartilhados"]}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"mantenha-os-testes-focados",children:"Mantenha os Testes Focados"}),"\n",(0,r.jsx)(a.p,{children:"Cada teste deve verificar um comportamento espec\xedfico:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// \u274c Ruim: Testando muitas coisas\n@Test\nvoid testEverything() {\n    login();\n    searchForProduct();\n    addToCart();\n    checkout();\n    verifyOrderConfirmation();\n    logout();\n    verifyLoggedOut();\n}\n\n// \u2705 Bom: Testes focados\n@Test\nvoid shouldAddProductToCart() {\n    // Given\n    products.searchFor(page, "laptop");\n\n    // When\n    cart.addFirstResultToCart(page);\n\n    // Then\n    cart.verifyCartContains(page, "laptop");\n}\n\n@Test\nvoid shouldCompleteCheckout() {\n    // Given\n    cart.hasItemsInCart(page);\n\n    // When\n    checkout.completeOrder(page);\n\n    // Then\n    checkout.verifyOrderConfirmation(page);\n}\n'})}),"\n",(0,r.jsx)(a.h2,{id:"gerenciamento-do-navegador",children:"Gerenciamento do Navegador"}),"\n",(0,r.jsx)(a.h3,{id:"compartilhe-o-navegador-isole-as-p\xe1ginas",children:"Compartilhe o Navegador, Isole as P\xe1ginas"}),"\n",(0,r.jsx)(a.p,{children:"Crie o navegador uma vez por classe de teste, mas crie uma p\xe1gina nova para cada teste:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"@ExtendWith(SerenityJUnit5Extension.class)\nclass ProductTests {\n\n    private static Playwright playwright;\n    private static Browser browser;\n    private Page page;\n\n    @BeforeAll\n    static void setupBrowser() {\n        // Cria navegador uma vez - opera\xe7\xe3o cara\n        playwright = Playwright.create();\n        browser = playwright.chromium().launch(\n            new BrowserType.LaunchOptions().setHeadless(true)\n        );\n    }\n\n    @AfterAll\n    static void closeBrowser() {\n        // Fecha navegador ap\xf3s todos os testes\n        if (browser != null) browser.close();\n        if (playwright != null) playwright.close();\n    }\n\n    @BeforeEach\n    void setupPage() {\n        // P\xe1gina nova para cada teste - isolamento de teste\n        page = browser.newPage();\n        PlaywrightSerenity.registerPage(page);\n    }\n\n    @AfterEach\n    void closePage() {\n        // Limpa ap\xf3s cada teste\n        PlaywrightSerenity.unregisterPage(page);\n        if (page != null) page.close();\n    }\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"use-contextos-de-navegador-para-isolamento",children:"Use Contextos de Navegador para Isolamento"}),"\n",(0,r.jsx)(a.p,{children:"Para isolamento completo de teste, use contextos de navegador:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"@BeforeEach\nvoid setup() {\n    // Cada contexto \xe9 completamente isolado\n    BrowserContext context = browser.newContext();\n    page = context.newPage();\n    PlaywrightSerenity.registerPage(page);\n}\n\n@AfterEach\nvoid cleanup() {\n    PlaywrightSerenity.unregisterPage(page);\n    BrowserContext context = page.context();\n    page.close();\n    context.close();  // Fecha todas as p\xe1ginas e limpa cookies/storage\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"extraia-a-configura\xe7\xe3o-comum-para-uma-classe-base",children:"Extraia a Configura\xe7\xe3o Comum para uma Classe Base"}),"\n",(0,r.jsx)(a.p,{children:"Para reduzir c\xf3digo repetitivo entre classes de teste, crie uma classe base que gerencia o ciclo de vida do Playwright:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"public abstract class SerenityPlaywrightTest {\n\n    protected Playwright playwright;\n    protected Browser browser;\n    protected Page page;\n\n    @BeforeEach\n    void setUpPlaywright() {\n        playwright = Playwright.create();\n        browser = playwright.chromium().launch(\n                new BrowserType.LaunchOptions().setHeadless(true)\n        );\n        page = browser.newPage();\n        PlaywrightSerenity.registerPage(page);\n    }\n\n    @AfterEach\n    void tearDownPlaywright() {\n        PlaywrightSerenity.unregisterPage(page);\n        if (page != null) page.close();\n        if (browser != null) browser.close();\n        if (playwright != null) playwright.close();\n    }\n}\n"})}),"\n",(0,r.jsx)(a.p,{children:"As classes de teste ent\xe3o estendem esta base e apenas conectam suas step library:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("When adding todos")\nclass WhenAddingTodosTest extends SerenityPlaywrightTest {\n\n    @Steps\n    TodoSteps todo;\n\n    @BeforeEach\n    void setUp() {\n        todo.setPage(page);  // Conecta step library \xe0 p\xe1gina\n    }\n\n    @Test\n    void shouldAddTodoItem() {\n        todo.openApplication();\n        todo.addTodo("Buy milk");\n\n        assertThat(todo.visibleTodoCount()).isEqualTo(1);\n    }\n}\n'})}),"\n",(0,r.jsx)(a.p,{children:"Este padr\xe3o:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Centraliza o gerenciamento do ciclo de vida"})," - Mudan\xe7as na configura\xe7\xe3o do navegador acontecem em um s\xf3 lugar"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Garante limpeza adequada"})," - A classe base garante que os recursos s\xe3o liberados"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Reduz c\xf3digo repetitivo nas classes de teste"})," - Cada classe de teste foca na l\xf3gica do teste"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsxs)(a.strong,{children:["Torna a ",(0,r.jsx)(a.code,{children:"page"})," acess\xedvel"]})," - O campo protegido est\xe1 dispon\xedvel para todas as subclasses"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"estrat\xe9gias-de-locator",children:"Estrat\xe9gias de Locator"}),"\n",(0,r.jsx)(a.h3,{id:"prefira-locators-resilientes",children:"Prefira Locators Resilientes"}),"\n",(0,r.jsx)(a.p,{children:"Use locators nesta ordem de prefer\xeancia:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Baseado em role"})," - Mais resiliente, usa sem\xe2ntica de acessibilidade"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Baseado em texto"})," - Bom para texto vis\xedvel ao usu\xe1rio"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Baseado em label"})," - Bom para campos de formul\xe1rio"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Test ID"})," - Bom para elementos sem significado sem\xe2ntico"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"CSS/XPath"})," - \xdaltimo recurso"]}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// 1. Baseado em role (melhor)\npage.getByRole(AriaRole.BUTTON, new Page.GetByRoleOptions().setName("Submit"));\n\n// 2. Baseado em texto\npage.getByText("Add to Cart");\n\n// 3. Baseado em label\npage.getByLabel("Email address");\n\n// 4. Test ID\npage.getByTestId("checkout-button");\n\n// 5. CSS (evite se poss\xedvel)\npage.locator("button.submit-btn");\n'})}),"\n",(0,r.jsx)(a.h3,{id:"evite-locators-fr\xe1geis",children:"Evite Locators Fr\xe1geis"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// \u274c Locators fr\xe1geis\npage.locator("div:nth-child(3) > button");\npage.locator(".btn-primary");\npage.locator("//div[@class=\'container\']/form/button[2]");\n\n// \u2705 Locators resilientes\npage.getByRole(AriaRole.BUTTON, opts -> opts.setName("Place Order"));\npage.getByTestId("place-order-button");\n'})}),"\n",(0,r.jsx)(a.h3,{id:"use-locators-encadeados-para-contexto",children:"Use Locators Encadeados para Contexto"}),"\n",(0,r.jsx)(a.p,{children:"Quando o mesmo tipo de elemento aparece m\xfaltiplas vezes:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// Encontra o bot\xe3o "Add" dentro do primeiro card de produto\npage.locator("[data-testid=\'product-card\']").first()\n    .getByRole(AriaRole.BUTTON, new GetByRoleOptions().setName("Add"));\n\n// Encontra o campo email na se\xe7\xe3o de envio\npage.locator("#shipping-section")\n    .getByLabel("Email");\n'})}),"\n",(0,r.jsx)(a.h2,{id:"estrat\xe9gias-de-espera",children:"Estrat\xe9gias de Espera"}),"\n",(0,r.jsx)(a.h3,{id:"confie-na-espera-autom\xe1tica-do-playwright",children:"Confie na Espera Autom\xe1tica do Playwright"}),"\n",(0,r.jsx)(a.p,{children:"O Playwright espera automaticamente que os elementos estejam prontos para a\xe7\xe3o. N\xe3o adicione esperas desnecess\xe1rias:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// \u274c Desnecess\xe1rio - Playwright j\xe1 espera\nThread.sleep(2000);\npage.locator("#button").waitFor();\npage.locator("#button").click();\n\n// \u2705 Apenas clique - Playwright espera automaticamente\npage.locator("#button").click();\n'})}),"\n",(0,r.jsx)(a.h3,{id:"use-esperas-expl\xedcitas-quando-necess\xe1rio",children:"Use Esperas Expl\xedcitas Quando Necess\xe1rio"}),"\n",(0,r.jsx)(a.p,{children:"Para condi\xe7\xf5es espec\xedficas, use esperas expl\xedcitas:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// Espera a navega\xe7\xe3o completar\npage.waitForURL("**/checkout");\n\n// Espera requisi\xe7\xf5es de rede finalizarem\npage.waitForLoadState(LoadState.NETWORKIDLE);\n\n// Espera uma condi\xe7\xe3o espec\xedfica\npage.waitForCondition(() -> getItemCount() >= 5);\n\n// Espera elemento ficar oculto\nloadingSpinner().waitFor(new WaitForOptions()\n    .setState(WaitForSelectorState.HIDDEN));\n'})}),"\n",(0,r.jsx)(a.h2,{id:"tratamento-de-erros",children:"Tratamento de Erros"}),"\n",(0,r.jsx)(a.h3,{id:"forne\xe7a-asser\xe7\xf5es-claras",children:"Forne\xe7a Asser\xe7\xf5es Claras"}),"\n",(0,r.jsx)(a.p,{children:"Use mensagens de asser\xe7\xe3o descritivas:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@Step("Verify cart total is ${1}")\npublic void verifyCartTotal(Page page, BigDecimal expected) {\n    BigDecimal actual = cartPage.getTotal();\n    assertThat(actual)\n        .as("Cart total should be $%s but was $%s", expected, actual)\n        .isEqualByComparingTo(expected);\n}\n'})}),"\n",(0,r.jsx)(a.h3,{id:"trate-falhas-esperadas-com-eleg\xe2ncia",children:"Trate Falhas Esperadas com Eleg\xe2ncia"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@Step("Verify error message is shown")\npublic void verifyErrorMessage(Page page, String expectedMessage) {\n    Locator errorLocator = page.locator(".error-message");\n\n    assertThat(errorLocator.isVisible())\n        .as("Error message should be visible")\n        .isTrue();\n\n    assertThat(errorLocator.textContent())\n        .as("Error message content")\n        .contains(expectedMessage);\n}\n'})}),"\n",(0,r.jsx)(a.h2,{id:"dicas-de-performance",children:"Dicas de Performance"}),"\n",(0,r.jsx)(a.h3,{id:"use-modo-headless-no-ci",children:"Use Modo Headless no CI"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'boolean isCI = System.getenv("CI") != null;\nbrowser = playwright.chromium().launch(\n    new BrowserType.LaunchOptions().setHeadless(isCI)\n);\n'})}),"\n",(0,r.jsx)(a.h3,{id:"minimize-inicializa\xe7\xf5es-de-navegador",children:"Minimize Inicializa\xe7\xf5es de Navegador"}),"\n",(0,r.jsx)(a.p,{children:"Inicializa\xe7\xf5es de navegador s\xe3o caras. Compartilhe navegadores entre testes:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"// Um navegador por classe de teste\n@BeforeAll\nstatic void launchBrowser() { ... }\n\n// N\xc3O: Um navegador por teste\n@BeforeEach\nvoid launchBrowser() { ... }  // \u274c Lento!\n"})}),"\n",(0,r.jsx)(a.h3,{id:"use-mock-de-rede-para-velocidade",children:"Use Mock de Rede para Velocidade"}),"\n",(0,r.jsx)(a.p,{children:"Simule chamadas de API lentas nos testes:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@BeforeEach\nvoid setupMocks() {\n    // Simula endpoint de API lento\n    page.route("**/api/recommendations", route -> {\n        route.fulfill(new FulfillOptions()\n            .setStatus(200)\n            .setBody("[]"));\n    });\n}\n'})}),"\n",(0,r.jsx)(a.h2,{id:"organizando-testes",children:"Organizando Testes"}),"\n",(0,r.jsx)(a.h3,{id:"use-nomes-de-teste-descritivos",children:"Use Nomes de Teste Descritivos"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@Test\n@DisplayName("Should display error when login fails with invalid password")\nvoid shouldDisplayErrorWhenLoginFailsWithInvalidPassword() {\n    // ...\n}\n\n@Test\n@DisplayName("Should redirect to dashboard after successful login")\nvoid shouldRedirectToDashboardAfterSuccessfulLogin() {\n    // ...\n}\n'})}),"\n",(0,r.jsx)(a.h3,{id:"agrupe-testes-relacionados",children:"Agrupe Testes Relacionados"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@Nested\n@DisplayName("When user is logged in")\nclass WhenLoggedIn {\n\n    @BeforeEach\n    void login() {\n        auth.loginAs(page, testUser);\n    }\n\n    @Test\n    void shouldDisplayWelcomeMessage() { ... }\n\n    @Test\n    void shouldShowOrderHistory() { ... }\n}\n\n@Nested\n@DisplayName("When user is not logged in")\nclass WhenNotLoggedIn {\n\n    @Test\n    void shouldShowLoginPrompt() { ... }\n\n    @Test\n    void shouldRedirectToLoginPage() { ... }\n}\n'})}),"\n",(0,r.jsx)(a.h2,{id:"integra\xe7\xe3o-cicd",children:"Integra\xe7\xe3o CI/CD"}),"\n",(0,r.jsx)(a.h3,{id:"configure-para-ambientes-ci",children:"Configure para Ambientes CI"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'@BeforeAll\nstatic void setup() {\n    playwright = Playwright.create();\n\n    BrowserType.LaunchOptions options = new BrowserType.LaunchOptions()\n        .setHeadless(true)\n        .setArgs(Arrays.asList(\n            "--no-sandbox",\n            "--disable-dev-shm-usage"\n        ));\n\n    browser = playwright.chromium().launch(options);\n}\n'})}),"\n",(0,r.jsx)(a.h3,{id:"gere-relat\xf3rios-no-ci",children:"Gere Relat\xf3rios no CI"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-yaml",children:"# Exemplo GitHub Actions\n- name: Run Tests\n  run: mvn verify\n\n- name: Upload Serenity Reports\n  uses: actions/upload-artifact@v3\n  if: always()\n  with:\n    name: serenity-reports\n    path: target/site/serenity/\n"})}),"\n",(0,r.jsx)(a.h2,{id:"armadilhas-comuns",children:"Armadilhas Comuns"}),"\n",(0,r.jsx)(a.h3,{id:"evite-interdepend\xeancias-de-teste",children:"Evite Interdepend\xeancias de Teste"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"// \u274c Ruim: Testes dependem um do outro\n@Test\n@Order(1)\nvoid createUser() {\n    createdUserId = userService.create(user);\n}\n\n@Test\n@Order(2)\nvoid verifyUser() {\n    userService.get(createdUserId);  // Falha se o primeiro teste falhar\n}\n\n// \u2705 Bom: Cada teste \xe9 independente\n@Test\nvoid shouldCreateAndVerifyUser() {\n    String userId = userService.create(user);\n    User retrieved = userService.get(userId);\n    assertThat(retrieved).isEqualTo(user);\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"n\xe3o-ignore-testes-inst\xe1veis",children:"N\xe3o Ignore Testes Inst\xe1veis"}),"\n",(0,r.jsx)(a.p,{children:"Resolva testes inst\xe1veis imediatamente:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// \u274c N\xe3o fa\xe7a isso\n@Disabled("Flaky - investigate later")\n@Test\nvoid sometimesFailingTest() { ... }\n\n// \u2705 Corrija a causa raiz\n@Test\nvoid fixedTest() {\n    // Espera condi\xe7\xe3o espec\xedfica em vez de sleep arbitr\xe1rio\n    page.waitForLoadState(LoadState.NETWORKIDLE);\n    // Agora executa a asser\xe7\xe3o\n}\n'})}),"\n",(0,r.jsx)(a.h3,{id:"limpe-dados-de-teste",children:"Limpe Dados de Teste"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"@AfterEach\nvoid cleanup() {\n    // Limpa quaisquer dados de teste criados\n    if (createdOrderId != null) {\n        orderService.delete(createdOrderId);\n    }\n}\n"})})]})}function p(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,a,s){s.d(a,{R:()=>i,x:()=>o});var n=s(6540);const r={},t=n.createContext(r);function i(e){const a=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);