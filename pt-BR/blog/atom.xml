<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://serenity-bdd.github.io/pt-BR/blog</id>
    <title>Serenity BDD User Manual Blog</title>
    <updated>2023-02-02T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://serenity-bdd.github.io/pt-BR/blog"/>
    <subtitle>Serenity BDD User Manual Blog</subtitle>
    <icon>https://serenity-bdd.github.io/pt-BR/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[How To Configure Chrome In Serenity BDD]]></title>
        <id>https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index</id>
        <link href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index"/>
        <updated>2023-02-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[These days Selenium is moving at a neck-breaking pace, and there are quite a few small changes coming through in the driver configuration options. And since Serenity BDD has many shortcuts to handle these options, it's worth knowing what has changed, what won't work any more, and what you need to update.]]></summary>
        <content type="html"><![CDATA[<p>These days Selenium is moving at a neck-breaking pace, and there are quite a few small changes coming through in the driver configuration options. And since Serenity BDD has many shortcuts to handle these options, it's worth knowing what has changed, what won't work any more, and what you need to update.</p>
<p>So here's the rundown (with a focus on Chrome, the most widely used driver):</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-more-downloading-drivers">No more downloading drivers<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#no-more-downloading-drivers" class="hash-link" aria-label="Link direto para No more downloading drivers" title="Link direto para No more downloading drivers" translate="no">​</a></h2>
<p>In previous versions of Serenity BDD, you could use the <code>webdriver.driver.autodownload</code> property to make Serenity (using WebDriverManager) automatically download the right driver for your platform.
The latest versions of Serenity BDD integrate with Selenium 4.8.0, which has this feature built-in, so you can now safely set the <code>webdriver.driver.autodownload</code> property to false in your <code>serenity.conf</code> file, or remove it entirely.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="headless-mode">Headless mode<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#headless-mode" class="hash-link" aria-label="Link direto para Headless mode" title="Link direto para Headless mode" translate="no">​</a></h2>
<p>Headless mode is going away! Well, not quite - but the convenience method provided in the ChromeOptions class to set the headless mode (<code>setHeadless()</code>) is being deprecated, and will be disabled in a future version. For this reason, the Serenity BDD <code>headless.mode</code> property is now deprecated - you'll need to configure headless execution in the W3C configuration</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="w3c-configuration-for-chrome">W3C configuration for Chrome<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#w3c-configuration-for-chrome" class="hash-link" aria-label="Link direto para W3C configuration for Chrome" title="Link direto para W3C configuration for Chrome" translate="no">​</a></h2>
<p>In the latest versions of Serenity, all the chrome options can be configured using the "goog<!-- -->:chromeOptions<!-- -->" section inside the <code>webdriver.capabilities</code> section of your <code>serenity.conf</code> file. (Other W3C capabilites, such as browserName and timeouts, also go in the <code>webdriver.capabilities</code> section).</p>
<p>Let's have a look at a few of the more useful "goog<!-- -->:chromeOptions<!-- -->" arguments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="headless-mode-1">Headless mode<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#headless-mode-1" class="hash-link" aria-label="Link direto para Headless mode" title="Link direto para Headless mode" translate="no">​</a></h3>
<p>To activate headless mode in newer version, you will need to use the <code> - headless</code> argument. According to the Chrome docs, you should use use ' - headless=chrome' for browsers v94-108 and ' - headless=new' for browsers v109+. (The Serenity <code>headless.mode</code> property uses the latter option, and is maintained for backward compatibility reasons).</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">webdriver </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"goog:chromeOptions"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            args = </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"headless=chrome"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="arguments">Arguments<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#arguments" class="hash-link" aria-label="Link direto para Arguments" title="Link direto para Arguments" translate="no">​</a></h3>
<p>You can define the command-line you want to pass into chrome using the <code>args</code>,
The args option in the ChromeDriver Java implementation is a list of command-line options to use when starting the Chrome browser. These options can be used to customize the behavior of the browser and to control how the test is run. For example, you can use the <code>headless=chrome</code> argument discussed earlier to run the browser in headless mode, or the <code>disable-gpu</code> argument to disable GPU acceleration.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">webdriver </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"goog:chromeOptions"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            args = </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"headless=chrome"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"disable-gpu"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Some of the options include the following:</p>
<ul>
<li class="">disable-extensions: Disables all installed extensions.</li>
<li class="">disable-popup-blocking: Allows popups to appear.</li>
<li class="">disable-translate: Disables the translate feature.</li>
<li class="">disable-plugins: Disables all plugins.</li>
<li class="">disable-background-networking: Disables background networking, such as background updates.</li>
<li class="">disable-web-security: Disables the same-origin policy, which can be useful for testing purposes.</li>
<li class="">disable-notifications: Disables notifications.</li>
<li class="">disable-infobars: Disables infobars (information bars that appear at the top of a page).</li>
<li class="">disable-sync: Disables synchronization.</li>
<li class="">disable-offer-store-unmasked-wallet-cards: Disables the offering of unmasked credit card information when shopping.</li>
<li class="">start-maximized: Starts the browser maximized.</li>
<li class="">incognito: Opens the browser in an incognito mode.</li>
<li class="">disable-gpu: Disables the use of GPU acceleration.</li>
<li class="">disable-background-timer-throttling: Disables timer throttling in background pages.</li>
<li class="">disable-renderer-backgrounding: Disables backgrounding of renderer processes.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="excluded-switches">Excluded Switches<a href="https://serenity-bdd.github.io/pt-BR/blog/2023/02/02/index#excluded-switches" class="hash-link" aria-label="Link direto para Excluded Switches" title="Link direto para Excluded Switches" translate="no">​</a></h3>
<p>The <code>excludeSwitches</code> parameter lets you to exclude certain command-line options from being passed to the Chrome browser when it is launched. These options can control various aspects of the browser behavior, such as starting it in incognito mode, disabling plugins, or turning off the UI. By excluding these switches, you can ensure that the browser behaves in a consistent and expected manner, which can be useful for testing purposes.</p>
<p>You can pass a list of switch names to the <code>excludeSwitches</code> parameter, which goes inside the "goog<!-- -->:chromeOptions<!-- -->" section in your <code>serenity.conf</code> file.</p>
<p>For example, you can use " - disable-extensions" to prevent extensions from being loaded, or " - incognito" to start the browser in incognito mode.</p>
<p>Note that the <code>useAutomationExtension</code> option is deprecated and no longer used by Chrome - if you want to do the equivalent of <code>useAutomationExtension = false</code>, add "enable-automation" to the excludedSwitches parameter, e.g.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">webdriver </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"goog:chromeOptions"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            excludeSwitches = </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"enable-automation"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"load-extension"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Here is a more complete example of a <code>serenity.conf</code> file using the W3C options:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  webdriver </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    driver = chrome</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    capabilities </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      browserName = </span><span class="token string" style="color:#e3116c">"chrome"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acceptInsecureCerts = </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">"goog:chromeOptions"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        args = </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"start-maximized"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"no-sandbox"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ignore-certificate-errors"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"disable-popup-blocking"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">"disable-default-apps"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"disable-extensions-file-access-check"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"disable-infobars"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"disable-gpu"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"headless=chrome"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prefs </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          default_content_settings.popups = </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          default_content_settings.geolocation = </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          credentials_enable_service = </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          password_manager_enabled = </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        excludeSwitches = </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"enable-automation"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"load-extension"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeouts </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        implicit = </span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pageLoad = </span><span class="token number" style="color:#36acaa">300000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wait.for.timeout = </span><span class="token number" style="color:#36acaa">20000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Serenity 3.4.1 Is Out!]]></title>
        <id>https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release</id>
        <link href="https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release"/>
        <updated>2022-11-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Serenity 3.4.1]]></summary>
        <content type="html"><![CDATA[<p>Serenity BDD is one of the most popular Java test automation libraries, and for good reason!</p>
<p>If you are writing automated web tests in Java, using Serenity BDD correctly can reduce the amount of code you need to write by well over 50%, slashing the amount of code you need to maintain yourself. Serenity BDD produces powerful test reports that you can use both as as evidence of your testing activities and documentation of your application. And with over a million downloads a month, regular releases and a vibrant open source community, it's a solid bet for your test automation framework!</p>
<p>In this article, we look at some of the new features in Serenity BDD version 3.4.2.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="selenium-460-integration">Selenium 4.6.0 Integration<a href="https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release#selenium-460-integration" class="hash-link" aria-label="Link direto para Selenium 4.6.0 Integration" title="Link direto para Selenium 4.6.0 Integration" translate="no">​</a></h2>
<p>Serenity 3.4.2 integrates with <a href="https://www.selenium.dev/blog/2022/selenium-4-6-0-released/" target="_blank" rel="noopener noreferrer" class="">Selenium 4.6.0</a>, which includes a number of new features. One of the more interesting is it's ability to automatically download the correct driver binaries for whatever browser you are using. Serenity currently does this using WebDriverManager, but as this feature is now build into Selenium, the Serenity WebDriverManager integration is now disabled by default and will be removed in a future version.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="improved-reporting-for-data-driven-tests">Improved Reporting For Data-Driven Tests<a href="https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release#improved-reporting-for-data-driven-tests" class="hash-link" aria-label="Link direto para Improved Reporting For Data-Driven Tests" title="Link direto para Improved Reporting For Data-Driven Tests" translate="no">​</a></h2>
<p>Test results for data-driven tests (parameterized tests in JUnit and Scenario Outlines in Cucumber) are now reported individually, giving a more precise view of the test status:</p>
<p><img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/data-driven-results-2bbf108629fca70a7f25f67b450708f1.png" width="2134" height="1152" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="standardised-naming">Standardised naming<a href="https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release#standardised-naming" class="hash-link" aria-label="Link direto para Standardised naming" title="Link direto para Standardised naming" translate="no">​</a></h2>
<p>To avoid confusion in the summary views, the reports now adopt a more conventional definition of scenarios and test cases for data-driven tests. <em>Scenario</em> refers to the scenario outline or overall test, whereas <em>Test Case</em> refers to a specific execution of a scenario with a specific set of test data.</p>
<p><img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/scenarios-and-test-cases-9b3945c912ff5f493bf382012bc0d4f3.png" width="718" height="438" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="want-to-learn-more">Want to learn more?<a href="https://serenity-bdd.github.io/pt-BR/blog/serenity-3.4.1-release#want-to-learn-more" class="hash-link" aria-label="Link direto para Want to learn more?" title="Link direto para Want to learn more?" translate="no">​</a></h2>
<p>There are several courses on Serenity BDD in the <strong><a href="https://expansion.serenity-dojo.com/" target="_blank" rel="noopener noreferrer" class="">Serenity Dojo Training Library</a></strong>, including</p>
<ul>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/serenity-and-the-screenplay-pattern" target="_blank" rel="noopener noreferrer" class="">Write Better Automated Tests Faster With Serenity BDD, Cucumber and The Screenplay Pattern</a></strong> - a free deep-dive course into writing scalable, maintainable tests with Serenity BDD and the Screenplay pattern</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/testing-web-applications-with-serenity-bdd" target="_blank" rel="noopener noreferrer" class="">Effective UI Test Automation With Serenity BDD and Selenium</a></strong> - learn the fundamentals of web testing with Serenity BDD in this very detailed course.</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/writing-more-sustainable-tests-with-the-screenplay-pattern" target="_blank" rel="noopener noreferrer" class="">Next-generation Automated Acceptance Tests With Serenity Screenplay</a></strong> - Learn everything you need to know to master scalable test automation with the powerful Screenplay pattern.</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/testing-rest-apis-with-serenity-bdd" target="_blank" rel="noopener noreferrer" class="">Testing REST APIs with Serenity BDD and RestAssured</a></strong> - Learn how to test REST web services in Serenity BDD.</li>
</ul>]]></content>
        <author>
            <name>John Ferguson Smart</name>
            <uri>https://github.com/wakaleo</uri>
        </author>
        <category label="reporting" term="reporting"/>
        <category label="locatorless-elements" term="locatorless-elements"/>
        <category label="selenium-4" term="selenium-4"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[What's New In Serenity 3.1.0]]></title>
        <id>https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0</id>
        <link href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0"/>
        <updated>2021-11-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Serenity 3.1.0]]></summary>
        <content type="html"><![CDATA[<p>Serenity BDD is one of the most popular Java test automation libraries, and for good reason!</p>
<p>If you are writing automated web tests in Java, using Serenity BDD correctly can reduce the amount of code you need to write by well over 50%, slashing the amount of code you need to maintain yourself. Serenity BDD produces powerful test reports that you can use both as as evidence of your testing activities and documentation of your application. And with over a million downloads a month, regular releases and a vibrant open source community, it's a solid bet for your test automation framework!</p>
<p>In this article, we look at some of the new features in Serenity BDD version 3.1.0.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="selenium-4-integration">Selenium 4 Integration<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#selenium-4-integration" class="hash-link" aria-label="Link direto para Selenium 4 Integration" title="Link direto para Selenium 4 Integration" translate="no">​</a></h2>
<p>Serenity 3.1.0 introduces support for Selenium 4.0.0 and Appium 8.0.0-BETA. Selenium 4 is the long-awaited update to Selenium, and includes many new features such as relative locators, better Docker integration with Selenium Grid.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="improved-reporting">Improved Reporting<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#improved-reporting" class="hash-link" aria-label="Link direto para Improved Reporting" title="Link direto para Improved Reporting" translate="no">​</a></h2>
<p>Serenity BDD is known for its powerful reporting and living documentation features, and in Serenity 3.1.0 the reports have been updated and improved, with many new features and an updated look and feel.
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/serenity-report-overview-8bda16e856a9c20822356ea9cdfaf341.png" width="3142" height="2782" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-duration-reports">Test Duration Reports<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#test-duration-reports" class="hash-link" aria-label="Link direto para Test Duration Reports" title="Link direto para Test Duration Reports" translate="no">​</a></h3>
<p>A new chart has been added to show test duration more clearly. You can also drill down into any of the duration buckets to see which tests are slow.
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/serenity-durations-b953b439a127a1d8a705f54991f32553.png" width="1060" height="744" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="accessibility-mode">Accessibility Mode<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#accessibility-mode" class="hash-link" aria-label="Link direto para Accessibility Mode" title="Link direto para Accessibility Mode" translate="no">​</a></h3>
<p>Serenity BDD 3.1.0 introduces the option to use patterns as well as colours in the charts to make them easier to read for colour vision deficient viewers. You can activate this mode by setting the setting the <code>serenity.report.accessibility</code> property to true.</p>
<p><img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/serenity-patterns-66f8dd4f93e84dbd7f36d0d69e6c6206.png" width="1054" height="1024" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="better-test-result-reporting">Better Test Result Reporting<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#better-test-result-reporting" class="hash-link" aria-label="Link direto para Better Test Result Reporting" title="Link direto para Better Test Result Reporting" translate="no">​</a></h3>
<p>The test results for individual features has also been improved to include the additional reporting elements:
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/serenity-feature-result-3143a96bb2bfc75e0e537967f1c08f39.png" width="3152" height="2608" class="img_ev3q"></p>
<p>Scenario and example outcomes are also colour-coded to make it easier to see the results at a glance:
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/serenity-example-results-color-coded-371708280cec4b286582b84f6a08aefa.png" width="3100" height="2102" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="improved-webdrivermanager-integration">Improved WebDriverManager integration<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#improved-webdrivermanager-integration" class="hash-link" aria-label="Link direto para Improved WebDriverManager integration" title="Link direto para Improved WebDriverManager integration" translate="no">​</a></h2>
<p><a href="https://github.com/bonigarcia/webdrivermanager" target="_blank" rel="noopener noreferrer" class="">WebDriverManager</a> has a lot of new Selenium 4 features, including the ability to setup a docker instance on the fly. Serenity 3.1.0 provides smooth integration with WebDriverManager with the <code>WebDriverManagerEnhancer</code> interface. Just create your own implementation of this interface, and place the implementation in a package that you specify in the <code>serenity.extension.packages</code> property. Here's an example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class SampleWebDriverManagerEnhancer implements WebDriverManagerEnhancer {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public WebDriverManager apply(WebDriverManager webDriverManager) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return webDriverManager.browserInDocker().enableVnc().enableRecording();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="locatorless-web-elements">Locatorless Web Elements<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#locatorless-web-elements" class="hash-link" aria-label="Link direto para Locatorless Web Elements" title="Link direto para Locatorless Web Elements" translate="no">​</a></h2>
<p>Locatorless web elements are a convenient way Serenity Screenplay lets us locate commonly used elements on a page without needing to write complicated CSS or XPath selectors.</p>
<p>For example, consider the following page:
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/saucelabs-example-546565aa83a0d0ca2d9f303bb235ac2f.png" width="2244" height="1192" class="img_ev3q"></p>
<p>We could locate and click on the Checkout button with the following code:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">actor.attemptsTo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(Button.called("Checkout"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
<p>Elements are located by human-readable names, which can correspond to the visible text in the element, or an attribute such as id, value or data-test. Heuristic rules are used to determine appropriate locator strategies for different elements.</p>
<p>In other cases, we may want to be more precise. For example, we can also identify form elements by their value or their label:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">actor.attemptsTo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(Checkbox.withLabel("Terms and conditions"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
<p>We can also locate elements that are nested inside other elements. For example, the following page contains several "Add to cart" buttons:
<img decoding="async" loading="lazy" src="https://serenity-bdd.github.io/pt-BR/assets/images/saucelabs-example2-11f7daeced572c8dd2ac693fd51533a3.png" width="2222" height="1204" class="img_ev3q"></p>
<p>However, using locatorless elements, we could click on a specific "Add to cart" button like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">actor.attemptsTo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click.on(Button.called("Add to cart")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           .inside(PageElement.called("inventory_item")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		                                 .containingText("Sauce Labs Backpack"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre></div></div>
<p>Locatorless elements can help make your code both easier to read and quicker to write, and also more robust, since they may try more than one locator strategy to locate the element you are looking for.</p>
<p>Supported elements include:</p>
<ul>
<li class="">Button</li>
<li class="">Checkbox</li>
<li class="">Dropdown</li>
<li class="">Image</li>
<li class="">InputField</li>
<li class="">Link</li>
<li class="">RadioButton</li>
<li class="">PageElement</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="single-browser-mode">Single Browser Mode<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#single-browser-mode" class="hash-link" aria-label="Link direto para Single Browser Mode" title="Link direto para Single Browser Mode" translate="no">​</a></h2>
<p>Sometimes it is useful to be able to run a series of tests in the same browser. This can speed up the tests, though it is important not to allow dependencies to occur between the tests.</p>
<p>To maintain a test open for the duration of a feature or scenario outline, just add the <code>@singlebrowser</code> tag, as in the following example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Rule: Customers needs to provide valid credentials to access the site</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Example: Colin logs in with valid credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Given Colin is on the login page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      When Colin logs in with valid credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Then he should be presented the product catalog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @singlebrowser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Scenario Outline: Login on with invalid credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Given Colin is on the login page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      When Colin attempts to login with the following credentials:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | username   | password   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | &lt;username&gt; | &lt;password&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Then he should be presented with the error message &lt;message&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Examples:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | username        | password       | message                                                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | standard_user   | wrong_password | Username and password do not match any user in this service |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | unknown_user    | secret_sauce   | Username and password do not match any user in this service |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | unknown_user    | wrong_password | Username and password do not match any user in this service |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | locked_out_user | secret_sauce   | Sorry, this user has been locked out.                       |</span><br></span></code></pre></div></div>
<p>In JUnit you can use the <code>@SingleBrowser</code> annotation for the same result, as shown in this JUnit 5 test:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ExtendWith(SerenityJUnit5Extension.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SingleBrowser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WhenLoggingOn {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Managed(options = "headless")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WebDriver driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @CastMember</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor charles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ParameterizedTest(name = "{index}: {2}")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @CsvSource(value = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "                       ,secret_sauce       , Username is required",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "standard_user  ,                          , Password is required",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "                       ,                          , Username is required",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "standard_user  , wrong_password , Username and password do not match any user in this service",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "wrong_user     , secret_sauce       , Username and password do not match any user in this service",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void withInvalidCredentials(String username, String password, String errorMessage) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        charles.attemptsTo(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Login.withCredentials(username, password),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Ensure.that(LoginForm.ERROR_MESSAGE).text().contains(errorMessage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="want-to-learn-more">Want to learn more?<a href="https://serenity-bdd.github.io/pt-BR/blog/whats-new-in-serenity-3.1.0#want-to-learn-more" class="hash-link" aria-label="Link direto para Want to learn more?" title="Link direto para Want to learn more?" translate="no">​</a></h2>
<p>There are several courses on Serenity BDD in the <strong><a href="https://expansion.serenity-dojo.com/" target="_blank" rel="noopener noreferrer" class="">Serenity Dojo Training Library</a></strong>, including</p>
<ul>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/serenity-and-the-screenplay-pattern" target="_blank" rel="noopener noreferrer" class="">Write Better Automated Tests Faster With Serenity BDD, Cucumber and The Screenplay Pattern</a></strong> - a free deep-dive course into writing scalable, maintainable tests with Serenity BDD and the Screenplay pattern</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/testing-web-applications-with-serenity-bdd" target="_blank" rel="noopener noreferrer" class="">Effective UI Test Automation With Serenity BDD and Selenium</a></strong> - learn the fundamentals of web testing with Serenity BDD in this very detailed course.</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/writing-more-sustainable-tests-with-the-screenplay-pattern" target="_blank" rel="noopener noreferrer" class="">Next-generation Automated Acceptance Tests With Serenity Screenplay</a></strong> - Learn everything you need to know to master scalable test automation with the powerful Screenplay pattern.</li>
<li class=""><strong><a href="https://expansion.serenity-dojo.com/courses/testing-rest-apis-with-serenity-bdd" target="_blank" rel="noopener noreferrer" class="">Testing REST APIs with Serenity BDD and RestAssured</a></strong> - Learn how to test REST web services in Serenity BDD.</li>
</ul>]]></content>
        <author>
            <name>John Ferguson Smart</name>
            <uri>https://github.com/wakaleo</uri>
        </author>
        <category label="reporting" term="reporting"/>
        <category label="locatorless-elements" term="locatorless-elements"/>
        <category label="selenium-4" term="selenium-4"/>
    </entry>
</feed>