"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[4789],{32(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"screenplay/screenplay_playwright","title":"Web Testing with Serenity Screenplay and Playwright","description":"Introduction","source":"@site/docs/screenplay/screenplay-playwright.md","sourceDirName":"screenplay","slug":"/screenplay/screenplay_playwright","permalink":"/docs/screenplay/screenplay_playwright","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/screenplay/screenplay-playwright.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"screenplay_playwright","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Web Testing with Serenity Screenplay","permalink":"/docs/screenplay/screenplay_webdriver"},"next":{"title":"Working with REST APIs using Serenity Screenplay","permalink":"/docs/screenplay/screenplay_rest"}}');var a=t(4848),s=t(8453);const r={id:"screenplay_playwright",sidebar_position:3},l="Web Testing with Serenity Screenplay and Playwright",o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Maven Dependency",id:"maven-dependency",level:3},{value:"The BrowseTheWebWithPlaywright Ability",id:"the-browsethewebwithplaywright-ability",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Opening a URL",id:"opening-a-url",level:2},{value:"Opening a URL directly",id:"opening-a-url-directly",level:3},{value:"Opening the base URL",id:"opening-the-base-url",level:3},{value:"Locating Elements on a Page",id:"locating-elements-on-a-page",level:2},{value:"The Target Class",id:"the-target-class",level:3},{value:"Playwright Selectors",id:"playwright-selectors",level:3},{value:"Dynamic Targets",id:"dynamic-targets",level:3},{value:"UI Element Factories",id:"ui-element-factories",level:2},{value:"Button",id:"button",level:3},{value:"InputField",id:"inputfield",level:3},{value:"Link",id:"link",level:3},{value:"Checkbox",id:"checkbox",level:3},{value:"RadioButton",id:"radiobutton",level:3},{value:"Dropdown",id:"dropdown",level:3},{value:"Label",id:"label",level:3},{value:"Image",id:"image",level:3},{value:"Interacting with Elements",id:"interacting-with-elements",level:2},{value:"Core Interactions",id:"core-interactions",level:3},{value:"Click",id:"click",level:3},{value:"Double-Click",id:"double-click",level:3},{value:"Right-Click",id:"right-click",level:3},{value:"Enter Text",id:"enter-text",level:3},{value:"Keyboard Interactions",id:"keyboard-interactions",level:3},{value:"Hover",id:"hover",level:3},{value:"Check and Uncheck",id:"check-and-uncheck",level:3},{value:"Focus",id:"focus",level:3},{value:"Selecting from Dropdowns",id:"selecting-from-dropdowns",level:3},{value:"Deselecting from Dropdowns",id:"deselecting-from-dropdowns",level:3},{value:"Scrolling",id:"scrolling",level:3},{value:"Drag and Drop",id:"drag-and-drop",level:3},{value:"File Uploads",id:"file-uploads",level:3},{value:"JavaScript Execution",id:"javascript-execution",level:3},{value:"Waiting",id:"waiting",level:3},{value:"Querying the Web Page",id:"querying-the-web-page",level:2},{value:"Bundled Questions",id:"bundled-questions",level:3},{value:"Text",id:"text",level:3},{value:"Presence and Absence",id:"presence-and-absence",level:3},{value:"Attributes",id:"attributes",level:3},{value:"Current Page Information",id:"current-page-information",level:3},{value:"Network Interception and Mocking",id:"network-interception-and-mocking",level:2},{value:"Intercepting Requests",id:"intercepting-requests",level:3},{value:"Custom Request Handlers",id:"custom-request-handlers",level:3},{value:"Aborting Requests",id:"aborting-requests",level:3},{value:"Removing Routes",id:"removing-routes",level:3},{value:"Handling Downloads",id:"handling-downloads",level:2},{value:"Console Message Capture",id:"console-message-capture",level:2},{value:"Accessibility Testing",id:"accessibility-testing",level:2},{value:"Visual Regression Testing",id:"visual-regression-testing",level:2},{value:"Device Emulation",id:"device-emulation",level:2},{value:"Geolocation",id:"geolocation",level:2},{value:"Permission Management",id:"permission-management",level:2},{value:"Clock Control",id:"clock-control",level:2},{value:"Tracing",id:"tracing",level:2},{value:"PDF Generation",id:"pdf-generation",level:2},{value:"Switching Contexts",id:"switching-contexts",level:2},{value:"Frames",id:"frames",level:3},{value:"Windows and Tabs",id:"windows-and-tabs",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Use Target Constants",id:"use-target-constants",level:3},{value:"Prefer Role Selectors",id:"prefer-role-selectors",level:3},{value:"Use UI Element Factories",id:"use-ui-element-factories",level:3},{value:"Network Mocking for Isolation",id:"network-mocking-for-isolation",level:3},{value:"Use Tracing for Debugging",id:"use-tracing-for-debugging",level:3},{value:"Migration from WebDriver",id:"migration-from-webdriver",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"web-testing-with-serenity-screenplay-and-playwright",children:"Web Testing with Serenity Screenplay and Playwright"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsxs)(n.p,{children:["Playwright is a modern browser automation library that provides cross-browser testing capabilities with excellent support for modern web applications. The ",(0,a.jsx)(n.code,{children:"serenity-screenplay-playwright"})," module brings the power of Playwright to Serenity BDD's Screenplay pattern, offering an alternative to the traditional WebDriver integration."]}),"\n",(0,a.jsx)(n.p,{children:"Playwright offers several advantages over WebDriver:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Auto-waiting"}),": Automatically waits for elements to be actionable before performing actions"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Cross-browser"}),": Native support for Chromium, Firefox, and WebKit"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Network interception"}),": Built-in support for mocking and intercepting network requests"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Tracing"}),": Record detailed traces for debugging test failures"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Device emulation"}),": Easy mobile and tablet device emulation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Modern architecture"}),": Event-driven design with better reliability"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,a.jsx)(n.h3,{id:"maven-dependency",children:"Maven Dependency"}),"\n",(0,a.jsx)(n.p,{children:"Add the following dependency to your project:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-screenplay-playwright</artifactId>\n    <version>${serenity.version}</version>\n</dependency>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"the-browsethewebwithplaywright-ability",children:"The BrowseTheWebWithPlaywright Ability"}),"\n",(0,a.jsxs)(n.p,{children:["To use Playwright with Screenplay, actors need the ",(0,a.jsx)(n.code,{children:"BrowseTheWebWithPlaywright"})," ability:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport com.microsoft.playwright.*;\n\nPlaywright playwright = Playwright.create();\nBrowser browser = playwright.chromium().launch();\n\nActor alice = Actor.named("Alice");\nalice.can(BrowseTheWebWithPlaywright.using(browser));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsx)(n.p,{children:"You can configure Playwright behavior using environment variables or programmatically:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Launch with options\nBrowserType.LaunchOptions options = new BrowserType.LaunchOptions()\n    .setHeadless(false)\n    .setSlowMo(100);\n\nBrowser browser = playwright.chromium().launch(options);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"opening-a-url",children:"Opening a URL"}),"\n",(0,a.jsx)(n.h3,{id:"opening-a-url-directly",children:"Opening a URL directly"}),"\n",(0,a.jsxs)(n.p,{children:["In Screenplay, you open a new page using the ",(0,a.jsx)(n.code,{children:"Navigate"})," interaction class:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Navigate.to("https://todomvc.com/examples/react/"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"opening-the-base-url",children:"Opening the base URL"}),"\n",(0,a.jsx)(n.p,{children:"If you have configured a base URL, you can navigate to it:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"alice.attemptsTo(Navigate.toTheBaseUrl());\n"})}),"\n",(0,a.jsx)(n.h2,{id:"locating-elements-on-a-page",children:"Locating Elements on a Page"}),"\n",(0,a.jsx)(n.h3,{id:"the-target-class",children:"The Target Class"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"Target"})," class in Playwright integration uses Playwright's powerful selector engine. Unlike WebDriver, Playwright provides multiple built-in selector strategies."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Target SUBMIT_BUTTON = Target.the("Submit button").locatedBy("#submit-btn");\n\nalice.attemptsTo(Click.on(SUBMIT_BUTTON));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"playwright-selectors",children:"Playwright Selectors"}),"\n",(0,a.jsx)(n.p,{children:"Playwright supports a rich set of selectors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// CSS selector\nTarget.the("Login button").locatedBy("#login-btn")\n\n// Text selector\nTarget.the("Submit button").locatedBy("text=Submit")\n\n// Role selector (ARIA)\nTarget.the("Submit button").locatedBy("role=button[name=\'Submit\']")\n\n// XPath selector\nTarget.the("Email field").locatedBy("xpath=//input[@type=\'email\']")\n\n// Combining selectors\nTarget.the("Form submit").locatedBy("form >> button[type=\'submit\']")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"dynamic-targets",children:"Dynamic Targets"}),"\n",(0,a.jsx)(n.p,{children:"You can use parameterized targets for dynamic element location:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Target MENU_ITEM = Target.the("{0} menu item").locatedBy("text={0}");\n\nalice.attemptsTo(Click.on(MENU_ITEM.of("Settings")));\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ui-element-factories",children:"UI Element Factories"}),"\n",(0,a.jsx)(n.p,{children:"Serenity Playwright provides convenient factory classes for locating common UI elements using Playwright's powerful selector syntax."}),"\n",(0,a.jsx)(n.h3,{id:"button",children:"Button"}),"\n",(0,a.jsx)(n.p,{children:"Locate buttons using various strategies:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Button;\n\n// By visible text (case-insensitive, uses role selector)\nalice.attemptsTo(Click.on(Button.withText("Submit")));\n\n// By name or ID attribute\nalice.attemptsTo(Click.on(Button.withNameOrId("submit-btn")));\n\n// By aria-label\nalice.attemptsTo(Click.on(Button.withAriaLabel("Close dialog")));\n\n// Containing specific text\nalice.attemptsTo(Click.on(Button.containingText("Add to")));\n\n// Custom locator\nalice.attemptsTo(Click.on(Button.locatedBy("[data-testid=\'primary-action\']")));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"inputfield",children:"InputField"}),"\n",(0,a.jsx)(n.p,{children:"Locate input fields:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.InputField;\n\n// By name or ID\nalice.attemptsTo(Enter.theValue("john@example.com").into(InputField.withNameOrId("email")));\n\n// By placeholder text\nalice.attemptsTo(Enter.theValue("Search...").into(InputField.withPlaceholder("Search products")));\n\n// By associated label text\nalice.attemptsTo(Enter.theValue("password123").into(InputField.withLabel("Password")));\n\n// By aria-label\nalice.attemptsTo(Enter.theValue("John").into(InputField.withAriaLabel("First name")));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"link",children:"Link"}),"\n",(0,a.jsx)(n.p,{children:"Locate anchor elements:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Link;\n\n// By exact text\nalice.attemptsTo(Click.on(Link.withText("Learn more")));\n\n// Containing text\nalice.attemptsTo(Click.on(Link.containingText("documentation")));\n\n// By title attribute\nalice.attemptsTo(Click.on(Link.withTitle("View user profile")));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"checkbox",children:"Checkbox"}),"\n",(0,a.jsx)(n.p,{children:"Locate checkbox inputs:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Checkbox;\n\n// By label text\nalice.attemptsTo(Click.on(Checkbox.withLabel("Accept terms")));\n\n// By name or ID\nalice.attemptsTo(Click.on(Checkbox.withNameOrId("newsletter")));\n\n// By value attribute\nalice.attemptsTo(Click.on(Checkbox.withValue("premium")));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"radiobutton",children:"RadioButton"}),"\n",(0,a.jsx)(n.p,{children:"Locate radio button inputs:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.RadioButton;\n\n// By label text\nalice.attemptsTo(Click.on(RadioButton.withLabel("Express shipping")));\n\n// By value attribute\nalice.attemptsTo(Click.on(RadioButton.withValue("express")));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"dropdown",children:"Dropdown"}),"\n",(0,a.jsx)(n.p,{children:"Locate select elements:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Dropdown;\n\n// By label text\nalice.attemptsTo(\n    SelectFromOptions.byVisibleText("Canada").from(Dropdown.withLabel("Country"))\n);\n\n// By name or ID\nalice.attemptsTo(\n    SelectFromOptions.byValue("us").from(Dropdown.withNameOrId("country"))\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"label",children:"Label"}),"\n",(0,a.jsx)(n.p,{children:"Locate label elements:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Label;\n\n// By text content\nString labelText = alice.asksFor(Text.of(Label.withText("Email")));\n\n// For a specific field ID\nTarget emailLabel = Label.forFieldId("email-input");\n'})}),"\n",(0,a.jsx)(n.h3,{id:"image",children:"Image"}),"\n",(0,a.jsx)(n.p,{children:"Locate image elements:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.ui.Image;\n\n// By alt text\nalice.attemptsTo(Click.on(Image.withAltText("Product thumbnail")));\n\n// By source URL\nalice.attemptsTo(Click.on(Image.withSrc("/images/logo.png")));\n\n// By partial source URL\nalice.attemptsTo(Click.on(Image.withSrcContaining("product-123")));\n'})}),"\n",(0,a.jsx)(n.h2,{id:"interacting-with-elements",children:"Interacting with Elements"}),"\n",(0,a.jsx)(n.h3,{id:"core-interactions",children:"Core Interactions"}),"\n",(0,a.jsxs)(n.p,{children:["The following interaction classes are available in the ",(0,a.jsx)(n.code,{children:"net.serenitybdd.screenplay.playwright.interactions"})," package:"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Interaction"}),(0,a.jsx)(n.th,{children:"Purpose"}),(0,a.jsx)(n.th,{children:"Example"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Click"}),(0,a.jsx)(n.td,{children:"Click on an element"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Click.on("#button"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"DoubleClick"}),(0,a.jsx)(n.td,{children:"Double-click on an element"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(DoubleClick.on("#item"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"RightClick"}),(0,a.jsx)(n.td,{children:"Right-click (context menu)"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(RightClick.on("#menu"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Enter"}),(0,a.jsx)(n.td,{children:"Type into an input field"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Enter.theValue("text").into("#field"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Clear"}),(0,a.jsx)(n.td,{children:"Clear an input field"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Clear.field("#field"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Hover"}),(0,a.jsx)(n.td,{children:"Hover over an element"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Hover.over("#menu"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Press"}),(0,a.jsx)(n.td,{children:"Press keyboard keys"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Press.key("Enter"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Check"}),(0,a.jsx)(n.td,{children:"Check a checkbox"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Check.checkbox("#agree"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Uncheck"}),(0,a.jsx)(n.td,{children:"Uncheck a checkbox"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Uncheck.checkbox("#agree"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Focus"}),(0,a.jsx)(n.td,{children:"Focus on an element"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Focus.on("#input"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Navigate"}),(0,a.jsx)(n.td,{children:"Navigate to a URL"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Navigate.to("https://..."))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Upload"}),(0,a.jsx)(n.td,{children:"Upload a file"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.attemptsTo(Upload.file(path).to("#upload"))'})})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"click",children:"Click"}),"\n",(0,a.jsx)(n.p,{children:"Click on an element. Playwright automatically waits for the element to be actionable:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Click.on("#submit-button"));\nalice.attemptsTo(Click.on(SUBMIT_BUTTON));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"double-click",children:"Double-Click"}),"\n",(0,a.jsx)(n.p,{children:"Double-click on an element:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(DoubleClick.on("#item"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"right-click",children:"Right-Click"}),"\n",(0,a.jsx)(n.p,{children:"Right-click to open context menus:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(RightClick.on("#file-item"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"enter-text",children:"Enter Text"}),"\n",(0,a.jsx)(n.p,{children:"Type values into input fields:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Enter.theValue("john@example.com").into("#email"));\n'})}),"\n",(0,a.jsx)(n.p,{children:"You can also clear the field first:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(\n    Clear.field("#email"),\n    Enter.theValue("new-email@example.com").into("#email")\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"keyboard-interactions",children:"Keyboard Interactions"}),"\n",(0,a.jsx)(n.p,{children:"Press keyboard keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Single key\nalice.attemptsTo(Press.key("Enter"));\n\n// Key combinations\nalice.attemptsTo(Press.key("Control+a"));\n\n// Multiple keys\nalice.attemptsTo(Press.keys("Tab", "Tab", "Enter"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"hover",children:"Hover"}),"\n",(0,a.jsx)(n.p,{children:"Hover over elements to trigger hover states:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Hover.over("#dropdown-menu"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"check-and-uncheck",children:"Check and Uncheck"}),"\n",(0,a.jsx)(n.p,{children:"Work with checkboxes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Check.checkbox("#newsletter"));\nalice.attemptsTo(Uncheck.checkbox("#marketing-emails"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"focus",children:"Focus"}),"\n",(0,a.jsx)(n.p,{children:"Focus on an element:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(Focus.on("#search-input"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"selecting-from-dropdowns",children:"Selecting from Dropdowns"}),"\n",(0,a.jsx)(n.p,{children:"Select options from dropdown menus:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// By visible text\nalice.attemptsTo(SelectFromOptions.byVisibleText("Red").from("#color"));\n\n// By value attribute\nalice.attemptsTo(SelectFromOptions.byValue("red").from("#color"));\n\n// By index\nalice.attemptsTo(SelectFromOptions.byIndex(2).from("#color"));\n\n// Multiple values (for multi-select)\nalice.attemptsTo(SelectFromOptions.byValue("red", "blue", "green").from("#colors"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"deselecting-from-dropdowns",children:"Deselecting from Dropdowns"}),"\n",(0,a.jsx)(n.p,{children:"For multi-select dropdowns, you can deselect options:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.DeselectFromOptions;\n\n// Deselect by value\nalice.attemptsTo(DeselectFromOptions.byValue("red").from("#colors"));\n\n// Deselect by visible text\nalice.attemptsTo(DeselectFromOptions.byVisibleText("Red").from("#colors"));\n\n// Deselect by index\nalice.attemptsTo(DeselectFromOptions.byIndex(0).from("#colors"));\n\n// Deselect all\nalice.attemptsTo(DeselectFromOptions.all().from("#colors"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"scrolling",children:"Scrolling"}),"\n",(0,a.jsx)(n.p,{children:"Comprehensive scrolling capabilities:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.Scroll;\n\n// Scroll to an element\nalice.attemptsTo(Scroll.to("#terms-and-conditions"));\n\n// Scroll with alignment\nalice.attemptsTo(Scroll.to("#section").andAlignToTop());\nalice.attemptsTo(Scroll.to("#section").andAlignToCenter());\nalice.attemptsTo(Scroll.to("#section").andAlignToBottom());\n\n// Page-level scrolling\nalice.attemptsTo(Scroll.toTop());\nalice.attemptsTo(Scroll.toBottom());\n\n// Scroll by specific amount (deltaX, deltaY)\nalice.attemptsTo(Scroll.by(0, 500));\n\n// Scroll to specific position\nalice.attemptsTo(Scroll.toPosition(0, 1000));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"drag-and-drop",children:"Drag and Drop"}),"\n",(0,a.jsx)(n.p,{children:"Drag elements from one location to another:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.Drag;\n\n// Basic drag and drop\nalice.attemptsTo(Drag.from("#source").to("#target"));\n\n// Alternative fluent syntax\nalice.attemptsTo(Drag.the("#draggable").onto("#droppable"));\n\n// With Targets\nalice.attemptsTo(Drag.from(SOURCE_ELEMENT).to(TARGET_LOCATION));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"file-uploads",children:"File Uploads"}),"\n",(0,a.jsx)(n.p,{children:"Upload files:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Path fileToUpload = Paths.get("path/to/file.pdf");\nalice.attemptsTo(Upload.file(fileToUpload).to("#file-input"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"javascript-execution",children:"JavaScript Execution"}),"\n",(0,a.jsx)(n.p,{children:"Execute JavaScript in the page context:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(\n    Evaluate.javascript("window.scrollTo(0, document.body.scrollHeight)")\n);\n\n// With return value\nObject result = alice.asksFor(\n    Evaluate.javascript("return document.title")\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"waiting",children:"Waiting"}),"\n",(0,a.jsx)(n.p,{children:"Wait for elements or conditions:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Wait for element to be visible\nalice.attemptsTo(WaitUntil.the("#loading").isNotVisible());\n\n// Wait for element to be hidden\nalice.attemptsTo(WaitUntil.the("#spinner").isHidden());\n\n// Wait with timeout\nalice.attemptsTo(\n    WaitUntil.the("#content").isVisible()\n        .forNoMoreThan(Duration.ofSeconds(10))\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"querying-the-web-page",children:"Querying the Web Page"}),"\n",(0,a.jsx)(n.h3,{id:"bundled-questions",children:"Bundled Questions"}),"\n",(0,a.jsx)(n.p,{children:"Serenity Playwright provides Question classes for querying page state:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Question"}),(0,a.jsx)(n.th,{children:"Purpose"}),(0,a.jsx)(n.th,{children:"Example"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Text"}),(0,a.jsx)(n.td,{children:"Get element text"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Text.of("#title"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Value"}),(0,a.jsx)(n.td,{children:"Get input value"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Value.of("#email"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Attribute"}),(0,a.jsx)(n.td,{children:"Get attribute value"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Attribute.of("#link").named("href"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Presence"}),(0,a.jsx)(n.td,{children:"Check if element exists"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Presence.of("#modal"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Absence"}),(0,a.jsx)(n.td,{children:"Check if element is absent"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Absence.of("#error"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Visibility"}),(0,a.jsx)(n.td,{children:"Check if element is visible"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Visibility.of("#popup"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Enabled"}),(0,a.jsx)(n.td,{children:"Check if element is enabled"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(Enabled.of("#submit"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"SelectedStatus"}),(0,a.jsx)(n.td,{children:"Check if checkbox is selected"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(SelectedStatus.of("#agree"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"CSSValue"}),(0,a.jsx)(n.td,{children:"Get CSS property"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'actor.asksFor(CSSValue.of("#box").named("color"))'})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"CurrentUrl"}),(0,a.jsx)(n.td,{children:"Get current page URL"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"actor.asksFor(CurrentUrl.ofThePage())"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"PageTitle"}),(0,a.jsx)(n.td,{children:"Get page title"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"actor.asksFor(PageTitle.ofThePage())"})})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"text",children:"Text"}),"\n",(0,a.jsx)(n.p,{children:"Get the text content of an element:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'String heading = alice.asksFor(Text.of("#main-heading"));\n\n// Multiple elements\nList<String> items = alice.asksFor(Text.ofEach(".list-item"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"presence-and-absence",children:"Presence and Absence"}),"\n",(0,a.jsx)(n.p,{children:"Check whether elements exist on the page:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Check if present\nboolean isPresent = alice.asksFor(Presence.of("#modal"));\n\n// Check if absent\nboolean isAbsent = alice.asksFor(Absence.of("#error-message"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,a.jsx)(n.p,{children:"Get attribute values:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'String href = alice.asksFor(Attribute.of("#link").named("href"));\nString placeholder = alice.asksFor(Attribute.of("#input").named("placeholder"));\n'})}),"\n",(0,a.jsx)(n.h3,{id:"current-page-information",children:"Current Page Information"}),"\n",(0,a.jsx)(n.p,{children:"Query page-level information:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"String url = alice.asksFor(CurrentUrl.ofThePage());\nString title = alice.asksFor(PageTitle.ofThePage());\n"})}),"\n",(0,a.jsx)(n.h2,{id:"network-interception-and-mocking",children:"Network Interception and Mocking"}),"\n",(0,a.jsx)(n.p,{children:"Playwright provides powerful network interception capabilities for testing."}),"\n",(0,a.jsx)(n.h3,{id:"intercepting-requests",children:"Intercepting Requests"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.network.InterceptNetwork;\n\n// Intercept and fulfill with mock response\nalice.attemptsTo(\n    InterceptNetwork.requestsTo("**/api/users")\n        .andRespondWith(\n            new Route.FulfillOptions()\n                .setStatus(200)\n                .setBody("{\\"users\\": []}")\n                .setContentType("application/json")\n        )\n);\n\n// Intercept and respond with JSON\nalice.attemptsTo(\n    InterceptNetwork.requestsTo("**/api/user/123")\n        .andRespondWithJson(200, Map.of(\n            "id", 123,\n            "name", "John Doe",\n            "email", "john@example.com"\n        ))\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"custom-request-handlers",children:"Custom Request Handlers"}),"\n",(0,a.jsx)(n.p,{children:"For more control, use custom handlers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(\n    InterceptNetwork.requestsTo("**/api/**")\n        .andHandle(route -> {\n            if (route.request().method().equals("DELETE")) {\n                route.fulfill(new Route.FulfillOptions()\n                    .setStatus(403)\n                    .setBody("{\\"error\\": \\"Forbidden\\"}"));\n            } else {\n                route.resume();\n            }\n        })\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"aborting-requests",children:"Aborting Requests"}),"\n",(0,a.jsx)(n.p,{children:"Block specific requests (useful for testing error handling):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(\n    InterceptNetwork.requestsTo("**/analytics/**").andAbort()\n);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"removing-routes",children:"Removing Routes"}),"\n",(0,a.jsx)(n.p,{children:"Remove previously registered route handlers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.network.RemoveRoutes;\n\n// Remove all route handlers\nalice.attemptsTo(RemoveRoutes.all());\n\n// Remove routes for specific pattern\nalice.attemptsTo(RemoveRoutes.forUrl("**/api/**"));\n'})}),"\n",(0,a.jsx)(n.h2,{id:"handling-downloads",children:"Handling Downloads"}),"\n",(0,a.jsx)(n.p,{children:"Wait for and handle file downloads:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.WaitForDownload;\nimport net.serenitybdd.screenplay.playwright.questions.DownloadedFile;\n\n// Wait for download triggered by clicking\nalice.attemptsTo(\n    WaitForDownload.whilePerforming(Click.on("#download-btn"))\n);\n\n// Query download information\nString filename = alice.asksFor(DownloadedFile.suggestedFilename());\nString url = alice.asksFor(DownloadedFile.url());\nPath path = alice.asksFor(DownloadedFile.path());\n\n// Check for failures\nString error = alice.asksFor(DownloadedFile.failure());\nif (error == null) {\n    // Download succeeded\n}\n\n// Save to specific location\nalice.attemptsTo(\n    WaitForDownload.whilePerforming(Click.on("#export-btn"))\n        .andSaveTo(Paths.get("/downloads/report.pdf"))\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"console-message-capture",children:"Console Message Capture"}),"\n",(0,a.jsx)(n.p,{children:"Capture and query browser console messages for debugging:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.CaptureConsoleMessages;\nimport net.serenitybdd.screenplay.playwright.questions.ConsoleMessages;\n\n// Start capturing console messages\nalice.attemptsTo(CaptureConsoleMessages.duringTest());\n\n// ... perform actions that may log to console ...\n\n// Query captured messages\nList<String> allMessages = alice.asksFor(ConsoleMessages.all());\nList<String> errors = alice.asksFor(ConsoleMessages.errors());\nList<String> warnings = alice.asksFor(ConsoleMessages.warnings());\nList<String> logs = alice.asksFor(ConsoleMessages.logs());\n\n// Filter by content\nList<String> apiErrors = alice.asksFor(ConsoleMessages.containing("API error"));\n\n// Get message counts\nint totalCount = alice.asksFor(ConsoleMessages.count());\nint errorCount = alice.asksFor(ConsoleMessages.errorCount());\n'})}),"\n",(0,a.jsx)(n.h2,{id:"accessibility-testing",children:"Accessibility Testing"}),"\n",(0,a.jsx)(n.p,{children:"Test accessibility compliance using ARIA snapshots:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.questions.AccessibilitySnapshot;\nimport com.microsoft.playwright.options.AriaRole;\n\n// Get accessibility snapshot of the entire page\nString pageSnapshot = alice.asksFor(AccessibilitySnapshot.ofThePage());\n\n// Get accessibility snapshot of a specific element\nString navSnapshot = alice.asksFor(AccessibilitySnapshot.of("#main-nav"));\nString formSnapshot = alice.asksFor(AccessibilitySnapshot.of(LOGIN_FORM));\n\n// Get all elements with a specific ARIA role\nList<String> buttons = alice.asksFor(AccessibilitySnapshot.allWithRole(AriaRole.BUTTON));\nList<String> links = alice.asksFor(AccessibilitySnapshot.allWithRole(AriaRole.LINK));\nList<String> headings = alice.asksFor(AccessibilitySnapshot.allWithRole(AriaRole.HEADING));\n'})}),"\n",(0,a.jsx)(n.h2,{id:"visual-regression-testing",children:"Visual Regression Testing"}),"\n",(0,a.jsx)(n.p,{children:"Compare screenshots against baseline images:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.assertions.visual.CompareScreenshot;\n\n// Full page comparison\nalice.attemptsTo(\n    CompareScreenshot.ofPage()\n        .againstBaseline("homepage-baseline.png")\n        .withThreshold(0.01)  // 1% difference allowed\n);\n\n// Element comparison\nalice.attemptsTo(\n    CompareScreenshot.of("#product-card")\n        .againstBaseline("product-card-baseline.png")\n);\n\n// With mask for dynamic content\nalice.attemptsTo(\n    CompareScreenshot.ofPage()\n        .againstBaseline("dashboard.png")\n        .withMask("#timestamp", "#user-avatar")\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"device-emulation",children:"Device Emulation"}),"\n",(0,a.jsx)(n.p,{children:"Test responsive designs with device emulation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.EmulateDevice;\n\n// Emulate specific device\nalice.attemptsTo(EmulateDevice.device("iPhone 14"));\nalice.attemptsTo(EmulateDevice.device("Pixel 7"));\nalice.attemptsTo(EmulateDevice.device("iPad Pro 11"));\n\n// Custom viewport\nalice.attemptsTo(EmulateDevice.withViewport(375, 812));\n\n// With device scale factor\nalice.attemptsTo(\n    EmulateDevice.withViewport(375, 812).andDeviceScaleFactor(2)\n);\n\n// With mobile user agent\nalice.attemptsTo(\n    EmulateDevice.withViewport(375, 812).asMobile()\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"geolocation",children:"Geolocation"}),"\n",(0,a.jsx)(n.p,{children:"Test location-based features:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.SetGeolocation;\nimport net.serenitybdd.screenplay.playwright.interactions.GrantPermissions;\n\n// First grant geolocation permission\nalice.attemptsTo(GrantPermissions.for_("geolocation"));\n\n// Set specific coordinates\nalice.attemptsTo(SetGeolocation.to(51.5074, -0.1278));  // London\n\n// Use predefined locations\nalice.attemptsTo(SetGeolocation.toNewYork());\nalice.attemptsTo(SetGeolocation.toLondon());\nalice.attemptsTo(SetGeolocation.toTokyo());\nalice.attemptsTo(SetGeolocation.toSanFrancisco());\nalice.attemptsTo(SetGeolocation.toSydney());\nalice.attemptsTo(SetGeolocation.toParis());\n\n// With accuracy\nalice.attemptsTo(\n    SetGeolocation.to(40.7128, -74.0060).withAccuracy(100)\n);\n\n// Clear geolocation\nalice.attemptsTo(SetGeolocation.clear());\n'})}),"\n",(0,a.jsx)(n.h2,{id:"permission-management",children:"Permission Management"}),"\n",(0,a.jsx)(n.p,{children:"Grant or clear browser permissions:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.GrantPermissions;\nimport net.serenitybdd.screenplay.playwright.interactions.ClearPermissions;\n\n// Grant specific permissions\nalice.attemptsTo(GrantPermissions.for_("geolocation"));\nalice.attemptsTo(GrantPermissions.for_("notifications", "camera", "microphone"));\n\n// Clear all permissions\nalice.attemptsTo(ClearPermissions.all());\n'})}),"\n",(0,a.jsx)(n.h2,{id:"clock-control",children:"Clock Control"}),"\n",(0,a.jsx)(n.p,{children:"Test time-dependent functionality:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.ControlClock;\nimport java.time.Instant;\n\n// Install fake clock\nalice.attemptsTo(ControlClock.install());\n\n// Set to specific time\nalice.attemptsTo(\n    ControlClock.setTo(Instant.parse("2024-01-15T10:30:00Z"))\n);\n\n// Advance time\nalice.attemptsTo(ControlClock.advanceBy(Duration.ofHours(2)));\nalice.attemptsTo(ControlClock.advanceBy(Duration.ofMinutes(30)));\n\n// Resume normal time flow\nalice.attemptsTo(ControlClock.resume());\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tracing",children:"Tracing"}),"\n",(0,a.jsx)(n.p,{children:"Record detailed traces for debugging:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.tracing.StartTracing;\nimport net.serenitybdd.screenplay.playwright.interactions.tracing.StopTracing;\n\n// Start tracing with options\nalice.attemptsTo(\n    StartTracing.withScreenshots()\n        .andSnapshots()\n        .named("login-flow")\n);\n\n// ... perform test actions ...\n\n// Stop and save trace\nalice.attemptsTo(\n    StopTracing.andSaveTo(Paths.get("traces/login-flow.zip"))\n);\n\n// View trace: npx playwright show-trace traces/login-flow.zip\n'})}),"\n",(0,a.jsx)(n.p,{children:"Trace options:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"withScreenshots()"})," - Include screenshots in trace"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"andSnapshots()"})," - Include DOM snapshots"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"andSources()"})," - Include source files"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"named(String)"})," - Set trace name"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"pdf-generation",children:"PDF Generation"}),"\n",(0,a.jsx)(n.p,{children:"Generate PDFs from pages (Chromium only, headless mode):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.interactions.GeneratePDF;\n\n// Basic PDF generation\nalice.attemptsTo(\n    GeneratePDF.ofCurrentPage()\n        .andSaveTo(Paths.get("output/report.pdf"))\n);\n\n// With options\nalice.attemptsTo(\n    GeneratePDF.ofCurrentPage()\n        .withFormat("A4")\n        .inLandscape()\n        .withMargins("1cm", "1cm", "1cm", "1cm")\n        .withHeaderTemplate("<div>Header</div>")\n        .withFooterTemplate("<div>Page <span class=\'pageNumber\'></span></div>")\n        .displayHeaderAndFooter()\n        .printBackground()\n        .andSaveTo(Paths.get("output/report.pdf"))\n);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"switching-contexts",children:"Switching Contexts"}),"\n",(0,a.jsx)(n.h3,{id:"frames",children:"Frames"}),"\n",(0,a.jsx)(n.p,{children:"Work with iframes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Switch to frame by name or ID\nalice.attemptsTo(Switch.toFrame("payment-iframe"));\n\n// Switch to frame by Target\nalice.attemptsTo(Switch.toFrame(Target.the("payment").locatedBy("#payment-frame")));\n\n// Switch back to main frame\nalice.attemptsTo(Switch.toMainFrame());\n'})}),"\n",(0,a.jsx)(n.h3,{id:"windows-and-tabs",children:"Windows and Tabs"}),"\n",(0,a.jsx)(n.p,{children:"Handle multiple windows and tabs:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Switch to new window/tab\nalice.attemptsTo(Switch.toNewWindow());\n\n// Close current window\nalice.attemptsTo(CloseCurrentWindow.now());\n"})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"use-target-constants",children:"Use Target Constants"}),"\n",(0,a.jsx)(n.p,{children:"Define targets as constants for reusability and maintainability:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class LoginPage {\n    public static Target EMAIL_FIELD = Target.the("email field")\n        .locatedBy("#email");\n    public static Target PASSWORD_FIELD = Target.the("password field")\n        .locatedBy("#password");\n    public static Target LOGIN_BUTTON = Target.the("login button")\n        .locatedBy("role=button[name=\'Log in\']");\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"prefer-role-selectors",children:"Prefer Role Selectors"}),"\n",(0,a.jsx)(n.p,{children:"Use ARIA role selectors for more resilient tests:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Instead of CSS\nTarget.the("Submit").locatedBy("button.primary-btn")\n\n// Prefer role selector\nTarget.the("Submit").locatedBy("role=button[name=\'Submit\']")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"use-ui-element-factories",children:"Use UI Element Factories"}),"\n",(0,a.jsx)(n.p,{children:"For common elements, use the UI element factories:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Instead of\nClick.on(Target.the("Add button").locatedBy("role=button[name=\'Add to Cart\']"))\n\n// Use\nClick.on(Button.withText("Add to Cart"))\n'})}),"\n",(0,a.jsx)(n.h3,{id:"network-mocking-for-isolation",children:"Network Mocking for Isolation"}),"\n",(0,a.jsx)(n.p,{children:"Mock API responses to isolate UI tests:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@BeforeEach\nvoid setupMocks() {\n    actor.attemptsTo(\n        InterceptNetwork.requestsTo("**/api/products")\n            .andRespondWithJson(200, mockProducts)\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"use-tracing-for-debugging",children:"Use Tracing for Debugging"}),"\n",(0,a.jsx)(n.p,{children:"Enable tracing when debugging test failures:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'alice.attemptsTo(\n    StartTracing.withScreenshots().andSnapshots()\n);\n\n// Run your test...\n\nalice.attemptsTo(\n    StopTracing.andSaveTo(Paths.get("trace.zip"))\n);\n// View with: npx playwright show-trace trace.zip\n'})}),"\n",(0,a.jsx)(n.h2,{id:"migration-from-webdriver",children:"Migration from WebDriver"}),"\n",(0,a.jsxs)(n.p,{children:["When migrating from ",(0,a.jsx)(n.code,{children:"serenity-screenplay-webdriver"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Ability Change"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Replace ",(0,a.jsx)(n.code,{children:"BrowseTheWeb"})," with ",(0,a.jsx)(n.code,{children:"BrowseTheWebWithPlaywright"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Selector Syntax"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"CSS and XPath work similarly"}),"\n",(0,a.jsx)(n.li,{children:"Add role selectors for more robust tests"}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:">>"})," for chaining selectors instead of nesting"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Waiting"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Playwright auto-waits; explicit waits are less necessary"}),"\n",(0,a.jsxs)(n.li,{children:["Remove most ",(0,a.jsx)(n.code,{children:"WaitUntil"})," calls"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Locator Methods"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'By.id("x")'})," becomes ",(0,a.jsx)(n.code,{children:'"#x"'})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'By.cssSelector("x")'})," becomes ",(0,a.jsx)(n.code,{children:'"x"'})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:'By.xpath("x")'})," becomes ",(0,a.jsx)(n.code,{children:'"xpath=x"'})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"New Capabilities"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Use network interception for mocking APIs"}),"\n",(0,a.jsx)(n.li,{children:"Use tracing for debugging"}),"\n",(0,a.jsx)(n.li,{children:"Use device emulation for responsive testing"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport net.serenitybdd.screenplay.playwright.interactions.*;\nimport net.serenitybdd.screenplay.playwright.questions.*;\nimport net.serenitybdd.screenplay.playwright.ui.*;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class ShoppingCartTest {\n\n    Actor alice = Actor.named("Alice");\n\n    @BeforeEach\n    void setup() {\n        Playwright playwright = Playwright.create();\n        Browser browser = playwright.chromium().launch();\n        alice.can(BrowseTheWebWithPlaywright.using(browser));\n    }\n\n    @Test\n    void shouldAddItemToCart() {\n        alice.attemptsTo(\n            Navigate.to("https://shop.example.com"),\n            Click.on(Button.withText("Electronics")),\n            Click.on(Link.containingText("Laptop")),\n            SelectFromOptions.byVisibleText("16GB").from(Dropdown.withLabel("Memory")),\n            Click.on(Button.withText("Add to Cart"))\n        );\n\n        String cartCount = alice.asksFor(Text.of("#cart-count"));\n        assertThat(cartCount).isEqualTo("1");\n\n        List<String> cartItems = alice.asksFor(Text.ofEach(".cart-item-name"));\n        assertThat(cartItems).contains("Laptop");\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://playwright.dev/java/docs/intro",children:"Playwright Java Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"screenplay_fundamentals",children:"Serenity Screenplay Pattern"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"screenplay_webdriver",children:"Web Testing with WebDriver"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>l});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);