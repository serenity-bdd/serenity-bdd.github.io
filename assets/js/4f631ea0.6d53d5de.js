"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[2793],{8453(e,n,s){s.d(n,{R:()=>i,x:()=>l});var r=s(6540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},8975(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"tutorials/data-driven-testing","title":"Data-Driven Testing with Serenity BDD","description":"Data-driven testing allows you to run the same test logic with multiple sets of input data, making your tests more comprehensive and maintainable. This guide covers data-driven testing approaches with both JUnit 5 and Cucumber.","source":"@site/docs/tutorials/data-driven-testing.md","sourceDirName":"tutorials","slug":"/tutorials/data-driven-testing","permalink":"/docs/tutorials/data-driven-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/data-driven-testing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"data-driven-testing","title":"Data-Driven Testing with Serenity BDD","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Comprehensive REST API Testing","permalink":"/docs/tutorials/rest-api-testing"},"next":{"title":"Migrating From Serenity BDD 3.x to Serenity BDD 4.x","permalink":"/docs/tutorials/migrating_to_serenity_4"}}');var t=s(4848),a=s(8453);const i={id:"data-driven-testing",title:"Data-Driven Testing with Serenity BDD",sidebar_position:5},l="Data-Driven Testing with Serenity BDD",o={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Why Data-Driven Testing?",id:"why-data-driven-testing",level:2},{value:"JUnit 5 Parameterized Tests",id:"junit-5-parameterized-tests",level:2},{value:"Basic Setup",id:"basic-setup",level:3},{value:"Simple Value Sources",id:"simple-value-sources",level:3},{value:"CSV Source - Inline Data",id:"csv-source---inline-data",level:3},{value:"CSV Source with Custom Delimiter",id:"csv-source-with-custom-delimiter",level:3},{value:"CSV File Source - External Data",id:"csv-file-source---external-data",level:3},{value:"Method Source - Complex Objects",id:"method-source---complex-objects",level:3},{value:"Method Source from External Class",id:"method-source-from-external-class",level:3},{value:"Enum Source",id:"enum-source",level:3},{value:"Custom Display Names",id:"custom-display-names",level:3},{value:"Cucumber Scenario Outlines",id:"cucumber-scenario-outlines",level:2},{value:"Basic Scenario Outline",id:"basic-scenario-outline",level:3},{value:"Step Definitions with Screenplay",id:"step-definitions-with-screenplay",level:3},{value:"Multiple Examples Tables",id:"multiple-examples-tables",level:3},{value:"Data Tables",id:"data-tables",level:3},{value:"External Data Files with Cucumber",id:"external-data-files-with-cucumber",level:3},{value:"External Data Sources",id:"external-data-sources",level:2},{value:"Reading from CSV Files",id:"reading-from-csv-files",level:3},{value:"Reading from JSON Files",id:"reading-from-json-files",level:3},{value:"Reading from Excel Files",id:"reading-from-excel-files",level:3},{value:"Test Data Builders",id:"test-data-builders",level:2},{value:"Using Faker for Random Data",id:"using-faker-for-random-data",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Keep Test Data Close to Tests",id:"1-keep-test-data-close-to-tests",level:3},{value:"2. Use Meaningful Test Names",id:"2-use-meaningful-test-names",level:3},{value:"3. Validate Test Data",id:"3-validate-test-data",level:3},{value:"4. Isolate Test Data",id:"4-isolate-test-data",level:3},{value:"5. Document Data Requirements",id:"5-document-data-requirements",level:3},{value:"6. Separate Valid and Invalid Data",id:"6-separate-valid-and-invalid-data",level:3},{value:"Complete Example: E-Commerce Testing",id:"complete-example-e-commerce-testing",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue: Parameterized tests not running",id:"issue-parameterized-tests-not-running",level:3},{value:"Issue: CSV data not loading",id:"issue-csv-data-not-loading",level:3},{value:"Issue: Data appearing in wrong order",id:"issue-data-appearing-in-wrong-order",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"data-driven-testing-with-serenity-bdd",children:"Data-Driven Testing with Serenity BDD"})}),"\n",(0,t.jsx)(n.p,{children:"Data-driven testing allows you to run the same test logic with multiple sets of input data, making your tests more comprehensive and maintainable. This guide covers data-driven testing approaches with both JUnit 5 and Cucumber."}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Java 17 or higher"}),"\n",(0,t.jsx)(n.li,{children:"Serenity BDD 5.2.2 or higher"}),"\n",(0,t.jsx)(n.li,{children:"JUnit 5 6.0.1 or higher (for JUnit examples)"}),"\n",(0,t.jsx)(n.li,{children:"Cucumber 7.33.0 or higher (for Cucumber examples)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"why-data-driven-testing",children:"Why Data-Driven Testing?"}),"\n",(0,t.jsx)(n.p,{children:"Data-driven testing helps you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test multiple scenarios"})," with minimal code duplication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Improve test coverage"})," by testing edge cases and boundary values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Separate test logic from test data"})," for better maintainability"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Make tests more readable"})," by clearly showing what varies between test cases"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"junit-5-parameterized-tests",children:"JUnit 5 Parameterized Tests"}),"\n",(0,t.jsxs)(n.p,{children:["JUnit 5 provides powerful parameterized testing capabilities through ",(0,t.jsx)(n.code,{children:"@ParameterizedTest"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,t.jsx)(n.p,{children:"First, add the JUnit Jupiter parameters dependency:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-params</artifactId>\n    <version>6.0.1</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"simple-value-sources",children:"Simple Value Sources"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"@ValueSource"})," for simple data types:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.annotations.Managed;\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.openqa.selenium.WebDriver;\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass SearchTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @ParameterizedTest\n    @ValueSource(strings = {"Selenium", "Cucumber", "JUnit 5"})\n    void shouldFindSearchResults(String searchTerm) {\n        // Navigate to search page\n        driver.get("https://duckduckgo.com");\n\n        // Perform search with each term\n        SearchPage searchPage = new SearchPage(driver);\n        searchPage.searchFor(searchTerm);\n\n        // Verify results\n        assertThat(searchPage.getResults()).isNotEmpty();\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Supported types for @ValueSource:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"strings"})," - String values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ints"})," - Integer values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"longs"})," - Long values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"doubles"})," - Double values"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"booleans"})," - Boolean values"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"csv-source---inline-data",children:"CSV Source - Inline Data"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"@CsvSource"})," for multiple parameters per test case:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @Steps\n    LoginActions loginActions;\n\n    @ParameterizedTest\n    @CsvSource({\n        "standard_user,     secret_sauce,  true",\n        "locked_out_user,  secret_sauce,  false",\n        "problem_user,     secret_sauce,  true",\n        "invalid_user,     wrong_password, false"\n    })\n    void shouldHandleLoginScenarios(String username, String password, boolean shouldSucceed) {\n        loginActions.navigateToLoginPage();\n        loginActions.loginWith(username, password);\n\n        if (shouldSucceed) {\n            loginActions.shouldSeeProductsPage();\n        } else {\n            loginActions.shouldSeeErrorMessage();\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Tips for @CsvSource:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Values are comma-separated by default"}),"\n",(0,t.jsxs)(n.li,{children:["Use single quotes for strings containing commas: ",(0,t.jsx)(n.code,{children:"'value, with, commas'"})]}),"\n",(0,t.jsx)(n.li,{children:"Empty values are treated as null"}),"\n",(0,t.jsx)(n.li,{children:"Whitespace is trimmed by default"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"csv-source-with-custom-delimiter",children:"CSV Source with Custom Delimiter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest\n@CsvSource(delimiter = \'|\', value = {\n    "Alice | alice@example.com | Premium",\n    "Bob   | bob@example.com   | Standard",\n    "Carol | carol@example.com | Basic"\n})\nvoid shouldHandleDifferentUserTypes(String name, String email, String accountType) {\n    // Test implementation\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"csv-file-source---external-data",children:"CSV File Source - External Data"}),"\n",(0,t.jsx)(n.p,{children:"Store test data in external CSV files for better maintainability:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"src/test/resources/test-data/users.csv:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csv",children:"username,password,email,expectedRole\nadmin,admin123,admin@example.com,ADMIN\nuser1,password1,user1@example.com,USER\nuser2,password2,user2@example.com,USER\nguest,guest123,guest@example.com,GUEST\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass UserRegistrationTests {\n\n    @Steps\n    RegistrationActions registration;\n\n    @ParameterizedTest\n    @CsvFileSource(resources = "/test-data/users.csv", numLinesToSkip = 1)\n    void shouldRegisterUsers(String username, String password, String email, String expectedRole) {\n        registration.registerNewUser(username, password, email);\n        registration.shouldHaveRole(expectedRole);\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"@CsvFileSource options:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"resources"})," - Path to CSV file (relative to src/test/resources)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"numLinesToSkip"})," - Skip header row (typically 1)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"delimiter"})," - Custom delimiter (default is comma)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"encoding"})," - File encoding (default is UTF-8)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"method-source---complex-objects",children:"Method Source - Complex Objects"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"@MethodSource"})," for complex test data or when you need more control:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ProductTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest\n    @MethodSource("productTestData")\n    void shouldAddProductToCart(Product product, int quantity, double expectedTotal) {\n        shopping.addToCart(product, quantity);\n        shopping.shouldShowTotal(expectedTotal);\n    }\n\n    static Stream<Arguments> productTestData() {\n        return Stream.of(\n            Arguments.of(new Product("Laptop", 999.99), 1, 999.99),\n            Arguments.of(new Product("Mouse", 29.99), 2, 59.98),\n            Arguments.of(new Product("Keyboard", 79.99), 3, 239.97)\n        );\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"method-source-from-external-class",children:"Method Source from External Class"}),"\n",(0,t.jsx)(n.p,{children:"Organize test data in separate classes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'class TestDataProviders {\n\n    static Stream<Arguments> loginScenarios() {\n        return Stream.of(\n            Arguments.of("admin", "admin123", true, "Dashboard"),\n            Arguments.of("user", "user123", true, "Home"),\n            Arguments.of("invalid", "wrong", false, "Login Error")\n        );\n    }\n\n    static Stream<Arguments> searchQueries() {\n        return Stream.of(\n            Arguments.of("Selenium", 10),\n            Arguments.of("Cucumber", 8),\n            Arguments.of("JUnit", 15)\n        );\n    }\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @ParameterizedTest\n    @MethodSource("com.example.TestDataProviders#loginScenarios")\n    void shouldHandleLoginScenarios(String username, String password,\n                                   boolean shouldSucceed, String expectedPage) {\n        // Test implementation\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"enum-source",children:"Enum Source"}),"\n",(0,t.jsx)(n.p,{children:"Test with enum values:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'enum UserRole {\n    ADMIN, MANAGER, USER, GUEST\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass RoleBasedTests {\n\n    @ParameterizedTest\n    @EnumSource(UserRole.class)\n    void shouldHandleAllUserRoles(UserRole role) {\n        // Test each role\n    }\n\n    @ParameterizedTest\n    @EnumSource(value = UserRole.class, names = {"ADMIN", "MANAGER"})\n    void shouldAllowAdminActions(UserRole role) {\n        // Test only admin and manager roles\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"custom-display-names",children:"Custom Display Names"}),"\n",(0,t.jsx)(n.p,{children:"Make test reports more readable:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest(name = "Search for \'\'{0}\'\' should return at least {1} results")\n@CsvSource({\n    "Selenium, 10",\n    "Cucumber, 5",\n    "JUnit,    8"\n})\nvoid searchTests(String term, int minimumResults) {\n    // Test implementation\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"{0}"}),", ",(0,t.jsx)(n.code,{children:"{1}"})," placeholders correspond to parameter positions."]}),"\n",(0,t.jsx)(n.h2,{id:"cucumber-scenario-outlines",children:"Cucumber Scenario Outlines"}),"\n",(0,t.jsx)(n.p,{children:"Cucumber provides Scenario Outlines for data-driven BDD tests."}),"\n",(0,t.jsx)(n.h3,{id:"basic-scenario-outline",children:"Basic Scenario Outline"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"features/login.feature:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-gherkin",children:'Feature: User Login\n\n  Scenario Outline: Login with different credentials\n    Given the user is on the login page\n    When the user logs in with username "<username>" and password "<password>"\n    Then the login should <result>\n    And the user should see the "<page>" page\n\n    Examples:\n      | username      | password     | result  | page      |\n      | standard_user | secret_sauce | succeed | Products  |\n      | locked_user   | secret_sauce | fail    | Login     |\n      | invalid_user  | wrong_pass   | fail    | Login     |\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-definitions-with-screenplay",children:"Step Definitions with Screenplay"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.cucumber.java.en.*;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.abilities.BrowseTheWeb;\nimport net.serenitybdd.screenplay.actions.Open;\nimport static net.serenitybdd.screenplay.GivenWhenThen.*;\n\npublic class LoginStepDefinitions {\n\n    @Given("{actor} is on the login page")\n    public void userIsOnLoginPage(Actor actor) {\n        actor.attemptsTo(\n            Open.url("https://www.saucedemo.com")\n        );\n    }\n\n    @When("{actor} logs in with username {string} and password {string}")\n    public void userLogsIn(Actor actor, String username, String password) {\n        actor.attemptsTo(\n            Login.withCredentials(username, password)\n        );\n    }\n\n    @Then("the login should {word}")\n    public void verifyLoginResult(String result) {\n        // Verification based on result\n    }\n\n    @Then("{actor} should see the {string} page")\n    public void verifiesPage(Actor actor, String expectedPage) {\n        actor.should(\n            seeThat(TheCurrentPage.title(), containsString(expectedPage))\n        );\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"multiple-examples-tables",children:"Multiple Examples Tables"}),"\n",(0,t.jsx)(n.p,{children:"Use multiple Examples tables to organize different test scenarios:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-gherkin",children:'Feature: Shopping Cart\n\n  Scenario Outline: Add products to cart\n    Given the user is logged in\n    When the user adds "<product>" with quantity <quantity>\n    Then the cart total should be <total>\n\n    Examples: Single items\n      | product  | quantity | total   |\n      | Laptop   | 1        | 999.99  |\n      | Mouse    | 1        | 29.99   |\n      | Keyboard | 1        | 79.99   |\n\n    Examples: Multiple quantities\n      | product  | quantity | total   |\n      | Mouse    | 3        | 89.97   |\n      | Keyboard | 2        | 159.98  |\n'})}),"\n",(0,t.jsx)(n.h3,{id:"data-tables",children:"Data Tables"}),"\n",(0,t.jsx)(n.p,{children:"For more complex data structures, use Data Tables:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-gherkin",children:"Feature: Bulk User Registration\n\n  Scenario: Register multiple users\n    Given the admin is logged in\n    When the admin registers the following users:\n      | username | email              | role    |\n      | alice    | alice@example.com  | Admin   |\n      | bob      | bob@example.com    | User    |\n      | charlie  | charlie@example.com| Manager |\n    Then all users should be created successfully\n"})}),"\n",(0,t.jsx)(n.p,{children:"Step definition:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@When("the admin registers the following users:")\npublic void registerUsers(DataTable dataTable) {\n    List<Map<String, String>> users = dataTable.asMaps();\n\n    for (Map<String, String> user : users) {\n        String username = user.get("username");\n        String email = user.get("email");\n        String role = user.get("role");\n\n        actor.attemptsTo(\n            RegisterUser.withDetails(username, email, role)\n        );\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"external-data-files-with-cucumber",children:"External Data Files with Cucumber"}),"\n",(0,t.jsx)(n.p,{children:"Load data from external files:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-gherkin",children:'Scenario: Register users from CSV\n  Given the admin is logged in\n  When the admin imports users from "test-data/users.csv"\n  Then all users should be registered\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@When("the admin imports users from {string}")\npublic void importUsersFromFile(String filePath) {\n    List<User> users = UserDataLoader.fromCsv(filePath);\n\n    users.forEach(user ->\n        actor.attemptsTo(RegisterUser.with(user))\n    );\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"external-data-sources",children:"External Data Sources"}),"\n",(0,t.jsx)(n.h3,{id:"reading-from-csv-files",children:"Reading from CSV Files"}),"\n",(0,t.jsx)(n.p,{children:"Create a reusable CSV reader:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'public class CsvDataReader {\n\n    public static List<Map<String, String>> readCsv(String filePath) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (BufferedReader reader = new BufferedReader(\n                new FileReader(filePath))) {\n\n            String headerLine = reader.readLine();\n            String[] headers = headerLine.split(",");\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] values = line.split(",");\n                Map<String, String> row = new HashMap<>();\n\n                for (int i = 0; i < headers.length; i++) {\n                    row.put(headers[i].trim(), values[i].trim());\n                }\n                data.add(row);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read CSV file: " + filePath, e);\n        }\n\n        return data;\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"reading-from-json-files",children:"Reading from JSON Files"}),"\n",(0,t.jsx)(n.p,{children:"Use Jackson or Gson to read JSON test data:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"src/test/resources/test-data/products.json:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "Laptop",\n    "price": 999.99,\n    "category": "Electronics",\n    "inStock": true\n  },\n  {\n    "name": "Mouse",\n    "price": 29.99,\n    "category": "Accessories",\n    "inStock": true\n  }\n]\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.type.TypeReference;\n\npublic class JsonDataReader {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public static <T> List<T> readJson(String filePath, Class<T> type) {\n        try {\n            InputStream stream = JsonDataReader.class\n                .getResourceAsStream(filePath);\n            return mapper.readValue(stream,\n                mapper.getTypeFactory().constructCollectionType(List.class, type));\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read JSON file: " + filePath, e);\n        }\n    }\n}\n\n// Usage\n@MethodSource("productData")\nstatic Stream<Product> productData() {\n    List<Product> products = JsonDataReader.readJson(\n        "/test-data/products.json",\n        Product.class\n    );\n    return products.stream();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"reading-from-excel-files",children:"Reading from Excel Files"}),"\n",(0,t.jsx)(n.p,{children:"Use Apache POI for Excel files:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.poi</groupId>\n    <artifactId>poi-ooxml</artifactId>\n    <version>5.2.3</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelDataReader {\n\n    public static List<Map<String, String>> readExcel(String filePath, String sheetName) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (FileInputStream fis = new FileInputStream(filePath);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheet(sheetName);\n            Row headerRow = sheet.getRow(0);\n\n            for (int i = 1; i <= sheet.getLastRowNum(); i++) {\n                Row row = sheet.getRow(i);\n                Map<String, String> rowData = new HashMap<>();\n\n                for (int j = 0; j < headerRow.getLastCellNum(); j++) {\n                    String header = headerRow.getCell(j).getStringCellValue();\n                    String value = getCellValueAsString(row.getCell(j));\n                    rowData.put(header, value);\n                }\n                data.add(rowData);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read Excel file", e);\n        }\n\n        return data;\n    }\n\n    private static String getCellValueAsString(Cell cell) {\n        if (cell == null) return "";\n\n        switch (cell.getCellType()) {\n            case STRING: return cell.getStringCellValue();\n            case NUMERIC: return String.valueOf(cell.getNumericCellValue());\n            case BOOLEAN: return String.valueOf(cell.getBooleanCellValue());\n            default: return "";\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"test-data-builders",children:"Test Data Builders"}),"\n",(0,t.jsx)(n.p,{children:"Use the Builder pattern for complex test data:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'public class UserBuilder {\n    private String username;\n    private String email;\n    private String password;\n    private String role = "USER";\n    private boolean active = true;\n\n    public static UserBuilder aUser() {\n        return new UserBuilder();\n    }\n\n    public UserBuilder withUsername(String username) {\n        this.username = username;\n        return this;\n    }\n\n    public UserBuilder withEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    public UserBuilder withPassword(String password) {\n        this.password = password;\n        return this;\n    }\n\n    public UserBuilder withRole(String role) {\n        this.role = role;\n        return this;\n    }\n\n    public UserBuilder inactive() {\n        this.active = false;\n        return this;\n    }\n\n    public User build() {\n        return new User(username, email, password, role, active);\n    }\n}\n\n// Usage\n@MethodSource("userTestData")\nstatic Stream<User> userTestData() {\n    return Stream.of(\n        aUser().withUsername("admin").withRole("ADMIN").build(),\n        aUser().withUsername("user1").withEmail("user1@example.com").build(),\n        aUser().withUsername("inactive").inactive().build()\n    );\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"using-faker-for-random-data",children:"Using Faker for Random Data"}),"\n",(0,t.jsx)(n.p,{children:"Generate realistic random test data:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>com.github.javafaker</groupId>\n    <artifactId>javafaker</artifactId>\n    <version>1.0.2</version>\n    <scope>test</scope>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import com.github.javafaker.Faker;\n\npublic class TestDataGenerator {\n    private static final Faker faker = new Faker();\n\n    public static User randomUser() {\n        return aUser()\n            .withUsername(faker.name().username())\n            .withEmail(faker.internet().emailAddress())\n            .withPassword(faker.internet().password(8, 16))\n            .build();\n    }\n\n    public static Product randomProduct() {\n        return new Product(\n            faker.commerce().productName(),\n            Double.parseDouble(faker.commerce().price()),\n            faker.commerce().department()\n        );\n    }\n}\n\n// Usage in tests\n@ParameterizedTest\n@MethodSource("randomUsers")\nvoid shouldRegisterRandomUsers(User user) {\n    registration.registerUser(user);\n    registration.shouldSucceed();\n}\n\nstatic Stream<User> randomUsers() {\n    return Stream.generate(TestDataGenerator::randomUser).limit(10);\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-keep-test-data-close-to-tests",children:"1. Keep Test Data Close to Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/test/resources/\n\u251c\u2500\u2500 test-data/\n\u2502   \u251c\u2500\u2500 users/\n\u2502   \u2502   \u251c\u2500\u2500 valid-users.csv\n\u2502   \u2502   \u2514\u2500\u2500 invalid-users.csv\n\u2502   \u251c\u2500\u2500 products/\n\u2502   \u2502   \u2514\u2500\u2500 products.json\n\u2502   \u2514\u2500\u2500 shared/\n\u2502       \u2514\u2500\u2500 countries.csv\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-use-meaningful-test-names",children:"2. Use Meaningful Test Names"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@ParameterizedTest(name = \"User ''{0}'' with role ''{1}'' should access ''{2}''\")\n@CsvSource({\n    \"admin, ADMIN, dashboard\",\n    \"user,  USER,  homepage\"\n})\nvoid accessControlTests(String username, String role, String page) {\n    // Test implementation\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-validate-test-data",children:"3. Validate Test Data"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@MethodSource("userData")\nstatic Stream<User> userData() {\n    return loadUsersFromCsv("/test-data/users.csv")\n        .stream()\n        .peek(user -> {\n            assertThat(user.getEmail()).contains("@");\n            assertThat(user.getPassword()).hasSizeGreaterThan(8);\n        });\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"4-isolate-test-data",children:"4. Isolate Test Data"}),"\n",(0,t.jsx)(n.p,{children:"Ensure each test has its own independent data:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@BeforeEach\nvoid setUp() {\n    // Clean up any existing test data\n    testDataCleanup.deleteTestUsers();\n}\n\n@ParameterizedTest\n@MethodSource("userTestData")\nvoid userTests(User user) {\n    // Each test gets fresh data\n    String uniqueUsername = user.getUsername() + "_" + UUID.randomUUID();\n    User isolatedUser = user.withUsername(uniqueUsername);\n    // Test with isolated data\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"5-document-data-requirements",children:"5. Document Data Requirements"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'/**\n * Tests user registration with various valid inputs.\n *\n * Test data requirements:\n * - Username: 3-20 characters, alphanumeric\n * - Email: Valid email format\n * - Password: Minimum 8 characters\n * - Role: One of [USER, ADMIN, MANAGER]\n */\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldRegisterValidUsers(String username, String email,\n                              String password, String role) {\n    // Test implementation\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"6-separate-valid-and-invalid-data",children:"6. Separate Valid and Invalid Data"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// Valid data tests\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldAcceptValidUsers(User user) {\n    // Expect success\n}\n\n// Invalid data tests\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/invalid-users.csv")\nvoid shouldRejectInvalidUsers(User user, String expectedError) {\n    // Expect specific error\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"complete-example-e-commerce-testing",children:"Complete Example: E-Commerce Testing"}),"\n",(0,t.jsx)(n.p,{children:"Here's a complete example combining multiple techniques:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Product.java:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public class Product {\n    private final String name;\n    private final double price;\n    private final String category;\n    private final boolean inStock;\n\n    // Constructor, getters, builder...\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"test-data/products.csv:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csv",children:"name,price,category,inStock,expectedInCart\nLaptop,999.99,Electronics,true,true\nHeadphones,79.99,Audio,true,true\nOut of Stock Item,49.99,Misc,false,false\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"ShoppingTests.java:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ShoppingTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest(name = "Adding {0} (${1}) should {4}")\n    @CsvFileSource(resources = "/test-data/products.csv", numLinesToSkip = 1)\n    void shouldHandleProductAddition(String name, double price, String category,\n                                     boolean inStock, boolean expectedInCart) {\n        Product product = new Product(name, price, category, inStock);\n\n        shopping.addProductToCart(product);\n\n        if (expectedInCart) {\n            shopping.shouldSeeProductInCart(product);\n            shopping.cartTotalShouldBe(price);\n        } else {\n            shopping.shouldSeeOutOfStockMessage();\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"issue-parameterized-tests-not-running",children:"Issue: Parameterized tests not running"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution:"})," Ensure you have the junit-jupiter-params dependency and use ",(0,t.jsx)(n.code,{children:"@ParameterizedTest"})," not ",(0,t.jsx)(n.code,{children:"@Test"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"issue-csv-data-not-loading",children:"Issue: CSV data not loading"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Check file path is relative to ",(0,t.jsx)(n.code,{children:"src/test/resources"})]}),"\n",(0,t.jsxs)(n.li,{children:["Verify ",(0,t.jsx)(n.code,{children:"numLinesToSkip"})," is set correctly"]}),"\n",(0,t.jsx)(n.li,{children:"Check for proper CSV formatting"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"issue-data-appearing-in-wrong-order",children:"Issue: Data appearing in wrong order"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution:"})," JUnit doesn't guarantee execution order. Use ",(0,t.jsx)(n.code,{children:"@TestMethodOrder"})," if needed:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTests {\n    @ParameterizedTest\n    @Order(1)\n    @ValueSource(strings = {"first"})\n    void test1(String value) { }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Explore ",(0,t.jsx)(n.a,{href:"/docs/screenplay/screenplay_fundamentals",children:"Screenplay Pattern"})," for better test organization"]}),"\n",(0,t.jsxs)(n.li,{children:["Learn about ",(0,t.jsx)(n.a,{href:"/docs/junit5/parallel-execution",children:"Parallel Execution"})," to speed up data-driven tests"]}),"\n",(0,t.jsxs)(n.li,{children:["Check out ",(0,t.jsx)(n.a,{href:"/docs/reporting/the_serenity_reports",children:"Serenity Reports"})," to see how parameterized tests appear in reports"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests",children:"JUnit 5 Parameterized Tests Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://cucumber.io/docs/gherkin/reference/#scenario-outline",children:"Cucumber Scenario Outlines"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/DiUS/java-faker",children:"JavaFaker Documentation"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);