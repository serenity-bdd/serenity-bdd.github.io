"use strict";(self.webpackChunkserenity_users_guide=self.webpackChunkserenity_users_guide||[]).push([[9778],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=r,g=p["".concat(o,".").concat(m)]||p[m]||c[m]||s;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=p;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<s;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},767:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var a=n(7462),r=(n(7294),n(3905));const s={id:"data-driven-testing",title:"Data-Driven Testing with Serenity BDD",sidebar_position:5},i="Data-Driven Testing with Serenity BDD",l={unversionedId:"tutorials/data-driven-testing",id:"tutorials/data-driven-testing",isDocsHomePage:!1,title:"Data-Driven Testing with Serenity BDD",description:"Data-driven testing allows you to run the same test logic with multiple sets of input data, making your tests more comprehensive and maintainable. This guide covers data-driven testing approaches with both JUnit 5 and Cucumber.",source:"@site/docs/tutorials/data-driven-testing.md",sourceDirName:"tutorials",slug:"/tutorials/data-driven-testing",permalink:"/docs/tutorials/data-driven-testing",editUrl:"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/data-driven-testing.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"data-driven-testing",title:"Data-Driven Testing with Serenity BDD",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Getting Started With Cucumber using Serenity BDD and Screenplay",permalink:"/docs/tutorials/cucumber-screenplay"},next:{title:"Migrating From Serenity BDD 3.x to Serenity BDD 4.x",permalink:"/docs/tutorials/migrating_to_serenity_4"}},o=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Why Data-Driven Testing?",id:"why-data-driven-testing",children:[]},{value:"JUnit 5 Parameterized Tests",id:"junit-5-parameterized-tests",children:[{value:"Basic Setup",id:"basic-setup",children:[]},{value:"Simple Value Sources",id:"simple-value-sources",children:[]},{value:"CSV Source - Inline Data",id:"csv-source---inline-data",children:[]},{value:"CSV Source with Custom Delimiter",id:"csv-source-with-custom-delimiter",children:[]},{value:"CSV File Source - External Data",id:"csv-file-source---external-data",children:[]},{value:"Method Source - Complex Objects",id:"method-source---complex-objects",children:[]},{value:"Method Source from External Class",id:"method-source-from-external-class",children:[]},{value:"Enum Source",id:"enum-source",children:[]},{value:"Custom Display Names",id:"custom-display-names",children:[]}]},{value:"Cucumber Scenario Outlines",id:"cucumber-scenario-outlines",children:[{value:"Basic Scenario Outline",id:"basic-scenario-outline",children:[]},{value:"Step Definitions with Screenplay",id:"step-definitions-with-screenplay",children:[]},{value:"Multiple Examples Tables",id:"multiple-examples-tables",children:[]},{value:"Data Tables",id:"data-tables",children:[]},{value:"External Data Files with Cucumber",id:"external-data-files-with-cucumber",children:[]}]},{value:"External Data Sources",id:"external-data-sources",children:[{value:"Reading from CSV Files",id:"reading-from-csv-files",children:[]},{value:"Reading from JSON Files",id:"reading-from-json-files",children:[]},{value:"Reading from Excel Files",id:"reading-from-excel-files",children:[]}]},{value:"Test Data Builders",id:"test-data-builders",children:[]},{value:"Using Faker for Random Data",id:"using-faker-for-random-data",children:[]},{value:"Best Practices",id:"best-practices",children:[{value:"1. Keep Test Data Close to Tests",id:"1-keep-test-data-close-to-tests",children:[]},{value:"2. Use Meaningful Test Names",id:"2-use-meaningful-test-names",children:[]},{value:"3. Validate Test Data",id:"3-validate-test-data",children:[]},{value:"4. Isolate Test Data",id:"4-isolate-test-data",children:[]},{value:"5. Document Data Requirements",id:"5-document-data-requirements",children:[]},{value:"6. Separate Valid and Invalid Data",id:"6-separate-valid-and-invalid-data",children:[]}]},{value:"Complete Example: E-Commerce Testing",id:"complete-example-e-commerce-testing",children:[]},{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Issue: Parameterized tests not running",id:"issue-parameterized-tests-not-running",children:[]},{value:"Issue: CSV data not loading",id:"issue-csv-data-not-loading",children:[]},{value:"Issue: Data appearing in wrong order",id:"issue-data-appearing-in-wrong-order",children:[]}]},{value:"Next Steps",id:"next-steps",children:[]},{value:"Additional Resources",id:"additional-resources",children:[]}],u={toc:o};function d({components:e,...t}){return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"data-driven-testing-with-serenity-bdd"},"Data-Driven Testing with Serenity BDD"),(0,r.kt)("p",null,"Data-driven testing allows you to run the same test logic with multiple sets of input data, making your tests more comprehensive and maintainable. This guide covers data-driven testing approaches with both JUnit 5 and Cucumber."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Java 17 or higher"),(0,r.kt)("li",{parentName:"ul"},"Serenity BDD 5.0.2 or higher"),(0,r.kt)("li",{parentName:"ul"},"JUnit 5 6.0.1 or higher (for JUnit examples)"),(0,r.kt)("li",{parentName:"ul"},"Cucumber 7.33.0 or higher (for Cucumber examples)")),(0,r.kt)("h2",{id:"why-data-driven-testing"},"Why Data-Driven Testing?"),(0,r.kt)("p",null,"Data-driven testing helps you:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Test multiple scenarios")," with minimal code duplication"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Improve test coverage")," by testing edge cases and boundary values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Separate test logic from test data")," for better maintainability"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Make tests more readable")," by clearly showing what varies between test cases")),(0,r.kt)("h2",{id:"junit-5-parameterized-tests"},"JUnit 5 Parameterized Tests"),(0,r.kt)("p",null,"JUnit 5 provides powerful parameterized testing capabilities through ",(0,r.kt)("inlineCode",{parentName:"p"},"@ParameterizedTest"),"."),(0,r.kt)("h3",{id:"basic-setup"},"Basic Setup"),(0,r.kt)("p",null,"First, add the JUnit Jupiter parameters dependency:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-params</artifactId>\n    <version>6.0.1</version>\n    <scope>test</scope>\n</dependency>\n")),(0,r.kt)("h3",{id:"simple-value-sources"},"Simple Value Sources"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"@ValueSource")," for simple data types:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import net.serenitybdd.annotations.Managed;\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.openqa.selenium.WebDriver;\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass SearchTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @ParameterizedTest\n    @ValueSource(strings = {"Selenium", "Cucumber", "JUnit 5"})\n    void shouldFindSearchResults(String searchTerm) {\n        // Navigate to search page\n        driver.get("https://duckduckgo.com");\n\n        // Perform search with each term\n        SearchPage searchPage = new SearchPage(driver);\n        searchPage.searchFor(searchTerm);\n\n        // Verify results\n        assertThat(searchPage.getResults()).isNotEmpty();\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Supported types for @ValueSource:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"strings")," - String values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ints")," - Integer values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"longs")," - Long values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"doubles")," - Double values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"booleans")," - Boolean values")),(0,r.kt)("h3",{id:"csv-source---inline-data"},"CSV Source - Inline Data"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"@CsvSource")," for multiple parameters per test case:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @Managed(driver = "chrome", options = "headless")\n    WebDriver driver;\n\n    @Steps\n    LoginActions loginActions;\n\n    @ParameterizedTest\n    @CsvSource({\n        "standard_user,     secret_sauce,  true",\n        "locked_out_user,  secret_sauce,  false",\n        "problem_user,     secret_sauce,  true",\n        "invalid_user,     wrong_password, false"\n    })\n    void shouldHandleLoginScenarios(String username, String password, boolean shouldSucceed) {\n        loginActions.navigateToLoginPage();\n        loginActions.loginWith(username, password);\n\n        if (shouldSucceed) {\n            loginActions.shouldSeeProductsPage();\n        } else {\n            loginActions.shouldSeeErrorMessage();\n        }\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Tips for @CsvSource:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Values are comma-separated by default"),(0,r.kt)("li",{parentName:"ul"},"Use single quotes for strings containing commas: ",(0,r.kt)("inlineCode",{parentName:"li"},"'value, with, commas'")),(0,r.kt)("li",{parentName:"ul"},"Empty values are treated as null"),(0,r.kt)("li",{parentName:"ul"},"Whitespace is trimmed by default")),(0,r.kt)("h3",{id:"csv-source-with-custom-delimiter"},"CSV Source with Custom Delimiter"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ParameterizedTest\n@CsvSource(delimiter = \'|\', value = {\n    "Alice | alice@example.com | Premium",\n    "Bob   | bob@example.com   | Standard",\n    "Carol | carol@example.com | Basic"\n})\nvoid shouldHandleDifferentUserTypes(String name, String email, String accountType) {\n    // Test implementation\n}\n')),(0,r.kt)("h3",{id:"csv-file-source---external-data"},"CSV File Source - External Data"),(0,r.kt)("p",null,"Store test data in external CSV files for better maintainability:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"src/test/resources/test-data/users.csv:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"username,password,email,expectedRole\nadmin,admin123,admin@example.com,ADMIN\nuser1,password1,user1@example.com,USER\nuser2,password2,user2@example.com,USER\nguest,guest123,guest@example.com,GUEST\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ExtendWith(SerenityJUnit5Extension.class)\nclass UserRegistrationTests {\n\n    @Steps\n    RegistrationActions registration;\n\n    @ParameterizedTest\n    @CsvFileSource(resources = "/test-data/users.csv", numLinesToSkip = 1)\n    void shouldRegisterUsers(String username, String password, String email, String expectedRole) {\n        registration.registerNewUser(username, password, email);\n        registration.shouldHaveRole(expectedRole);\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"@CsvFileSource options:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resources")," - Path to CSV file (relative to src/test/resources)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"numLinesToSkip")," - Skip header row (typically 1)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"delimiter")," - Custom delimiter (default is comma)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"encoding")," - File encoding (default is UTF-8)")),(0,r.kt)("h3",{id:"method-source---complex-objects"},"Method Source - Complex Objects"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"@MethodSource")," for complex test data or when you need more control:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ExtendWith(SerenityJUnit5Extension.class)\nclass ProductTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest\n    @MethodSource("productTestData")\n    void shouldAddProductToCart(Product product, int quantity, double expectedTotal) {\n        shopping.addToCart(product, quantity);\n        shopping.shouldShowTotal(expectedTotal);\n    }\n\n    static Stream<Arguments> productTestData() {\n        return Stream.of(\n            Arguments.of(new Product("Laptop", 999.99), 1, 999.99),\n            Arguments.of(new Product("Mouse", 29.99), 2, 59.98),\n            Arguments.of(new Product("Keyboard", 79.99), 3, 239.97)\n        );\n    }\n}\n')),(0,r.kt)("h3",{id:"method-source-from-external-class"},"Method Source from External Class"),(0,r.kt)("p",null,"Organize test data in separate classes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'class TestDataProviders {\n\n    static Stream<Arguments> loginScenarios() {\n        return Stream.of(\n            Arguments.of("admin", "admin123", true, "Dashboard"),\n            Arguments.of("user", "user123", true, "Home"),\n            Arguments.of("invalid", "wrong", false, "Login Error")\n        );\n    }\n\n    static Stream<Arguments> searchQueries() {\n        return Stream.of(\n            Arguments.of("Selenium", 10),\n            Arguments.of("Cucumber", 8),\n            Arguments.of("JUnit", 15)\n        );\n    }\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass LoginTests {\n\n    @ParameterizedTest\n    @MethodSource("com.example.TestDataProviders#loginScenarios")\n    void shouldHandleLoginScenarios(String username, String password,\n                                   boolean shouldSucceed, String expectedPage) {\n        // Test implementation\n    }\n}\n')),(0,r.kt)("h3",{id:"enum-source"},"Enum Source"),(0,r.kt)("p",null,"Test with enum values:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'enum UserRole {\n    ADMIN, MANAGER, USER, GUEST\n}\n\n@ExtendWith(SerenityJUnit5Extension.class)\nclass RoleBasedTests {\n\n    @ParameterizedTest\n    @EnumSource(UserRole.class)\n    void shouldHandleAllUserRoles(UserRole role) {\n        // Test each role\n    }\n\n    @ParameterizedTest\n    @EnumSource(value = UserRole.class, names = {"ADMIN", "MANAGER"})\n    void shouldAllowAdminActions(UserRole role) {\n        // Test only admin and manager roles\n    }\n}\n')),(0,r.kt)("h3",{id:"custom-display-names"},"Custom Display Names"),(0,r.kt)("p",null,"Make test reports more readable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ParameterizedTest(name = "Search for \'\'{0}\'\' should return at least {1} results")\n@CsvSource({\n    "Selenium, 10",\n    "Cucumber, 5",\n    "JUnit,    8"\n})\nvoid searchTests(String term, int minimumResults) {\n    // Test implementation\n}\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"{0}"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"{1}")," placeholders correspond to parameter positions."),(0,r.kt)("h2",{id:"cucumber-scenario-outlines"},"Cucumber Scenario Outlines"),(0,r.kt)("p",null,"Cucumber provides Scenario Outlines for data-driven BDD tests."),(0,r.kt)("h3",{id:"basic-scenario-outline"},"Basic Scenario Outline"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"features/login.feature:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin"},'Feature: User Login\n\n  Scenario Outline: Login with different credentials\n    Given the user is on the login page\n    When the user logs in with username "<username>" and password "<password>"\n    Then the login should <result>\n    And the user should see the "<page>" page\n\n    Examples:\n      | username      | password     | result  | page      |\n      | standard_user | secret_sauce | succeed | Products  |\n      | locked_user   | secret_sauce | fail    | Login     |\n      | invalid_user  | wrong_pass   | fail    | Login     |\n')),(0,r.kt)("h3",{id:"step-definitions-with-screenplay"},"Step Definitions with Screenplay"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import io.cucumber.java.en.*;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.abilities.BrowseTheWeb;\nimport net.serenitybdd.screenplay.actions.Open;\nimport static net.serenitybdd.screenplay.GivenWhenThen.*;\n\npublic class LoginStepDefinitions {\n\n    @Given("{actor} is on the login page")\n    public void userIsOnLoginPage(Actor actor) {\n        actor.attemptsTo(\n            Open.url("https://www.saucedemo.com")\n        );\n    }\n\n    @When("{actor} logs in with username {string} and password {string}")\n    public void userLogsIn(Actor actor, String username, String password) {\n        actor.attemptsTo(\n            Login.withCredentials(username, password)\n        );\n    }\n\n    @Then("the login should {word}")\n    public void verifyLoginResult(String result) {\n        // Verification based on result\n    }\n\n    @Then("{actor} should see the {string} page")\n    public void verifiesPage(Actor actor, String expectedPage) {\n        actor.should(\n            seeThat(TheCurrentPage.title(), containsString(expectedPage))\n        );\n    }\n}\n')),(0,r.kt)("h3",{id:"multiple-examples-tables"},"Multiple Examples Tables"),(0,r.kt)("p",null,"Use multiple Examples tables to organize different test scenarios:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin"},'Feature: Shopping Cart\n\n  Scenario Outline: Add products to cart\n    Given the user is logged in\n    When the user adds "<product>" with quantity <quantity>\n    Then the cart total should be <total>\n\n    Examples: Single items\n      | product  | quantity | total   |\n      | Laptop   | 1        | 999.99  |\n      | Mouse    | 1        | 29.99   |\n      | Keyboard | 1        | 79.99   |\n\n    Examples: Multiple quantities\n      | product  | quantity | total   |\n      | Mouse    | 3        | 89.97   |\n      | Keyboard | 2        | 159.98  |\n')),(0,r.kt)("h3",{id:"data-tables"},"Data Tables"),(0,r.kt)("p",null,"For more complex data structures, use Data Tables:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin"},"Feature: Bulk User Registration\n\n  Scenario: Register multiple users\n    Given the admin is logged in\n    When the admin registers the following users:\n      | username | email              | role    |\n      | alice    | alice@example.com  | Admin   |\n      | bob      | bob@example.com    | User    |\n      | charlie  | charlie@example.com| Manager |\n    Then all users should be created successfully\n")),(0,r.kt)("p",null,"Step definition:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@When("the admin registers the following users:")\npublic void registerUsers(DataTable dataTable) {\n    List<Map<String, String>> users = dataTable.asMaps();\n\n    for (Map<String, String> user : users) {\n        String username = user.get("username");\n        String email = user.get("email");\n        String role = user.get("role");\n\n        actor.attemptsTo(\n            RegisterUser.withDetails(username, email, role)\n        );\n    }\n}\n')),(0,r.kt)("h3",{id:"external-data-files-with-cucumber"},"External Data Files with Cucumber"),(0,r.kt)("p",null,"Load data from external files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-gherkin"},'Scenario: Register users from CSV\n  Given the admin is logged in\n  When the admin imports users from "test-data/users.csv"\n  Then all users should be registered\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@When("the admin imports users from {string}")\npublic void importUsersFromFile(String filePath) {\n    List<User> users = UserDataLoader.fromCsv(filePath);\n\n    users.forEach(user ->\n        actor.attemptsTo(RegisterUser.with(user))\n    );\n}\n')),(0,r.kt)("h2",{id:"external-data-sources"},"External Data Sources"),(0,r.kt)("h3",{id:"reading-from-csv-files"},"Reading from CSV Files"),(0,r.kt)("p",null,"Create a reusable CSV reader:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class CsvDataReader {\n\n    public static List<Map<String, String>> readCsv(String filePath) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (BufferedReader reader = new BufferedReader(\n                new FileReader(filePath))) {\n\n            String headerLine = reader.readLine();\n            String[] headers = headerLine.split(",");\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] values = line.split(",");\n                Map<String, String> row = new HashMap<>();\n\n                for (int i = 0; i < headers.length; i++) {\n                    row.put(headers[i].trim(), values[i].trim());\n                }\n                data.add(row);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read CSV file: " + filePath, e);\n        }\n\n        return data;\n    }\n}\n')),(0,r.kt)("h3",{id:"reading-from-json-files"},"Reading from JSON Files"),(0,r.kt)("p",null,"Use Jackson or Gson to read JSON test data:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"src/test/resources/test-data/products.json:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "name": "Laptop",\n    "price": 999.99,\n    "category": "Electronics",\n    "inStock": true\n  },\n  {\n    "name": "Mouse",\n    "price": 29.99,\n    "category": "Accessories",\n    "inStock": true\n  }\n]\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.type.TypeReference;\n\npublic class JsonDataReader {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public static <T> List<T> readJson(String filePath, Class<T> type) {\n        try {\n            InputStream stream = JsonDataReader.class\n                .getResourceAsStream(filePath);\n            return mapper.readValue(stream,\n                mapper.getTypeFactory().constructCollectionType(List.class, type));\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read JSON file: " + filePath, e);\n        }\n    }\n}\n\n// Usage\n@MethodSource("productData")\nstatic Stream<Product> productData() {\n    List<Product> products = JsonDataReader.readJson(\n        "/test-data/products.json",\n        Product.class\n    );\n    return products.stream();\n}\n')),(0,r.kt)("h3",{id:"reading-from-excel-files"},"Reading from Excel Files"),(0,r.kt)("p",null,"Use Apache POI for Excel files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>org.apache.poi</groupId>\n    <artifactId>poi-ooxml</artifactId>\n    <version>5.2.3</version>\n    <scope>test</scope>\n</dependency>\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class ExcelDataReader {\n\n    public static List<Map<String, String>> readExcel(String filePath, String sheetName) {\n        List<Map<String, String>> data = new ArrayList<>();\n\n        try (FileInputStream fis = new FileInputStream(filePath);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheet(sheetName);\n            Row headerRow = sheet.getRow(0);\n\n            for (int i = 1; i <= sheet.getLastRowNum(); i++) {\n                Row row = sheet.getRow(i);\n                Map<String, String> rowData = new HashMap<>();\n\n                for (int j = 0; j < headerRow.getLastCellNum(); j++) {\n                    String header = headerRow.getCell(j).getStringCellValue();\n                    String value = getCellValueAsString(row.getCell(j));\n                    rowData.put(header, value);\n                }\n                data.add(rowData);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException("Failed to read Excel file", e);\n        }\n\n        return data;\n    }\n\n    private static String getCellValueAsString(Cell cell) {\n        if (cell == null) return "";\n\n        switch (cell.getCellType()) {\n            case STRING: return cell.getStringCellValue();\n            case NUMERIC: return String.valueOf(cell.getNumericCellValue());\n            case BOOLEAN: return String.valueOf(cell.getBooleanCellValue());\n            default: return "";\n        }\n    }\n}\n')),(0,r.kt)("h2",{id:"test-data-builders"},"Test Data Builders"),(0,r.kt)("p",null,"Use the Builder pattern for complex test data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class UserBuilder {\n    private String username;\n    private String email;\n    private String password;\n    private String role = "USER";\n    private boolean active = true;\n\n    public static UserBuilder aUser() {\n        return new UserBuilder();\n    }\n\n    public UserBuilder withUsername(String username) {\n        this.username = username;\n        return this;\n    }\n\n    public UserBuilder withEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    public UserBuilder withPassword(String password) {\n        this.password = password;\n        return this;\n    }\n\n    public UserBuilder withRole(String role) {\n        this.role = role;\n        return this;\n    }\n\n    public UserBuilder inactive() {\n        this.active = false;\n        return this;\n    }\n\n    public User build() {\n        return new User(username, email, password, role, active);\n    }\n}\n\n// Usage\n@MethodSource("userTestData")\nstatic Stream<User> userTestData() {\n    return Stream.of(\n        aUser().withUsername("admin").withRole("ADMIN").build(),\n        aUser().withUsername("user1").withEmail("user1@example.com").build(),\n        aUser().withUsername("inactive").inactive().build()\n    );\n}\n')),(0,r.kt)("h2",{id:"using-faker-for-random-data"},"Using Faker for Random Data"),(0,r.kt)("p",null,"Generate realistic random test data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>com.github.javafaker</groupId>\n    <artifactId>javafaker</artifactId>\n    <version>1.0.2</version>\n    <scope>test</scope>\n</dependency>\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import com.github.javafaker.Faker;\n\npublic class TestDataGenerator {\n    private static final Faker faker = new Faker();\n\n    public static User randomUser() {\n        return aUser()\n            .withUsername(faker.name().username())\n            .withEmail(faker.internet().emailAddress())\n            .withPassword(faker.internet().password(8, 16))\n            .build();\n    }\n\n    public static Product randomProduct() {\n        return new Product(\n            faker.commerce().productName(),\n            Double.parseDouble(faker.commerce().price()),\n            faker.commerce().department()\n        );\n    }\n}\n\n// Usage in tests\n@ParameterizedTest\n@MethodSource("randomUsers")\nvoid shouldRegisterRandomUsers(User user) {\n    registration.registerUser(user);\n    registration.shouldSucceed();\n}\n\nstatic Stream<User> randomUsers() {\n    return Stream.generate(TestDataGenerator::randomUser).limit(10);\n}\n')),(0,r.kt)("h2",{id:"best-practices"},"Best Practices"),(0,r.kt)("h3",{id:"1-keep-test-data-close-to-tests"},"1. Keep Test Data Close to Tests"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"src/test/resources/\n\u251c\u2500\u2500 test-data/\n\u2502   \u251c\u2500\u2500 users/\n\u2502   \u2502   \u251c\u2500\u2500 valid-users.csv\n\u2502   \u2502   \u2514\u2500\u2500 invalid-users.csv\n\u2502   \u251c\u2500\u2500 products/\n\u2502   \u2502   \u2514\u2500\u2500 products.json\n\u2502   \u2514\u2500\u2500 shared/\n\u2502       \u2514\u2500\u2500 countries.csv\n")),(0,r.kt)("h3",{id:"2-use-meaningful-test-names"},"2. Use Meaningful Test Names"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@ParameterizedTest(name = \"User ''{0}'' with role ''{1}'' should access ''{2}''\")\n@CsvSource({\n    \"admin, ADMIN, dashboard\",\n    \"user,  USER,  homepage\"\n})\nvoid accessControlTests(String username, String role, String page) {\n    // Test implementation\n}\n")),(0,r.kt)("h3",{id:"3-validate-test-data"},"3. Validate Test Data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@MethodSource("userData")\nstatic Stream<User> userData() {\n    return loadUsersFromCsv("/test-data/users.csv")\n        .stream()\n        .peek(user -> {\n            assertThat(user.getEmail()).contains("@");\n            assertThat(user.getPassword()).hasSizeGreaterThan(8);\n        });\n}\n')),(0,r.kt)("h3",{id:"4-isolate-test-data"},"4. Isolate Test Data"),(0,r.kt)("p",null,"Ensure each test has its own independent data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@BeforeEach\nvoid setUp() {\n    // Clean up any existing test data\n    testDataCleanup.deleteTestUsers();\n}\n\n@ParameterizedTest\n@MethodSource("userTestData")\nvoid userTests(User user) {\n    // Each test gets fresh data\n    String uniqueUsername = user.getUsername() + "_" + UUID.randomUUID();\n    User isolatedUser = user.withUsername(uniqueUsername);\n    // Test with isolated data\n}\n')),(0,r.kt)("h3",{id:"5-document-data-requirements"},"5. Document Data Requirements"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * Tests user registration with various valid inputs.\n *\n * Test data requirements:\n * - Username: 3-20 characters, alphanumeric\n * - Email: Valid email format\n * - Password: Minimum 8 characters\n * - Role: One of [USER, ADMIN, MANAGER]\n */\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldRegisterValidUsers(String username, String email,\n                              String password, String role) {\n    // Test implementation\n}\n')),(0,r.kt)("h3",{id:"6-separate-valid-and-invalid-data"},"6. Separate Valid and Invalid Data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'// Valid data tests\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/valid-users.csv")\nvoid shouldAcceptValidUsers(User user) {\n    // Expect success\n}\n\n// Invalid data tests\n@ParameterizedTest\n@CsvFileSource(resources = "/test-data/invalid-users.csv")\nvoid shouldRejectInvalidUsers(User user, String expectedError) {\n    // Expect specific error\n}\n')),(0,r.kt)("h2",{id:"complete-example-e-commerce-testing"},"Complete Example: E-Commerce Testing"),(0,r.kt)("p",null,"Here's a complete example combining multiple techniques:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Product.java:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class Product {\n    private final String name;\n    private final double price;\n    private final String category;\n    private final boolean inStock;\n\n    // Constructor, getters, builder...\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"test-data/products.csv:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"name,price,category,inStock,expectedInCart\nLaptop,999.99,Electronics,true,true\nHeadphones,79.99,Audio,true,true\nOut of Stock Item,49.99,Misc,false,false\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ShoppingTests.java:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ExtendWith(SerenityJUnit5Extension.class)\nclass ShoppingTests {\n\n    @Steps\n    ShoppingActions shopping;\n\n    @ParameterizedTest(name = "Adding {0} (${1}) should {4}")\n    @CsvFileSource(resources = "/test-data/products.csv", numLinesToSkip = 1)\n    void shouldHandleProductAddition(String name, double price, String category,\n                                     boolean inStock, boolean expectedInCart) {\n        Product product = new Product(name, price, category, inStock);\n\n        shopping.addProductToCart(product);\n\n        if (expectedInCart) {\n            shopping.shouldSeeProductInCart(product);\n            shopping.cartTotalShouldBe(price);\n        } else {\n            shopping.shouldSeeOutOfStockMessage();\n        }\n    }\n}\n')),(0,r.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("h3",{id:"issue-parameterized-tests-not-running"},"Issue: Parameterized tests not running"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Solution:")," Ensure you have the junit-jupiter-params dependency and use ",(0,r.kt)("inlineCode",{parentName:"p"},"@ParameterizedTest")," not ",(0,r.kt)("inlineCode",{parentName:"p"},"@Test"),"."),(0,r.kt)("h3",{id:"issue-csv-data-not-loading"},"Issue: CSV data not loading"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Solution:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Check file path is relative to ",(0,r.kt)("inlineCode",{parentName:"li"},"src/test/resources")),(0,r.kt)("li",{parentName:"ul"},"Verify ",(0,r.kt)("inlineCode",{parentName:"li"},"numLinesToSkip")," is set correctly"),(0,r.kt)("li",{parentName:"ul"},"Check for proper CSV formatting")),(0,r.kt)("h3",{id:"issue-data-appearing-in-wrong-order"},"Issue: Data appearing in wrong order"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Solution:")," JUnit doesn't guarantee execution order. Use ",(0,r.kt)("inlineCode",{parentName:"p"},"@TestMethodOrder")," if needed:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTests {\n    @ParameterizedTest\n    @Order(1)\n    @ValueSource(strings = {"first"})\n    void test1(String value) { }\n}\n')),(0,r.kt)("h2",{id:"next-steps"},"Next Steps"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Explore ",(0,r.kt)("a",{parentName:"li",href:"/docs/screenplay/screenplay_fundamentals"},"Screenplay Pattern")," for better test organization"),(0,r.kt)("li",{parentName:"ul"},"Learn about ",(0,r.kt)("a",{parentName:"li",href:"/docs/junit5/parallel-execution"},"Parallel Execution")," to speed up data-driven tests"),(0,r.kt)("li",{parentName:"ul"},"Check out ",(0,r.kt)("a",{parentName:"li",href:"/docs/reporting/the_serenity_reports"},"Serenity Reports")," to see how parameterized tests appear in reports")),(0,r.kt)("h2",{id:"additional-resources"},"Additional Resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests"},"JUnit 5 Parameterized Tests Guide")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#scenario-outline"},"Cucumber Scenario Outlines")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/DiUS/java-faker"},"JavaFaker Documentation"))))}d.isMDXComponent=!0}}]);