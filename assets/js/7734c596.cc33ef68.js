"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[7549],{8453(e,n,t){t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},9042(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"tutorials/rest-api-testing","title":"Comprehensive REST API Testing","description":"This tutorial provides a complete guide to testing REST APIs with Serenity BDD, covering everything from basic requests to advanced patterns like authentication, error handling, schema validation, and hybrid UI+API testing.","source":"@site/docs/tutorials/rest-api-testing.md","sourceDirName":"tutorials","slug":"/tutorials/rest-api-testing","permalink":"/docs/tutorials/rest-api-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/rest-api-testing.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"rest-api-testing","title":"Comprehensive REST API Testing","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started With Cucumber using Serenity BDD and Screenplay","permalink":"/docs/tutorials/cucumber-screenplay"},"next":{"title":"Data-Driven Testing with Serenity BDD","permalink":"/docs/tutorials/data-driven-testing"}}');var a=t(4848),i=t(8453);const r={id:"rest-api-testing",title:"Comprehensive REST API Testing",sidebar_position:4},o="Comprehensive REST API Testing with Serenity BDD",l={},d=[{value:"Testing APIs Used",id:"testing-apis-used",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"Maven Dependencies",id:"maven-dependencies",level:3},{value:"Gradle Dependencies",id:"gradle-dependencies",level:3},{value:"Configuration (serenity.conf)",id:"configuration-serenityconf",level:3},{value:"Part 1: Basic REST Operations",id:"part-1-basic-rest-operations",level:2},{value:"Simple GET Request",id:"simple-get-request",level:3},{value:"POST Request - Creating Resources",id:"post-request---creating-resources",level:3},{value:"Using POJOs for Request/Response",id:"using-pojos-for-requestresponse",level:3},{value:"PUT and PATCH Requests",id:"put-and-patch-requests",level:3},{value:"DELETE Request",id:"delete-request",level:3},{value:"Part 2: Screenplay Pattern for API Testing",id:"part-2-screenplay-pattern-for-api-testing",level:2},{value:"Setting Up Actors with API Abilities",id:"setting-up-actors-with-api-abilities",level:3},{value:"Creating Reusable Tasks",id:"creating-reusable-tasks",level:3},{value:"Creating Reusable Questions",id:"creating-reusable-questions",level:3},{value:"Part 3: Authentication Patterns",id:"part-3-authentication-patterns",level:2},{value:"Basic Authentication",id:"basic-authentication",level:3},{value:"Bearer Token Authentication",id:"bearer-token-authentication",level:3},{value:"API Key Authentication",id:"api-key-authentication",level:3},{value:"Screenplay Authentication Task",id:"screenplay-authentication-task",level:3},{value:"Part 4: Error Handling and Validation",id:"part-4-error-handling-and-validation",level:2},{value:"Testing Error Responses",id:"testing-error-responses",level:3},{value:"Testing Multiple Status Codes",id:"testing-multiple-status-codes",level:3},{value:"JSON Schema Validation",id:"json-schema-validation",level:3},{value:"Response Time Validation",id:"response-time-validation",level:3},{value:"Part 5: Chained API Calls",id:"part-5-chained-api-calls",level:2},{value:"Screenplay Chained Calls",id:"screenplay-chained-calls",level:3},{value:"Part 6: Data-Driven API Testing",id:"part-6-data-driven-api-testing",level:2},{value:"Parameterized Tests",id:"parameterized-tests",level:3},{value:"Loading Test Data from Files",id:"loading-test-data-from-files",level:3},{value:"Part 7: File Uploads and Downloads",id:"part-7-file-uploads-and-downloads",level:2},{value:"File Upload (Multipart)",id:"file-upload-multipart",level:3},{value:"File Download",id:"file-download",level:3},{value:"Part 8: Advanced Configuration",id:"part-8-advanced-configuration",level:2},{value:"Request Specification (Reusable Configuration)",id:"request-specification-reusable-configuration",level:3},{value:"Response Specification (Reusable Assertions)",id:"response-specification-reusable-assertions",level:3},{value:"Timeouts and Retries",id:"timeouts-and-retries",level:3},{value:"Logging",id:"logging",level:3},{value:"Part 9: Hybrid UI + API Testing",id:"part-9-hybrid-ui--api-testing",level:2},{value:"Using Playwright with API Calls",id:"using-playwright-with-api-calls",level:3},{value:"Part 10: Best Practices",id:"part-10-best-practices",level:2},{value:"1. Organize by Domain",id:"1-organize-by-domain",level:3},{value:"2. Use Meaningful Assertions",id:"2-use-meaningful-assertions",level:3},{value:"3. Extract Common Setup",id:"3-extract-common-setup",level:3},{value:"4. Use Tags for Test Categories",id:"4-use-tags-for-test-categories",level:3},{value:"5. Clean Up Test Data",id:"5-clean-up-test-data",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Resources",id:"resources",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"comprehensive-rest-api-testing-with-serenity-bdd",children:"Comprehensive REST API Testing with Serenity BDD"})}),"\n",(0,a.jsx)(n.p,{children:"This tutorial provides a complete guide to testing REST APIs with Serenity BDD, covering everything from basic requests to advanced patterns like authentication, error handling, schema validation, and hybrid UI+API testing."}),"\n",(0,a.jsx)(n.p,{children:"All examples use real, publicly available testing APIs that you can use to practice."}),"\n",(0,a.jsx)(n.h2,{id:"testing-apis-used",children:"Testing APIs Used"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"API"}),(0,a.jsx)(n.th,{children:"URL"}),(0,a.jsx)(n.th,{children:"Purpose"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"JSONPlaceholder"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"https://jsonplaceholder.typicode.com",children:"https://jsonplaceholder.typicode.com"})}),(0,a.jsx)(n.td,{children:"Free fake API for basic CRUD"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ReqRes"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"https://reqres.in",children:"https://reqres.in"})}),(0,a.jsx)(n.td,{children:"User management with auth examples"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Restful-Booker"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"https://restful-booker.herokuapp.com",children:"https://restful-booker.herokuapp.com"})}),(0,a.jsx)(n.td,{children:"Hotel bookings with token auth"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,a.jsx)(n.h3,{id:"maven-dependencies",children:"Maven Dependencies"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<properties>\n    <serenity.version>5.2.2</serenity.version>\n</properties>\n\n<dependencies>\n    \x3c!-- Core Serenity --\x3e\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-core</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!-- Serenity REST Assured integration --\x3e\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-rest-assured</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!-- Serenity Screenplay REST (for Screenplay pattern) --\x3e\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-screenplay-rest</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!-- JUnit 5 --\x3e\n    <dependency>\n        <groupId>net.serenity-bdd</groupId>\n        <artifactId>serenity-junit5</artifactId>\n        <version>${serenity.version}</version>\n        <scope>test</scope>\n    </dependency>\n\n    \x3c!-- JSON Schema validation --\x3e\n    <dependency>\n        <groupId>io.rest-assured</groupId>\n        <artifactId>json-schema-validator</artifactId>\n        <version>5.3.2</version>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"gradle-dependencies",children:"Gradle Dependencies"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-groovy",children:'dependencies {\n    testImplementation "net.serenity-bdd:serenity-core:5.2.2"\n    testImplementation "net.serenity-bdd:serenity-rest-assured:5.2.2"\n    testImplementation "net.serenity-bdd:serenity-screenplay-rest:5.2.2"\n    testImplementation "net.serenity-bdd:serenity-junit5:5.2.2"\n    testImplementation "io.rest-assured:json-schema-validator:5.3.2"\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"configuration-serenityconf",children:"Configuration (serenity.conf)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-hocon",children:'# Base URLs for different environments\nrestapi {\n    jsonplaceholder = "https://jsonplaceholder.typicode.com"\n    reqres = "https://reqres.in/api"\n    booker = "https://restful-booker.herokuapp.com"\n}\n\n# Request logging\nserenity {\n    logging = VERBOSE\n}\n\n# REST Assured settings\nrestassured {\n    # Log all requests and responses\n    log.all = true\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-1-basic-rest-operations",children:"Part 1: Basic REST Operations"}),"\n",(0,a.jsx)(n.h3,{id:"simple-get-request",children:"Simple GET Request"}),"\n",(0,a.jsx)(n.p,{children:"Let's start with the simplest possible API test - fetching a resource:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'package com.example.api;\n\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport net.serenitybdd.rest.SerenityRest;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\nimport static net.serenitybdd.rest.SerenityRest.given;\nimport static org.hamcrest.Matchers.*;\n\n@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Basic REST Operations")\nclass BasicRestTest {\n\n    private static final String BASE_URL = "https://jsonplaceholder.typicode.com";\n\n    @Test\n    @DisplayName("Should fetch a single user")\n    void shouldFetchSingleUser() {\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users/1")\n        .then()\n            .statusCode(200)\n            .body("id", equalTo(1))\n            .body("name", equalTo("Leanne Graham"))\n            .body("email", equalTo("Sincere@april.biz"));\n    }\n\n    @Test\n    @DisplayName("Should fetch all users")\n    void shouldFetchAllUsers() {\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users")\n        .then()\n            .statusCode(200)\n            .body("size()", equalTo(10))\n            .body("name", hasItems("Leanne Graham", "Ervin Howell"));\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"post-request---creating-resources",children:"POST Request - Creating Resources"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should create a new post")\nvoid shouldCreateNewPost() {\n    String requestBody = """\n        {\n            "title": "My New Post",\n            "body": "This is the content of my post",\n            "userId": 1\n        }\n        """;\n\n    given()\n        .baseUri(BASE_URL)\n        .contentType("application/json")\n        .body(requestBody)\n    .when()\n        .post("/posts")\n    .then()\n        .statusCode(201)\n        .body("title", equalTo("My New Post"))\n        .body("id", notNullValue());\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"using-pojos-for-requestresponse",children:"Using POJOs for Request/Response"}),"\n",(0,a.jsx)(n.p,{children:"Create model classes for cleaner code:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Post.java\npublic class Post {\n    private Integer id;\n    private String title;\n    private String body;\n    private Integer userId;\n\n    // Default constructor for JSON deserialization\n    public Post() {}\n\n    public Post(String title, String body, Integer userId) {\n        this.title = title;\n        this.body = body;\n        this.userId = userId;\n    }\n\n    // Getters and setters\n    public Integer getId() { return id; }\n    public void setId(Integer id) { this.id = id; }\n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n    public String getBody() { return body; }\n    public void setBody(String body) { this.body = body; }\n    public Integer getUserId() { return userId; }\n    public void setUserId(Integer userId) { this.userId = userId; }\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should create post using POJO")\nvoid shouldCreatePostUsingPojo() {\n    Post newPost = new Post("POJO Title", "Content from POJO", 1);\n\n    Post createdPost = given()\n        .baseUri(BASE_URL)\n        .contentType("application/json")\n        .body(newPost)\n    .when()\n        .post("/posts")\n    .then()\n        .statusCode(201)\n        .extract()\n        .as(Post.class);\n\n    assertThat(createdPost.getTitle()).isEqualTo("POJO Title");\n    assertThat(createdPost.getId()).isNotNull();\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"put-and-patch-requests",children:"PUT and PATCH Requests"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should update entire post with PUT")\nvoid shouldUpdatePostWithPut() {\n    Post updatedPost = new Post("Updated Title", "Updated Body", 1);\n\n    given()\n        .baseUri(BASE_URL)\n        .contentType("application/json")\n        .body(updatedPost)\n    .when()\n        .put("/posts/1")\n    .then()\n        .statusCode(200)\n        .body("title", equalTo("Updated Title"));\n}\n\n@Test\n@DisplayName("Should partially update post with PATCH")\nvoid shouldPartiallyUpdateWithPatch() {\n    given()\n        .baseUri(BASE_URL)\n        .contentType("application/json")\n        .body("{\\"title\\": \\"Patched Title\\"}")\n    .when()\n        .patch("/posts/1")\n    .then()\n        .statusCode(200)\n        .body("title", equalTo("Patched Title"))\n        .body("body", notNullValue()); // Original body preserved\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"delete-request",children:"DELETE Request"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should delete a post")\nvoid shouldDeletePost() {\n    given()\n        .baseUri(BASE_URL)\n    .when()\n        .delete("/posts/1")\n    .then()\n        .statusCode(200);\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-2-screenplay-pattern-for-api-testing",children:"Part 2: Screenplay Pattern for API Testing"}),"\n",(0,a.jsx)(n.p,{children:"The Screenplay pattern provides a more maintainable, actor-centric approach:"}),"\n",(0,a.jsx)(n.h3,{id:"setting-up-actors-with-api-abilities",children:"Setting Up Actors with API Abilities"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'package com.example.api.screenplay;\n\nimport net.serenitybdd.junit5.SerenityJUnit5Extension;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.rest.abilities.CallAnApi;\nimport net.serenitybdd.screenplay.rest.interactions.*;\nimport org.junit.jupiter.api.*;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\nimport static net.serenitybdd.screenplay.rest.questions.ResponseConsequence.seeThatResponse;\nimport static org.hamcrest.Matchers.*;\n\n@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Screenplay REST API Tests")\nclass ScreenplayRestTest {\n\n    private static final String BASE_URL = "https://jsonplaceholder.typicode.com";\n\n    Actor alex;\n\n    @BeforeEach\n    void setUp() {\n        alex = Actor.named("Alex the API tester")\n                    .whoCan(CallAnApi.at(BASE_URL));\n    }\n\n    @Test\n    @DisplayName("Should fetch user with Screenplay")\n    void shouldFetchUserWithScreenplay() {\n        alex.attemptsTo(\n            Get.resource("/users/1")\n        );\n\n        alex.should(\n            seeThatResponse("User details are correct",\n                response -> response\n                    .statusCode(200)\n                    .body("name", equalTo("Leanne Graham"))\n            )\n        );\n    }\n\n    @Test\n    @DisplayName("Should create post with Screenplay")\n    void shouldCreatePostWithScreenplay() {\n        alex.attemptsTo(\n            Post.to("/posts")\n                .with(request -> request\n                    .contentType("application/json")\n                    .body(new Post("Screenplay Post", "Content", 1))\n                )\n        );\n\n        alex.should(\n            seeThatResponse("Post was created",\n                response -> response\n                    .statusCode(201)\n                    .body("title", equalTo("Screenplay Post"))\n            )\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"creating-reusable-tasks",children:"Creating Reusable Tasks"}),"\n",(0,a.jsx)(n.p,{children:"Encapsulate API operations in reusable tasks:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// tasks/CreatePost.java\npackage com.example.api.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.rest.interactions.Post;\nimport net.thucydides.core.annotations.Step;\nimport com.example.api.model.Post;\n\nimport static net.serenitybdd.screenplay.Tasks.instrumented;\n\npublic class CreatePost implements Task {\n\n    private final Post post;\n\n    public CreatePost(Post post) {\n        this.post = post;\n    }\n\n    public static CreatePost withDetails(String title, String body, int userId) {\n        return instrumented(CreatePost.class, new Post(title, body, userId));\n    }\n\n    public static CreatePost withTitle(String title) {\n        return instrumented(CreatePost.class, new Post(title, "Default body", 1));\n    }\n\n    @Override\n    @Step("{0} creates a new post titled \'#post.title\'")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Post.to("/posts")\n                .with(request -> request\n                    .contentType("application/json")\n                    .body(post)\n                )\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// tasks/FetchUser.java\npackage com.example.api.tasks;\n\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.rest.interactions.Get;\nimport net.thucydides.core.annotations.Step;\n\nimport static net.serenitybdd.screenplay.Tasks.instrumented;\n\npublic class FetchUser implements Task {\n\n    private final int userId;\n\n    public FetchUser(int userId) {\n        this.userId = userId;\n    }\n\n    public static FetchUser withId(int userId) {\n        return instrumented(FetchUser.class, userId);\n    }\n\n    @Override\n    @Step("{0} fetches user with ID #userId")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Get.resource("/users/{id}")\n               .with(request -> request.pathParam("id", userId))\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Using the tasks:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should use custom tasks for API operations")\nvoid shouldUseCustomTasks() {\n    alex.attemptsTo(\n        CreatePost.withDetails("Task-based Post", "Content from task", 1)\n    );\n\n    alex.should(\n        seeThatResponse("Post was created successfully",\n            response -> response.statusCode(201)\n        )\n    );\n\n    alex.attemptsTo(\n        FetchUser.withId(1)\n    );\n\n    alex.should(\n        seeThatResponse("User was retrieved",\n            response -> response\n                .statusCode(200)\n                .body("name", notNullValue())\n        )\n    );\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"creating-reusable-questions",children:"Creating Reusable Questions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// questions/TheUser.java\npackage com.example.api.questions;\n\nimport net.serenitybdd.rest.SerenityRest;\nimport net.serenitybdd.screenplay.Question;\nimport com.example.api.model.User;\n\npublic class TheUser {\n\n    public static Question<User> details() {\n        return actor -> SerenityRest.lastResponse()\n                                    .jsonPath()\n                                    .getObject("", User.class);\n    }\n\n    public static Question<String> name() {\n        return actor -> SerenityRest.lastResponse()\n                                    .jsonPath()\n                                    .getString("name");\n    }\n\n    public static Question<String> email() {\n        return actor -> SerenityRest.lastResponse()\n                                    .jsonPath()\n                                    .getString("email");\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should use questions to query responses")\nvoid shouldUseQuestionsToQueryResponses() {\n    alex.attemptsTo(\n        FetchUser.withId(1)\n    );\n\n    String userName = alex.asksFor(TheUser.name());\n    assertThat(userName).isEqualTo("Leanne Graham");\n\n    User user = alex.asksFor(TheUser.details());\n    assertThat(user.getEmail()).isEqualTo("Sincere@april.biz");\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-3-authentication-patterns",children:"Part 3: Authentication Patterns"}),"\n",(0,a.jsx)(n.h3,{id:"basic-authentication",children:"Basic Authentication"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should authenticate with Basic Auth")\nvoid shouldAuthenticateWithBasicAuth() {\n    given()\n        .baseUri("https://httpbin.org")\n        .auth().basic("user", "passwd")\n    .when()\n        .get("/basic-auth/user/passwd")\n    .then()\n        .statusCode(200)\n        .body("authenticated", equalTo(true));\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"bearer-token-authentication",children:"Bearer Token Authentication"}),"\n",(0,a.jsx)(n.p,{children:"Using the Restful-Booker API for token-based auth:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Token Authentication Tests")\nclass TokenAuthTest {\n\n    private static final String BOOKER_URL = "https://restful-booker.herokuapp.com";\n    private String authToken;\n\n    @BeforeEach\n    void authenticate() {\n        // Get authentication token\n        authToken = given()\n            .baseUri(BOOKER_URL)\n            .contentType("application/json")\n            .body("""\n                {\n                    "username": "admin",\n                    "password": "password123"\n                }\n                """)\n        .when()\n            .post("/auth")\n        .then()\n            .statusCode(200)\n            .extract()\n            .path("token");\n\n        assertThat(authToken).isNotNull();\n    }\n\n    @Test\n    @DisplayName("Should use token for authenticated requests")\n    void shouldUseTokenForAuthenticatedRequests() {\n        // Create a booking\n        String bookingBody = """\n            {\n                "firstname": "John",\n                "lastname": "Doe",\n                "totalprice": 150,\n                "depositpaid": true,\n                "bookingdates": {\n                    "checkin": "2024-01-01",\n                    "checkout": "2024-01-05"\n                },\n                "additionalneeds": "Breakfast"\n            }\n            """;\n\n        int bookingId = given()\n            .baseUri(BOOKER_URL)\n            .contentType("application/json")\n            .body(bookingBody)\n        .when()\n            .post("/booking")\n        .then()\n            .statusCode(200)\n            .extract()\n            .path("bookingid");\n\n        // Update booking using token\n        given()\n            .baseUri(BOOKER_URL)\n            .contentType("application/json")\n            .cookie("token", authToken)  // Token in cookie\n            .body("""\n                {\n                    "firstname": "Jane",\n                    "lastname": "Doe",\n                    "totalprice": 200,\n                    "depositpaid": true,\n                    "bookingdates": {\n                        "checkin": "2024-01-01",\n                        "checkout": "2024-01-05"\n                    },\n                    "additionalneeds": "Dinner"\n                }\n                """)\n        .when()\n            .put("/booking/" + bookingId)\n        .then()\n            .statusCode(200)\n            .body("firstname", equalTo("Jane"));\n    }\n\n    @Test\n    @DisplayName("Should use Authorization header for token")\n    void shouldUseAuthorizationHeader() {\n        given()\n            .baseUri(BOOKER_URL)\n            .header("Authorization", "Bearer " + authToken)\n        .when()\n            .get("/booking")\n        .then()\n            .statusCode(200);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"api-key-authentication",children:"API Key Authentication"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should authenticate with API key in header")\nvoid shouldAuthenticateWithApiKey() {\n    given()\n        .baseUri("https://api.example.com")\n        .header("X-API-Key", "your-api-key-here")\n    .when()\n        .get("/protected-resource")\n    .then()\n        .statusCode(200);\n}\n\n@Test\n@DisplayName("Should authenticate with API key in query parameter")\nvoid shouldAuthenticateWithApiKeyInQuery() {\n    given()\n        .baseUri("https://api.example.com")\n        .queryParam("api_key", "your-api-key-here")\n    .when()\n        .get("/protected-resource")\n    .then()\n        .statusCode(200);\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"screenplay-authentication-task",children:"Screenplay Authentication Task"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// tasks/Authenticate.java\npackage com.example.api.tasks;\n\nimport net.serenitybdd.rest.SerenityRest;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.rest.interactions.Post;\nimport net.thucydides.core.annotations.Step;\n\nimport static net.serenitybdd.screenplay.Tasks.instrumented;\n\npublic class Authenticate implements Task {\n\n    private final String username;\n    private final String password;\n\n    public Authenticate(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public static Authenticate withCredentials(String username, String password) {\n        return instrumented(Authenticate.class, username, password);\n    }\n\n    public static Authenticate asAdmin() {\n        return instrumented(Authenticate.class, "admin", "password123");\n    }\n\n    @Override\n    @Step("{0} authenticates as #username")\n    public <T extends Actor> void performAs(T actor) {\n        actor.attemptsTo(\n            Post.to("/auth")\n                .with(request -> request\n                    .contentType("application/json")\n                    .body(String.format("""\n                        {"username": "%s", "password": "%s"}\n                        """, username, password))\n                )\n        );\n\n        String token = SerenityRest.lastResponse().path("token");\n        actor.remember("authToken", token);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Using the authentication task:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should authenticate and use token in subsequent requests")\nvoid shouldAuthenticateAndUseToken() {\n    Actor admin = Actor.named("Admin")\n                       .whoCan(CallAnApi.at(BOOKER_URL));\n\n    admin.attemptsTo(\n        Authenticate.asAdmin()\n    );\n\n    String token = admin.recall("authToken");\n    assertThat(token).isNotNull();\n\n    // Use token in subsequent request\n    admin.attemptsTo(\n        Get.resource("/booking")\n           .with(request -> request.cookie("token", token))\n    );\n\n    admin.should(\n        seeThatResponse(response -> response.statusCode(200))\n    );\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-4-error-handling-and-validation",children:"Part 4: Error Handling and Validation"}),"\n",(0,a.jsx)(n.h3,{id:"testing-error-responses",children:"Testing Error Responses"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Error Handling Tests")\nclass ErrorHandlingTest {\n\n    private static final String BASE_URL = "https://jsonplaceholder.typicode.com";\n\n    @Test\n    @DisplayName("Should handle 404 Not Found")\n    void shouldHandle404NotFound() {\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users/99999")\n        .then()\n            .statusCode(404);\n    }\n\n    @Test\n    @DisplayName("Should handle invalid request body")\n    void shouldHandleInvalidRequestBody() {\n        given()\n            .baseUri("https://reqres.in/api")\n            .contentType("application/json")\n            .body("{invalid json}")\n        .when()\n            .post("/users")\n        .then()\n            .statusCode(anyOf(equalTo(400), equalTo(500)));\n    }\n\n    @Test\n    @DisplayName("Should verify error message content")\n    void shouldVerifyErrorMessageContent() {\n        given()\n            .baseUri("https://reqres.in/api")\n        .when()\n            .post("/login")  // Missing required fields\n        .then()\n            .statusCode(400)\n            .body("error", equalTo("Missing email or username"));\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"testing-multiple-status-codes",children:"Testing Multiple Status Codes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest\n@CsvSource({\n    "1, 200",\n    "2, 200",\n    "99999, 404"\n})\n@DisplayName("Should return correct status for user ID")\nvoid shouldReturnCorrectStatusForUserId(int userId, int expectedStatus) {\n    given()\n        .baseUri("https://reqres.in/api")\n    .when()\n        .get("/users/" + userId)\n    .then()\n        .statusCode(expectedStatus);\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"json-schema-validation",children:"JSON Schema Validation"}),"\n",(0,a.jsxs)(n.p,{children:["Create a schema file at ",(0,a.jsx)(n.code,{children:"src/test/resources/schemas/user-schema.json"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "type": "object",\n    "required": ["data"],\n    "properties": {\n        "data": {\n            "type": "object",\n            "required": ["id", "email", "first_name", "last_name", "avatar"],\n            "properties": {\n                "id": {\n                    "type": "integer"\n                },\n                "email": {\n                    "type": "string",\n                    "format": "email"\n                },\n                "first_name": {\n                    "type": "string",\n                    "minLength": 1\n                },\n                "last_name": {\n                    "type": "string",\n                    "minLength": 1\n                },\n                "avatar": {\n                    "type": "string",\n                    "format": "uri"\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import static io.restassured.module.jsv.JsonSchemaValidator.matchesJsonSchemaInClasspath;\n\n@Test\n@DisplayName("Should match JSON schema")\nvoid shouldMatchJsonSchema() {\n    given()\n        .baseUri("https://reqres.in/api")\n    .when()\n        .get("/users/1")\n    .then()\n        .statusCode(200)\n        .body(matchesJsonSchemaInClasspath("schemas/user-schema.json"));\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"response-time-validation",children:"Response Time Validation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import static java.util.concurrent.TimeUnit.SECONDS;\nimport static java.util.concurrent.TimeUnit.MILLISECONDS;\n\n@Test\n@DisplayName("Should respond within acceptable time")\nvoid shouldRespondWithinAcceptableTime() {\n    given()\n        .baseUri(BASE_URL)\n    .when()\n        .get("/users")\n    .then()\n        .statusCode(200)\n        .time(lessThan(5L), SECONDS);\n}\n\n@Test\n@DisplayName("Should track response time")\nvoid shouldTrackResponseTime() {\n    long responseTime = given()\n        .baseUri(BASE_URL)\n    .when()\n        .get("/users")\n    .then()\n        .extract()\n        .time();\n\n    System.out.println("Response time: " + responseTime + "ms");\n    assertThat(responseTime).isLessThan(5000);\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-5-chained-api-calls",children:"Part 5: Chained API Calls"}),"\n",(0,a.jsx)(n.p,{children:"Often you need to use data from one API call in subsequent calls:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Chained API Calls")\nclass ChainedApiTest {\n\n    private static final String BASE_URL = "https://jsonplaceholder.typicode.com";\n\n    @Test\n    @DisplayName("Should create post and then fetch it")\n    void shouldCreatePostAndThenFetchIt() {\n        // Step 1: Create a new post\n        Post newPost = new Post("Chained Test", "Testing chained calls", 1);\n\n        Integer postId = given()\n            .baseUri(BASE_URL)\n            .contentType("application/json")\n            .body(newPost)\n        .when()\n            .post("/posts")\n        .then()\n            .statusCode(201)\n            .extract()\n            .path("id");\n\n        // Step 2: Fetch the created post\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/posts/" + postId)\n        .then()\n            .statusCode(200)\n            .body("title", equalTo("Chained Test"));\n    }\n\n    @Test\n    @DisplayName("Should fetch user and then their posts")\n    void shouldFetchUserAndTheirPosts() {\n        // Step 1: Get user\n        int userId = given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users/1")\n        .then()\n            .statusCode(200)\n            .extract()\n            .path("id");\n\n        // Step 2: Get posts by that user\n        given()\n            .baseUri(BASE_URL)\n            .queryParam("userId", userId)\n        .when()\n            .get("/posts")\n        .then()\n            .statusCode(200)\n            .body("size()", greaterThan(0))\n            .body("userId", everyItem(equalTo(userId)));\n    }\n\n    @Test\n    @DisplayName("Should perform CRUD lifecycle")\n    void shouldPerformCrudLifecycle() {\n        // CREATE\n        Integer postId = given()\n            .baseUri(BASE_URL)\n            .contentType("application/json")\n            .body(new Post("CRUD Test", "Initial content", 1))\n        .when()\n            .post("/posts")\n        .then()\n            .statusCode(201)\n            .extract()\n            .path("id");\n\n        System.out.println("Created post with ID: " + postId);\n\n        // READ\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/posts/" + postId)\n        .then()\n            .statusCode(200)\n            .body("title", equalTo("CRUD Test"));\n\n        // UPDATE\n        given()\n            .baseUri(BASE_URL)\n            .contentType("application/json")\n            .body(new Post("Updated CRUD Test", "Updated content", 1))\n        .when()\n            .put("/posts/" + postId)\n        .then()\n            .statusCode(200)\n            .body("title", equalTo("Updated CRUD Test"));\n\n        // DELETE\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .delete("/posts/" + postId)\n        .then()\n            .statusCode(200);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"screenplay-chained-calls",children:"Screenplay Chained Calls"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should chain API calls with Screenplay")\nvoid shouldChainApiCallsWithScreenplay() {\n    Actor tester = Actor.named("API Tester")\n                        .whoCan(CallAnApi.at(BASE_URL));\n\n    // Create post and remember the ID\n    tester.attemptsTo(\n        Post.to("/posts")\n            .with(request -> request\n                .contentType("application/json")\n                .body(new Post("Screenplay Chain", "Content", 1))\n            )\n    );\n\n    Integer postId = SerenityRest.lastResponse().path("id");\n    tester.remember("postId", postId);\n\n    // Fetch the post using remembered ID\n    tester.attemptsTo(\n        Get.resource("/posts/{id}")\n           .with(request -> request.pathParam("id", tester.recall("postId")))\n    );\n\n    tester.should(\n        seeThatResponse(response -> response\n            .statusCode(200)\n            .body("title", equalTo("Screenplay Chain"))\n        )\n    );\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-6-data-driven-api-testing",children:"Part 6: Data-Driven API Testing"}),"\n",(0,a.jsx)(n.h3,{id:"parameterized-tests",children:"Parameterized Tests"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Data-Driven API Tests")\nclass DataDrivenApiTest {\n\n    private static final String BASE_URL = "https://jsonplaceholder.typicode.com";\n\n    @ParameterizedTest\n    @ValueSource(ints = {1, 2, 3, 4, 5})\n    @DisplayName("Should fetch user by ID")\n    void shouldFetchUserById(int userId) {\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users/" + userId)\n        .then()\n            .statusCode(200)\n            .body("id", equalTo(userId));\n    }\n\n    @ParameterizedTest\n    @CsvSource({\n        "1, Leanne Graham, Sincere@april.biz",\n        "2, Ervin Howell, Shanna@melissa.tv",\n        "3, Clementine Bauch, Nathan@yesenia.net"\n    })\n    @DisplayName("Should verify user details")\n    void shouldVerifyUserDetails(int id, String name, String email) {\n        given()\n            .baseUri(BASE_URL)\n        .when()\n            .get("/users/" + id)\n        .then()\n            .statusCode(200)\n            .body("name", equalTo(name))\n            .body("email", equalTo(email));\n    }\n\n    @ParameterizedTest\n    @MethodSource("postDataProvider")\n    @DisplayName("Should create posts with various data")\n    void shouldCreatePostsWithVariousData(Post post) {\n        given()\n            .baseUri(BASE_URL)\n            .contentType("application/json")\n            .body(post)\n        .when()\n            .post("/posts")\n        .then()\n            .statusCode(201)\n            .body("title", equalTo(post.getTitle()));\n    }\n\n    static Stream<Post> postDataProvider() {\n        return Stream.of(\n            new Post("First Post", "Content 1", 1),\n            new Post("Second Post", "Content 2", 2),\n            new Post("Third Post", "Content 3", 3)\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"loading-test-data-from-files",children:"Loading Test Data from Files"}),"\n",(0,a.jsxs)(n.p,{children:["Create a test data file ",(0,a.jsx)(n.code,{children:"src/test/resources/testdata/users.json"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n    {"userId": 1, "expectedName": "Leanne Graham"},\n    {"userId": 2, "expectedName": "Ervin Howell"},\n    {"userId": 3, "expectedName": "Clementine Bauch"}\n]\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ParameterizedTest\n@MethodSource("loadUsersFromFile")\n@DisplayName("Should verify users from JSON file")\nvoid shouldVerifyUsersFromFile(int userId, String expectedName) {\n    given()\n        .baseUri(BASE_URL)\n    .when()\n        .get("/users/" + userId)\n    .then()\n        .statusCode(200)\n        .body("name", equalTo(expectedName));\n}\n\nstatic Stream<Arguments> loadUsersFromFile() throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    List<Map<String, Object>> users = mapper.readValue(\n        new File("src/test/resources/testdata/users.json"),\n        new TypeReference<List<Map<String, Object>>>() {}\n    );\n\n    return users.stream()\n        .map(user -> Arguments.of(\n            ((Number) user.get("userId")).intValue(),\n            user.get("expectedName")\n        ));\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-7-file-uploads-and-downloads",children:"Part 7: File Uploads and Downloads"}),"\n",(0,a.jsx)(n.h3,{id:"file-upload-multipart",children:"File Upload (Multipart)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should upload a file")\nvoid shouldUploadFile() {\n    File testFile = new File("src/test/resources/testdata/sample.txt");\n\n    given()\n        .baseUri("https://httpbin.org")\n        .multiPart("file", testFile)\n    .when()\n        .post("/post")\n    .then()\n        .statusCode(200)\n        .body("files.file", notNullValue());\n}\n\n@Test\n@DisplayName("Should upload file with additional form data")\nvoid shouldUploadFileWithFormData() {\n    File testFile = new File("src/test/resources/testdata/sample.txt");\n\n    given()\n        .baseUri("https://httpbin.org")\n        .multiPart("file", testFile)\n        .formParam("description", "Test file upload")\n        .formParam("category", "documents")\n    .when()\n        .post("/post")\n    .then()\n        .statusCode(200);\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"file-download",children:"File Download"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should download a file")\nvoid shouldDownloadFile() {\n    byte[] fileContent = given()\n        .baseUri("https://httpbin.org")\n    .when()\n        .get("/image/png")\n    .then()\n        .statusCode(200)\n        .contentType("image/png")\n        .extract()\n        .asByteArray();\n\n    assertThat(fileContent.length).isGreaterThan(0);\n\n    // Optionally save to file\n    // Files.write(Paths.get("downloaded.png"), fileContent);\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-8-advanced-configuration",children:"Part 8: Advanced Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"request-specification-reusable-configuration",children:"Request Specification (Reusable Configuration)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass RequestSpecificationTest {\n\n    private RequestSpecification baseSpec;\n\n    @BeforeEach\n    void setup() {\n        baseSpec = new RequestSpecBuilder()\n            .setBaseUri("https://jsonplaceholder.typicode.com")\n            .setContentType("application/json")\n            .addHeader("Accept", "application/json")\n            .log(LogDetail.ALL)\n            .build();\n    }\n\n    @Test\n    @DisplayName("Should use request specification")\n    void shouldUseRequestSpecification() {\n        given()\n            .spec(baseSpec)\n        .when()\n            .get("/users/1")\n        .then()\n            .statusCode(200);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"response-specification-reusable-assertions",children:"Response Specification (Reusable Assertions)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@ExtendWith(SerenityJUnit5Extension.class)\nclass ResponseSpecificationTest {\n\n    private ResponseSpecification successSpec;\n    private ResponseSpecification errorSpec;\n\n    @BeforeEach\n    void setup() {\n        successSpec = new ResponseSpecBuilder()\n            .expectStatusCode(200)\n            .expectContentType("application/json")\n            .expectResponseTime(lessThan(5000L))\n            .build();\n\n        errorSpec = new ResponseSpecBuilder()\n            .expectStatusCode(404)\n            .build();\n    }\n\n    @Test\n    @DisplayName("Should use success response specification")\n    void shouldUseSuccessResponseSpec() {\n        given()\n            .baseUri("https://jsonplaceholder.typicode.com")\n        .when()\n            .get("/users/1")\n        .then()\n            .spec(successSpec)\n            .body("name", notNullValue());\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"timeouts-and-retries",children:"Timeouts and Retries"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import static io.restassured.config.HttpClientConfig.httpClientConfig;\n\n@Test\n@DisplayName("Should configure connection timeout")\nvoid shouldConfigureTimeout() {\n    given()\n        .baseUri("https://jsonplaceholder.typicode.com")\n        .config(RestAssured.config()\n            .httpClient(httpClientConfig()\n                .setParam("http.connection.timeout", 5000)\n                .setParam("http.socket.timeout", 5000)\n            )\n        )\n    .when()\n        .get("/users")\n    .then()\n        .statusCode(200);\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Test\n@DisplayName("Should log request and response")\nvoid shouldLogRequestAndResponse() {\n    given()\n        .baseUri("https://jsonplaceholder.typicode.com")\n        .log().all()  // Log entire request\n    .when()\n        .get("/users/1")\n    .then()\n        .log().all()  // Log entire response\n        .statusCode(200);\n}\n\n@Test\n@DisplayName("Should log only on failure")\nvoid shouldLogOnlyOnFailure() {\n    given()\n        .baseUri("https://jsonplaceholder.typicode.com")\n        .log().ifValidationFails()\n    .when()\n        .get("/users/1")\n    .then()\n        .log().ifValidationFails()\n        .statusCode(200);\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-9-hybrid-ui--api-testing",children:"Part 9: Hybrid UI + API Testing"}),"\n",(0,a.jsx)(n.p,{children:"Combine UI and API testing for powerful end-to-end scenarios:"}),"\n",(0,a.jsx)(n.h3,{id:"using-playwright-with-api-calls",children:"Using Playwright with API Calls"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'import net.serenitybdd.screenplay.playwright.abilities.BrowseTheWebWithPlaywright;\nimport net.serenitybdd.screenplay.playwright.interactions.*;\nimport net.serenitybdd.screenplay.rest.abilities.CallAnApi;\nimport net.serenitybdd.screenplay.rest.interactions.Post;\n\n@ExtendWith(SerenityJUnit5Extension.class)\n@DisplayName("Hybrid UI + API Tests")\nclass HybridTest {\n\n    @Test\n    @DisplayName("Should create data via API and verify in UI")\n    void shouldCreateDataViaApiAndVerifyInUi() {\n        // Actor with both abilities\n        Actor tester = Actor.named("Hybrid Tester")\n            .whoCan(CallAnApi.at("https://api.example.com"))\n            .whoCan(BrowseTheWebWithPlaywright.usingTheDefaultConfiguration());\n\n        // Create data via API\n        tester.attemptsTo(\n            Post.to("/products")\n                .with(request -> request\n                    .contentType("application/json")\n                    .body("""\n                        {"name": "New Product", "price": 99.99}\n                        """)\n                )\n        );\n\n        // Verify in UI\n        tester.attemptsTo(\n            Open.url("https://example.com/products"),\n            Ensure.that(Text.of(".product-name")).contains("New Product")\n        );\n    }\n\n    @Test\n    @DisplayName("Should perform UI action and verify via API")\n    void shouldPerformUiActionAndVerifyViaApi() {\n        Actor tester = Actor.named("Hybrid Tester")\n            .whoCan(CallAnApi.at("https://api.example.com"))\n            .whoCan(BrowseTheWebWithPlaywright.usingTheDefaultConfiguration());\n\n        // Perform UI action\n        tester.attemptsTo(\n            Open.url("https://example.com/checkout"),\n            Click.on("#place-order-button")\n        );\n\n        // Verify via API\n        tester.attemptsTo(\n            Get.resource("/orders/latest")\n        );\n\n        tester.should(\n            seeThatResponse(response -> response\n                .statusCode(200)\n                .body("status", equalTo("placed"))\n            )\n        );\n    }\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"part-10-best-practices",children:"Part 10: Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"1-organize-by-domain",children:"1. Organize by Domain"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"src/test/java/com/example/api/\n\u251c\u2500\u2500 model/\n\u2502   \u251c\u2500\u2500 User.java\n\u2502   \u251c\u2500\u2500 Post.java\n\u2502   \u2514\u2500\u2500 Booking.java\n\u251c\u2500\u2500 tasks/\n\u2502   \u251c\u2500\u2500 CreateUser.java\n\u2502   \u251c\u2500\u2500 FetchUser.java\n\u2502   \u2514\u2500\u2500 Authenticate.java\n\u251c\u2500\u2500 questions/\n\u2502   \u251c\u2500\u2500 TheUser.java\n\u2502   \u2514\u2500\u2500 TheResponse.java\n\u251c\u2500\u2500 specs/\n\u2502   \u251c\u2500\u2500 RequestSpecs.java\n\u2502   \u2514\u2500\u2500 ResponseSpecs.java\n\u2514\u2500\u2500 tests/\n    \u251c\u2500\u2500 UserApiTest.java\n    \u251c\u2500\u2500 PostApiTest.java\n    \u2514\u2500\u2500 AuthenticationTest.java\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-use-meaningful-assertions",children:"2. Use Meaningful Assertions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Bad\nresponse.body("data", notNullValue());\n\n// Good\nresponse.body("data.id", equalTo(expectedUserId))\n        .body("data.email", matchesPattern("^[\\\\w.-]+@[\\\\w.-]+\\\\.\\\\w+$"))\n        .body("data.created_at", notNullValue());\n'})}),"\n",(0,a.jsx)(n.h3,{id:"3-extract-common-setup",children:"3. Extract Common Setup"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class ApiTestBase {\n\n    protected static final String BASE_URL =\n        System.getProperty("api.baseurl", "https://api.example.com");\n\n    protected RequestSpecification baseRequest() {\n        return given()\n            .baseUri(BASE_URL)\n            .contentType("application/json")\n            .accept("application/json")\n            .log().ifValidationFails();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-use-tags-for-test-categories",children:"4. Use Tags for Test Categories"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Tag("smoke")\n@Test\nvoid criticalEndpointTest() { }\n\n@Tag("regression")\n@Test\nvoid detailedValidationTest() { }\n\n@Tag("slow")\n@Test\nvoid performanceTest() { }\n'})}),"\n",(0,a.jsx)(n.h3,{id:"5-clean-up-test-data",children:"5. Clean Up Test Data"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@AfterEach\nvoid cleanup() {\n    if (createdResourceId != null) {\n        given()\n            .baseUri(BASE_URL)\n            .header("Authorization", "Bearer " + authToken)\n        .when()\n            .delete("/resources/" + createdResourceId)\n        .then()\n            .statusCode(anyOf(equalTo(200), equalTo(204), equalTo(404)));\n    }\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"This tutorial covered:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Topic"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Basic Operations"}),(0,a.jsx)(n.td,{children:"GET, POST, PUT, PATCH, DELETE requests"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Screenplay Pattern"}),(0,a.jsx)(n.td,{children:"Actor-centric API testing with tasks and questions"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Authentication"}),(0,a.jsx)(n.td,{children:"Basic auth, bearer tokens, API keys"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Error Handling"}),(0,a.jsx)(n.td,{children:"Testing error responses, schema validation"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Chained Calls"}),(0,a.jsx)(n.td,{children:"Using data from one call in another"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Data-Driven Tests"}),(0,a.jsx)(n.td,{children:"Parameterized tests with various data sources"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"File Operations"}),(0,a.jsx)(n.td,{children:"Upload and download files"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Configuration"}),(0,a.jsx)(n.td,{children:"Request/response specs, timeouts, logging"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Hybrid Testing"}),(0,a.jsx)(n.td,{children:"Combining UI and API tests"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Explore ",(0,a.jsx)(n.a,{href:"/docs/screenplay/screenplay_rest",children:"Screenplay REST"})," for more Screenplay patterns"]}),"\n",(0,a.jsxs)(n.li,{children:["Learn about ",(0,a.jsx)(n.a,{href:"/docs/reporting/the_serenity_reports",children:"Serenity Reports"})," for API test reporting"]}),"\n",(0,a.jsxs)(n.li,{children:["Check out ",(0,a.jsx)(n.a,{href:"/docs/cucumber/cucumber-junit5",children:"Cucumber Integration"})," for BDD-style API tests"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://rest-assured.io/",children:"Rest-Assured Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://jsonplaceholder.typicode.com/",children:"JSONPlaceholder API"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://reqres.in/",children:"ReqRes API"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://restful-booker.herokuapp.com/apidoc/",children:"Restful-Booker API"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://json-schema.org/",children:"JSON Schema"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);