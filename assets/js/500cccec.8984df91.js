"use strict";(self.webpackChunkserenity_users_guide=self.webpackChunkserenity_users_guide||[]).push([[2274],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?i.createElement(h,s(s({ref:t},p),{},{components:n})):i.createElement(h,s({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var c=2;c<r;c++)s[c]=n[c];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9394:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=n(7462),a=(n(7294),n(3905));const r={id:"cucumber-screenplay",sidebar_position:4},s="Getting Started With Cucumber using Serenity BDD and Screenplay",o={unversionedId:"tutorials/cucumber-screenplay",id:"tutorials/cucumber-screenplay",isDocsHomePage:!1,title:"Getting Started With Cucumber using Serenity BDD and Screenplay",description:"This tutorial focuses on getting started with Cucumber and Screenplay. For comprehensive coverage of Cucumber configuration, JUnit 5 integration, parallel execution, and advanced topics, see the Cucumber with JUnit 5 section.",source:"@site/docs/tutorials/cucumber.md",sourceDirName:"tutorials",slug:"/tutorials/cucumber-screenplay",permalink:"/docs/tutorials/cucumber-screenplay",editUrl:"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/tutorials/cucumber.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"cucumber-screenplay",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Your First API Test",permalink:"/docs/tutorials/rest"},next:{title:"Data-Driven Testing with Serenity BDD",permalink:"/docs/tutorials/data-driven-testing"}},l=[{value:"Objectives",id:"objectives",children:[]},{value:"Pre-requisites",id:"pre-requisites",children:[]},{value:"Creating your project",id:"creating-your-project",children:[]},{value:"The project directory structure",id:"the-project-directory-structure",children:[]},{value:"Writing the first feature file",id:"writing-the-first-feature-file",children:[]},{value:"Writing the step definitions skeleton",id:"writing-the-step-definitions-skeleton",children:[]},{value:"Creating Helper Classes for Step Definitions",id:"creating-helper-classes-for-step-definitions",children:[]},{value:"Adding Details to Step Definitions",id:"adding-details-to-step-definitions",children:[]},{value:"Running the build again",id:"running-the-build-again",children:[]},{value:"Reporting and Living Documentation",id:"reporting-and-living-documentation",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],c={toc:l};function p({components:e,...t}){return(0,a.kt)("wrapper",(0,i.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"getting-started-with-cucumber-using-serenity-bdd-and-screenplay"},"Getting Started With Cucumber using Serenity BDD and Screenplay"),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Comprehensive Cucumber Guide Available")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"This tutorial focuses on getting started with Cucumber and Screenplay. For comprehensive coverage of Cucumber configuration, JUnit 5 integration, parallel execution, and advanced topics, see the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cucumber/cucumber-junit5"},"Cucumber with JUnit 5")," section."))),(0,a.kt)("h2",{id:"objectives"},"Objectives"),(0,a.kt)("p",null,"At the end of this tutorial, you would have completed the following activities."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Write your first ",(0,a.kt)("strong",{parentName:"li"},"specification by example")," using ",(0,a.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/"},"Gherkin")," language in a ",(0,a.kt)("inlineCode",{parentName:"li"},".feature")," file for the well-known ",(0,a.kt)("a",{parentName:"li",href:"http://todomvc.com"},"TodoMVC")," project"),(0,a.kt)("li",{parentName:"ol"},"Make the specification (the ",(0,a.kt)("inlineCode",{parentName:"li"},".feature")," file from Step 1 above) executable using Serenity BDD and Cucumber with Screenplay pattern"),(0,a.kt)("li",{parentName:"ol"},"Create a ",(0,a.kt)("strong",{parentName:"li"},"living documentation")," that also serves as a test report and a progress report")),(0,a.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,a.kt)("p",null,"To run this tutorial, you will need a few things installed on your machine:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Java"),": Serenity BDD is a Java library, so you'll need a recent JDK installed. JDK 1.8 or higher should be fine."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Maven"),": You will need Maven 3 or higher installed in your computer.  This acts as a build tool that also downloads the dependencies while building."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"A Java IDE"),": You'll also need a Java Development Environment such as IntelliJ or Eclipse (and a working knowledge of Java)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Git"),": We'll be using a starter project on Github, and the sample code for this project lives on Github too, so I'll be assuming you have a basic understanding of Git.")),(0,a.kt)("h2",{id:"creating-your-project"},"Creating your project"),(0,a.kt)("p",null,"The quickest way to start a new Serenity BDD with ",(0,a.kt)("a",{parentName:"p",href:"https://cucumber.io/"},"Cucumber")," project is to clone the starter project. For this tutorial, We will be using the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/serenity-bdd/serenity-cucumber-starter"},"Serenity BDD with Cucumber and Screenplay"))," template project, which uses Serenity BDD and Cucumber 6.x."),(0,a.kt)("p",null,"This project comes with a sample feature file already implemented for our reference.  For now, we are going to ignore that and start writing a new feature file from scratch."),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Just to make sure that the starter template's sample files do not interfere with our experience in this tutorial, ",(0,a.kt)("strong",{parentName:"p"},"delete")," the following files/directories."),(0,a.kt)("ol",{parentName:"div"},(0,a.kt)("li",{parentName:"ol"},"Directory - ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/resources/features/search")),(0,a.kt)("li",{parentName:"ol"},"Directory -  ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/java/starter/navigation")),(0,a.kt)("li",{parentName:"ol"},"Directory -  ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/java/starter/search")),(0,a.kt)("li",{parentName:"ol"},"File - ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/java/starter/stepdefinitions/SearchStepDefinitions.java"))))),(0,a.kt)("h2",{id:"the-project-directory-structure"},"The project directory structure"),(0,a.kt)("p",null,"We will use some simple conventions to organise our feature files and the supporting Java classes, based on the standard Maven project structure outlined below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"src\n\u251c\u2500\u2500\u2500main\n\u2502   \u2514\u2500\u2500\u2500java\n\u2502       \u2514\u2500\u2500\u2500starter\n\u2514\u2500\u2500\u2500test\n    \u251c\u2500\u2500\u2500java\n    \u2502   \u2514\u2500\u2500\u2500starter\n    \u2502       \u2514\u2500\u2500\u2500helpers\n    \u2502       \u2514\u2500\u2500\u2500stepdefinitions\n    \u2514\u2500\u2500\u2500resources\n        \u2514\u2500\u2500\u2500features\n")),(0,a.kt)("p",null,"Here are some points to note about the directory structure."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Since we will test the publicly available ",(0,a.kt)("a",{parentName:"li",href:"http://todomvc.com"},"TodoMVC")," web application, we will not have any code in the ",(0,a.kt)("inlineCode",{parentName:"li"},"src/main")," directory."),(0,a.kt)("li",{parentName:"ol"},"We will use the ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/resources/features")," directory to store our ",(0,a.kt)("inlineCode",{parentName:"li"},".feature")," files, which are specifications that define the requirements."),(0,a.kt)("li",{parentName:"ol"},"We will use the ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/java/starter/stepdefinitions")," directory to store the code implementing the steps mentioned in our ",(0,a.kt)("inlineCode",{parentName:"li"},".feature")," files.  This code is called Glue code or the Step definitions."),(0,a.kt)("li",{parentName:"ol"},"We will use the ",(0,a.kt)("inlineCode",{parentName:"li"},"src/test/java/starter/helpers")," directory to store the code for any helper classes that are needed by our step definitions.")),(0,a.kt)("h2",{id:"writing-the-first-feature-file"},"Writing the first feature file"),(0,a.kt)("p",null,"Now, let us start with writing a feature file to describe adding a new item to the to-do list."),(0,a.kt)("p",null,"Create a new file with name ",(0,a.kt)("inlineCode",{parentName:"p"},"add_new_todo.feature")," in the ",(0,a.kt)("inlineCode",{parentName:"p"},"src/test/resources/features")," directory with the following content."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-gherkin"},'Feature: Add new item to TODO list\n\nScenario: Add buying milk to the list\nGiven Rama is looking at his TODO list\nWhen he adds "Buy some milk" to the list\nThen he sees "Buy some milk" as an item in the TODO list\n')),(0,a.kt)("h2",{id:"writing-the-step-definitions-skeleton"},"Writing the step definitions skeleton"),(0,a.kt)("p",null,"In order to translate the steps in the ",(0,a.kt)("inlineCode",{parentName:"p"},"add_new_todo.feature")," into executable actions, we write Java classes called ",(0,a.kt)("strong",{parentName:"p"},"Step Definitions"),"."),(0,a.kt)("p",null,"Let us create a new file named ",(0,a.kt)("inlineCode",{parentName:"p"},"AddItemStepDefinitions.java")," in the directory ",(0,a.kt)("inlineCode",{parentName:"p"},"src/test/java/starter/stepdefinitions")," with the following skeleton content.  Note that this is only a skeleton content. We will add flesh to this class later."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package starter.stepdefinitions;\n\nimport io.cucumber.java.PendingException;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport net.serenitybdd.screenplay.Actor;\n\npublic class AddItemStepDefinitions {\n\n    @Given("{actor} is looking at his TODO list")\n    public void actor_is_looking_at_his_todo_list(Actor actor) {\n        // Write code here that turns the phrase above into concrete actions\n        throw new PendingException("Implement me");\n    }\n    @When("{actor} adds {string} to the list")\n    public void he_adds_to_the_list(Actor actor, String itemName) {\n        // Write code here that turns the phrase above into concrete actions\n        throw new PendingException("Implement me");\n    }\n    @Then("{actor} sees {string} as an item in the TODO list")\n    public void he_sees_as_an_item_in_the_todo_list(Actor actor, String expectedItemName) {\n        // Write code here that turns the phrase above into concrete actions\n        throw new PendingException("Implement me");\n    }\n\n}\n')),(0,a.kt)("p",null,"The above file just throws exceptions whenever Cucumber tries to execute the steps and mark them as Pending."),(0,a.kt)("p",null,"Let us try running the Maven build to see the result at this stage.  We expect the build to fail stating that scenarios are pending to be implemented."),(0,a.kt)("p",null,"Run the following command in a terminal or command prompt."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mvn clean verify\n")),(0,a.kt)("p",null,"Once the command completes, you can see output similar to the following."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 7.255 s <<< FAILURE! - in starter.CucumberTestSuite\n[ERROR] Add new item to TODO list.Add buying milk to the list  Time elapsed: 0.713 s  <<< ERROR!\nio.cucumber.java.PendingException: TODO: implement me\n\n[INFO] \n[INFO] Results:\n[INFO]\n[ERROR] Errors: \n[ERROR]   TODO: implement me\n[INFO]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n\n...\n...\n...\n\n[INFO] -----------------------------------------\n[INFO]  SERENITY TESTS: PENDING\n[INFO] -----------------------------------------\n[INFO] | Test cases executed    | 1\n[INFO] | Tests executed         | 1\n[INFO] | Tests passed           | 0\n[INFO] | Tests failed           | 0\n[INFO] | Tests with errors      | 0\n[INFO] | Tests compromised      | 0\n[INFO] | Tests aborted          | 0\n[INFO] | Tests pending          | 1\n[INFO] | Tests ignored/skipped  | 0\n[INFO] ------------------------ | --------------\n[INFO] | Total Duration         | 365ms\n[INFO] | Fastest test took      | 365ms\n[INFO] | Slowest test took      | 365ms\n[INFO] -----------------------------------------\n\n...\n...\n...\n\n[INFO]\n[INFO] --- maven-failsafe-plugin:3.0.0-M5:verify (default) @ cucumber-starter ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  30.465 s\n[INFO] Finished at: 2022-08-12T14:52:57+05:30\n[INFO] ------------------------------------------------------------------------\n\n")),(0,a.kt)("p",null,"The above output is as we expected.  The build is failing with a ",(0,a.kt)("inlineCode",{parentName:"p"},"PendingException")," and the tests are marked as pending."),(0,a.kt)("h2",{id:"creating-helper-classes-for-step-definitions"},"Creating Helper Classes for Step Definitions"),(0,a.kt)("p",null,"So far, we have only dummy step definitions.  Let us implement real tests now.  In order to implement the real tests, let us create a few helper classes."),(0,a.kt)("h4",{id:"page-object"},"Page Object"),(0,a.kt)("p",null,"Let us first create a file ",(0,a.kt)("inlineCode",{parentName:"p"},"TodoListPage.java")," in the directory ",(0,a.kt)("inlineCode",{parentName:"p"},"src/test/java/starter/helpers")," with the following content."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package starter.helpers;\n\nimport net.serenitybdd.core.pages.PageObject;\nimport net.serenitybdd.screenplay.targets.Target;\nimport net.serenitybdd.annotations.DefaultUrl;\n\n\n@DefaultUrl("https://todomvc.com/examples/angularjs/#/")\npublic class TodoListPage extends PageObject {\n    public static Target ITEM_NAME_FIELD = Target.the("item name field").locatedBy(".new-todo");\n\n    public static Target ITEMS_LIST = Target.the(" item list").locatedBy(".todo-list li");\n}\n')),(0,a.kt)("p",null,"This class is what we call as a ",(0,a.kt)("inlineCode",{parentName:"p"},"PageObject"),".  This contains all the information we will need to use a particular web page, the TODO app, in this case."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"@DefaultUrl")," annotation specifies the URL that needs to be typed in the browser's address bar to access this page."),(0,a.kt)("p",null,"There are two static fields ",(0,a.kt)("inlineCode",{parentName:"p"},"ITEM_NAME_FIELD")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"ITEMS_LIST")," that help identify specific HTML elements on the page, which we will use later in our step definition files."),(0,a.kt)("h4",{id:"navigation-helper"},"Navigation Helper"),(0,a.kt)("p",null,"Let us create a file ",(0,a.kt)("inlineCode",{parentName:"p"},"NavigateTo.java")," in the directory ",(0,a.kt)("inlineCode",{parentName:"p"},"src/test/java/starter/helpers")," with the following content."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package starter.helpers;\n\nimport net.serenitybdd.screenplay.Performable;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.actions.Open;\n\npublic class NavigateTo {\n     public static Performable theTodoListPage() {\n        return Task.where("{0} opens the Todo list page",\n                Open.browserOn().the(TodoListPage.class));\n    }\n}\n')),(0,a.kt)("p",null,"The above class uses Serenity BDD's ",(0,a.kt)("a",{parentName:"p",href:"/docs/screenplay/screenplay_fundamentals"},"Screenplay pattern")," to describe the behavior in a lucid manner.  This class helps us to open the browser with the proper URL."),(0,a.kt)("h4",{id:"action-definition"},"Action Definition"),(0,a.kt)("p",null,"Next, let us create a file ",(0,a.kt)("inlineCode",{parentName:"p"},"AddAnItem.java")," in the directory ",(0,a.kt)("inlineCode",{parentName:"p"},"src/test/java/starter/helpers")," with the following content."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package starter.helpers;\n\nimport net.serenitybdd.screenplay.Performable;\nimport net.serenitybdd.screenplay.Task;\nimport net.serenitybdd.screenplay.actions.Enter;\nimport org.openqa.selenium.Keys;\n\npublic class AddAnItem {\n\n    public static Performable withName(String itemName){\n        return Task.where("{0} adds an item with name "+itemName,\n                Enter.theValue(itemName)\n                        .into(TodoListPage.ITEM_NAME_FIELD)\n                        .thenHit(Keys.ENTER)\n        );\n    }\n}\n')),(0,a.kt)("p",null,"The above code explains the steps needed to add an item to the list, i.e., typing the item name in the text box and pressing the ENTER key."),(0,a.kt)("h2",{id:"adding-details-to-step-definitions"},"Adding Details to Step Definitions"),(0,a.kt)("p",null,"Now that our helper classes are ready, we can add real details to the step definitions present in ",(0,a.kt)("inlineCode",{parentName:"p"},"AddItemStepDefinitions.java")),(0,a.kt)("p",null,"Open the ",(0,a.kt)("inlineCode",{parentName:"p"},"AddItemStepDefinitions.java")," file (we already created this file) and edit it to have the following content."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'package starter.stepdefinitions;\n\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.ensure.Ensure;\nimport starter.helpers.AddAnItem;\nimport starter.helpers.NavigateTo;\nimport starter.helpers.TodoListPage;\n\npublic class AddItemStepDefinitions {\n    @Given("{actor} is looking at his TODO list")\n    public void actor_is_looking_at_his_todo_list(Actor actor) {\n        actor.wasAbleTo(NavigateTo.theTodoListPage());\n    }\n    @When("{actor} adds {string} to the list")\n    public void he_adds_to_the_list(Actor actor, String itemName) {\n       actor.attemptsTo(AddAnItem.withName(itemName));\n    }\n    @Then("{actor} sees {string} as an item in the TODO list")\n    public void he_sees_as_an_item_in_the_todo_list(Actor actor, String expectedItemName) {\n        actor.attemptsTo(Ensure.that(TodoListPage.ITEMS_LIST).hasText(expectedItemName));\n    }\n\n}\n')),(0,a.kt)("p",null,"Notice how the code reads like the spoken English.  This is one of the pleasant side-effects of using Screenplay pattern in your Cucumber step definitions."),(0,a.kt)("h2",{id:"running-the-build-again"},"Running the build again"),(0,a.kt)("p",null,"Now, let us run the build again by issuing the following command from the terminal or command line."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mvn clean verify\n")),(0,a.kt)("p",null,"Now, you will see the following output."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 28.42 s - in starter.CucumberTestSuite\n[INFO] \n[INFO] Results:\n[INFO]\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n...\n...\n...\n\n[INFO] -----------------------------------------\n[INFO]  SERENITY TESTS: SUCCESS\n[INFO] -----------------------------------------\n[INFO] | Test cases executed    | 1\n[INFO] | Tests executed         | 1\n[INFO] | Tests passed           | 1\n[INFO] | Tests failed           | 0\n[INFO] | Tests with errors      | 0\n[INFO] | Tests compromised      | 0\n[INFO] | Tests aborted          | 0\n[INFO] | Tests pending          | 0\n[INFO] | Tests ignored/skipped  | 0\n[INFO] ------------------------ | --------------\n[INFO] | Total Duration         | 20s 001ms\n[INFO] | Fastest test took      | 20s 001ms\n[INFO] | Slowest test took      | 20s 001ms\n[INFO] -----------------------------------------\n[INFO]\n[INFO] SERENITY REPORTS\n[INFO]   - Full Report: file:///C:/Users/calib/source-codes/temp/serenity-cucumber-starter/target/site/serenity/index.html\n[INFO]\n[INFO] --- maven-failsafe-plugin:3.0.0-M5:verify (default) @ cucumber-starter ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  49.894 s\n[INFO] Finished at: 2022-08-12T15:28:52+05:30\n[INFO] ------------------------------------------------------------------------\n\n")),(0,a.kt)("p",null,"Yes, the tests passed and the build is successful now.  We have managed to test our feature successfully \ud83c\udf89"),(0,a.kt)("h2",{id:"reporting-and-living-documentation"},"Reporting and Living Documentation"),(0,a.kt)("p",null,"If you notice carefully, the output of the ",(0,a.kt)("inlineCode",{parentName:"p"},"mvn clean verify")," command informed us that a report is created in ",(0,a.kt)("inlineCode",{parentName:"p"},"target/site/serenity/index.html")),(0,a.kt)("p",null,"When you open this file in a web browser, you see a beautiful report like this."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Report Home Page",src:n(810).Z})),(0,a.kt)("p",null,"You can also find the feature-wise results detailing the scenarios in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Features")," tab."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Report of Features",src:n(9088).Z})),(0,a.kt)("p",null,"Feel free to navigate the links in this report and look around."),(0,a.kt)("p",null,"This is also called a ",(0,a.kt)("strong",{parentName:"p"},"Living Documentation")," of the product because, this is generated by actually executing the specifications, rather than just writing it as a wiki or a document stored in cloud.  As the product evolves, the scenarios will get added and this report is the single source of truth about what works and what is pending to be implemented in the product."),(0,a.kt)("p",null,"In some cases, teams use this document to onboard new joiners to the team.  If you are feeling adventurous, this document can also be used as a user guide."),(0,a.kt)("h2",{id:"next-steps"},"Next Steps"),(0,a.kt)("p",null,"In this tutorial, we just touched the surface of using Serenity BDD with Cucumber.  There are multiple ways to customize the report, organize the feature files, implement the step definitions and so on.  Refer to the links in the user manual to know more about further possibilities."))}p.isMDXComponent=!0},9088:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/cucumber-report-features-555853b0e8d29b79c13e71fb32f39233.png"},810:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/cucumber-test-report-home-03608f63deecb7521cb7fcd9cf1830c1.png"}}]);