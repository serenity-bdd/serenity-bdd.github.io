"use strict";(self.webpackChunkserenity_users_guide=self.webpackChunkserenity_users_guide||[]).push([[8368],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},l=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),l=c(t),m=i,g=l["".concat(s,".").concat(m)]||l[m]||u[m]||a;return t?r.createElement(g,o(o({ref:n},p),{},{components:t})):r.createElement(g,o({ref:n},p))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=l;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d.mdxType="string"==typeof e?e:i,o[1]=d;for(var c=2;c<a;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}l.displayName="MDXCreateElement"},7305:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>d,toc:()=>s});var r=t(7462),i=(t(7294),t(3905));const a={id:"maven",title:"Using Maven with Serenity",sidebar_position:3},o="Integrating Serenity BDD into a Maven project",d={unversionedId:"guide/maven",id:"guide/maven",isDocsHomePage:!1,title:"Using Maven with Serenity",description:"Maven is the recommended build tool for Serenity BDD.",source:"@site/docs/guide/maven.md",sourceDirName:"guide",slug:"/guide/maven",permalink:"/docs/guide/maven",editUrl:"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/guide/maven.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"maven",title:"Using Maven with Serenity",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Creating A New Project",permalink:"/docs/guide/getting_started"},next:{title:"Step Libraries",permalink:"/docs/guide/step_libraries"}},s=[{value:"Recommended Versions",id:"recommended-versions",children:[]},{value:"Core Dependencies",id:"core-dependencies",children:[]},{value:"Serenity JUnit 5 Dependencies (Recommended)",id:"serenity-junit-5-dependencies-recommended",children:[]},{value:"Serenity JUnit 4 Dependencies (Deprecated)",id:"serenity-junit-4-dependencies-deprecated",children:[]},{value:"Serenity Cucumber Dependencies",id:"serenity-cucumber-dependencies",children:[]},{value:"Cucumber with JUnit 5 Dependencies (Recommended)",id:"cucumber-with-junit-5-dependencies-recommended",children:[]},{value:"Cucumber with JUnit 4 Dependencies (Deprecated)",id:"cucumber-with-junit-4-dependencies-deprecated",children:[]},{value:"Screenplay",id:"screenplay",children:[]},{value:"The Serenity Maven Plugin",id:"the-serenity-maven-plugin",children:[]},{value:"Checking Gherkin feature files",id:"checking-gherkin-feature-files",children:[]}],c={toc:s};function p({components:e,...n}){return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"integrating-serenity-bdd-into-a-maven-project"},"Integrating Serenity BDD into a Maven project"),(0,i.kt)("p",null,"Maven is the recommended build tool for Serenity BDD."),(0,i.kt)("p",null,"You can add Serenity BDD to an existing Maven project by adding the corresponding dependencies to your ",(0,i.kt)("inlineCode",{parentName:"p"},"pom.xml")," file."),(0,i.kt)("h2",{id:"recommended-versions"},"Recommended Versions"),(0,i.kt)("p",null,"First, define the recommended versions in your properties section:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<properties>\n    <serenity.version>5.0.2</serenity.version>\n    <junit5.version>6.0.1</junit5.version>\n    <cucumber.version>7.33.0</cucumber.version>\n</properties>\n")),(0,i.kt)("h2",{id:"core-dependencies"},"Core Dependencies"),(0,i.kt)("p",null,"All Serenity BDD projects need the following core dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-core</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("p",null,"You will also need a test runner, which will usually be either JUnit 5 (recommended) or Cucumber. Note that JUnit 4 is deprecated as of Serenity 5.0.0."),(0,i.kt)("h2",{id:"serenity-junit-5-dependencies-recommended"},"Serenity JUnit 5 Dependencies (Recommended)"),(0,i.kt)("p",null,"To use JUnit 5 you will need the following dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-junit5</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("p",null,"You will also need the JUnit 5 dependencies, e.g."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-api</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.jupiter</groupId>\n    <artifactId>junit-jupiter-engine</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("h2",{id:"serenity-junit-4-dependencies-deprecated"},"Serenity JUnit 4 Dependencies (Deprecated)"),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"JUnit 4 Deprecated")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"JUnit 4 support is deprecated as of Serenity 5.0.0 and will be removed in Serenity 6.0.0. Please migrate to JUnit 5 (see above)."))),(0,i.kt)("p",null,"If you're still using JUnit 4, you will need the following dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-junit</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("h2",{id:"serenity-cucumber-dependencies"},"Serenity Cucumber Dependencies"),(0,i.kt)("p",null,"For Cucumber you will need the following dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-cucumber</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("p",null,"Since Serenity relies on a specific version of the Cucumber APIs, we recommend using the same version of the Cucumber libraries."),(0,i.kt)("p",null,"Cucumber requires a test runner, preferably JUnit 5 (JUnit 4 is deprecated)."),(0,i.kt)("h2",{id:"cucumber-with-junit-5-dependencies-recommended"},"Cucumber with JUnit 5 Dependencies (Recommended)"),(0,i.kt)("p",null,"To use JUnit 5 you will need the following dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>io.cucumber</groupId>\n    <artifactId>cucumber-junit-platform-engine</artifactId>\n    <version>${cucumber.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.platform</groupId>\n    <artifactId>junit-platform-suite</artifactId>\n    <version>${junit-platform.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("p",null,"See cucumber-junit-platform-engine documentation on using junit-platform-suite to pilot cucumber: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#suites-with-different-configurations"},"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#suites-with-different-configurations"),", and ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/serenity-bdd/serenity-cucumber-starter"},"https://github.com/serenity-bdd/serenity-cucumber-starter")," for a running example."),(0,i.kt)("h2",{id:"cucumber-with-junit-4-dependencies-deprecated"},"Cucumber with JUnit 4 Dependencies (Deprecated)"),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"JUnit 4 Deprecated")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"JUnit 4 Cucumber runners are deprecated as of Serenity 5.0.0 and will be removed in Serenity 6.0.0. Please migrate to JUnit 5 (see above)."))),(0,i.kt)("p",null,"If you're still using JUnit 4 with Cucumber, you will need the following dependency:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>io.cucumber</groupId>\n    <artifactId>cucumber-junit</artifactId>\n    <version>${cucumber.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.junit.platform</groupId>\n    <artifactId>junit-vintage-engine</artifactId>\n    <version>${junit5.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("h2",{id:"screenplay"},"Screenplay"),(0,i.kt)("p",null,"If you are using the Screenplay pattern, you will also need the Screenplay dependencies:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-screenplay</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-rest-assured</artifactId>\n    <version>${serenity.version}</version>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-ensure</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>net.serenity-bdd</groupId>\n    <artifactId>serenity-screenplay-webdriver</artifactId>\n    <version>${serenity.version}</version>\n    <scope>test</scope>\n</dependency>\n")),(0,i.kt)("h2",{id:"the-serenity-maven-plugin"},"The Serenity Maven Plugin"),(0,i.kt)("p",null,"If you want to generate the Serenity reports whenever you run ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn verify"),", you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"serenity-maven-plugin")," to do that:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<plugin>\n    <groupId>net.serenity-bdd.maven.plugins</groupId>\n    <artifactId>serenity-maven-plugin</artifactId>\n    <version>${serenity.version}</version>\n    <configuration>\n      <tags>${tags}</tags>\n    </configuration>\n    <executions>\n        <execution>\n            <id>serenity-reports</id>\n            <phase>post-integration-test</phase>\n            <goals>\n                <goal>aggregate</goal>\n                <goal>check</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n")),(0,i.kt)("p",null,"By default, the ",(0,i.kt)("inlineCode",{parentName:"p"},"aggregate")," goal will NOT fail the build if there are test failures - it will simply generate the reports. This way you can aggregate multiple report sets and then check for failures at the end using ",(0,i.kt)("inlineCode",{parentName:"p"},"mvn serenity:check"),"."),(0,i.kt)("h2",{id:"checking-gherkin-feature-files"},"Checking Gherkin feature files"),(0,i.kt)("p",null,"Some errors in Gherkin feature files can cause the Serenity reports to behave unpredictably. For this reason, the following rules should be followed when working with Cucumber and Serenity:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Scenario names should be unique within a feature file")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Scenario, Rule and Feature names should not be blank")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Feature names should be unique wherever possible. In particular features with the same name, inside directories with identical names, will not appear correctly in the Serenity reports."),(0,i.kt)("p",{parentName:"li"},"You can check these rules before you run the full test by calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"check-gherkin")," goal, e.g."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mvn serenity:check-gherkin  \n")),(0,i.kt)("p",null,"You can ensure that your feature files are correctly configured before kicking off your tests by binding the ",(0,i.kt)("inlineCode",{parentName:"p"},"check-gherkin")," goal to the ",(0,i.kt)("inlineCode",{parentName:"p"},"process-test-resources")," lifecycle phase, as shown here:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<plugin>\n    <groupId>net.serenity-bdd.maven.plugins</groupId>\n    <artifactId>serenity-maven-plugin</artifactId>\n    <version>${serenity.version}</version>\n    <configuration>\n      <tags>${tags}</tags>\n    </configuration>\n    <executions>\n        <execution>\n            <id>check-feature-files</id>\n            <phase>process-test-resources</phase>\n            <goals>\n                <goal>check-gherkin</goal>\n            </goals>\n        </execution>\n        <execution>\n            <id>serenity-reports</id>\n            <phase>post-integration-test</phase>\n            <goals>\n                <goal>aggregate</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n")))}p.isMDXComponent=!0}}]);