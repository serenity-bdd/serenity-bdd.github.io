"use strict";(globalThis.webpackChunkserenity_users_guide=globalThis.webpackChunkserenity_users_guide||[]).push([[6722],{1184(e,n,i){i.d(n,{A:()=>t});const t=i.p+"assets/images/cucumber-requirements-hierarchy-a21ffb057df85059e19480918c7c2d34.png"},6109(e,n,i){i.r(n),i.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"guide/cucumber","title":"Running Cucumber scenarios with Serenity","description":"For a complete, in-depth guide on using Cucumber with Serenity BDD and JUnit 5, including configuration options, best practices, and troubleshooting, see the dedicated Cucumber with JUnit 5 section.","source":"@site/docs/guide/cucumber.md","sourceDirName":"guide","slug":"/guide/cucumber","permalink":"/docs/guide/cucumber","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-bdd/serenity-bdd.github.io/blob/master/docs/guide/cucumber.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Configuring Selenium WebDriver","permalink":"/docs/guide/driver_config"},"next":{"title":"JUnit 5 with Serenity BDD","permalink":"/docs/junit5/junit5-tests"}}');var r=i(4848),c=i(8453);const s={},o="Running Cucumber scenarios with Serenity",u={},a=[];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"running-cucumber-scenarios-with-serenity",children:"Running Cucumber scenarios with Serenity"})}),"\n",(0,r.jsx)(n.admonition,{title:"Comprehensive Cucumber Guide Available",type:"tip",children:(0,r.jsxs)(n.p,{children:["For a complete, in-depth guide on using Cucumber with Serenity BDD and JUnit 5, including configuration options, best practices, and troubleshooting, see the dedicated ",(0,r.jsx)(n.a,{href:"/docs/cucumber/cucumber-junit5",children:"Cucumber with JUnit 5"})," section."]})}),"\n",(0,r.jsx)(n.p,{children:"To run Cucumber scenarios with Serenity, you need to create a Junit 5 test runner class like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'   import org.junit.platform.suite.api.IncludeEngines;\n   import org.junit.platform.suite.api.SelectClasspathResource;\n   import org.junit.platform.suite.api.Suite;\n   \n   @Suite\n   @IncludeEngines("cucumber")\n   @SelectClasspathResource("/features")\n   public class CucumberTestSuite {}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Note that you need to specify at least the ",(0,r.jsx)(n.code,{children:"features"})," attribute, to define the directory containing your feature files."]}),"\n",(0,r.jsx)(n.h1,{id:"feature-hierarchies",children:"Feature hierarchies"}),"\n",(0,r.jsxs)(n.p,{children:["Serenity expects to find feature files in the ",(0,r.jsx)(n.code,{children:"src/test/resources/features"})," folder by default. You can organise your feature files in a hierarchy of folders underneath this one, as shown here:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"+ src\n|-- test\n|   |-- resources\n|   |  |-- features\n|   |  |   |-- authentication\n|   |  |   |   |-- login.feature\n|   |  |   |-- cart\n|   |  |   |   |-- managing_the_cart.feature\n|   |  |   |-- catalog\n|   |  |   |   |-- browse_catalog.feature\n|   |  |   |   |-- filtering_products.feature\n|   |  |   |-- purchases\n|   |  |   |   |-- completing_a_purchase.feature\n|   |  |   |-- sales_tax\n|   |  |   |   |-- calculating_sales_tax.feature\n"})}),"\n",(0,r.jsx)(n.p,{children:"The directory structure will be used to build the Serenity requirements hierarchy, like the one shown here:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:i(1184).A+"",width:"3198",height:"1324"})}),"\n",(0,r.jsx)(n.h1,{id:"filtering-test-execution-in-cucumber",children:"Filtering test execution in Cucumber"}),"\n",(0,r.jsxs)(n.p,{children:["The simplest way to control which scenarios you want to execute is to use tags and the ",(0,r.jsx)(n.code,{children:"cucumber.filter.tags"})," command line option. For example, to run only scenarios or features annotated with ",(0,r.jsx)(n.code,{children:"@smoke"}),", you would run the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'mvn clean verify -Dcucumber.filter.tags="@smoke"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["You can use ",(0,r.jsx)(n.a,{href:"https://cucumber.io/docs/cucumber/api/#tag-expressions",children:"Cucumber Tag Expressions"})," to determine which scenarios to run. For example, to run only features with both the ",(0,r.jsx)(n.code,{children:"@authentication"})," tag and the ",(0,r.jsx)(n.code,{children:"@smoke"})," tag, you would run the following:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:' mvn clean verify -Dcucumber.filter.tags="@authentication and @smoke"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["To run scenarios with either the ",(0,r.jsx)(n.code,{children:"@cart"})," or the ",(0,r.jsx)(n.code,{children:"@catalog"})," tag, you could run the following:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:' mvn clean verify -Dcucumber.filter.tags="@cart or @catalog"\n'})}),"\n",(0,r.jsx)(n.h1,{id:"running-cucumber-scenarios-with-serenity-in-parallel",children:"Running Cucumber scenarios with Serenity in parallel"}),"\n",(0,r.jsx)(n.p,{children:"Starting with version 3.6.0, is possible to run the Cucumber scenarios in parallel."}),"\n",(0,r.jsx)(n.p,{children:"The following steps are necessary to activate the parallel execution:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Add following dependencies in your application pom.xml:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"    <dependency>\n        <groupId>io.cucumber</groupId>\n        <artifactId>cucumber-junit-platform-engine</artifactId>\n        <version>7.11.0</version>\n        <scope>test</scope>\n    </dependency>\n    \n    <dependency>\n        <groupId>org.junit.platform</groupId>\n        <artifactId>junit-platform-suite</artifactId>\n        <version>1.9.2</version>\n        <scope>test</scope>\n    </dependency>\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Create a file named ",(0,r.jsx)(n.code,{children:"junit-platform.properties"})," under ",(0,r.jsx)(n.code,{children:"test/resources"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cucumber.execution.parallel.enabled=true\ncucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=4\ncucumber.execution.parallel.config.fixed.max-pool-size=4\ncucumber.plugin=net.serenitybdd.cucumber.core.plugin.SerenityReporterParallel\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Breaking Change in Serenity 5.0.0",type:"note",children:(0,r.jsxs)(n.p,{children:["The Cucumber plugin path changed from ",(0,r.jsx)(n.code,{children:"io.cucumber.core.plugin.*"})," to ",(0,r.jsx)(n.code,{children:"net.serenitybdd.cucumber.core.plugin.*"})," in Serenity 5.0.0. Make sure to update your configuration files."]})}),"\n",(0,r.jsxs)(n.p,{children:["More informations about the meaning of the properties can be found in ",(0,r.jsx)(n.a,{href:"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine",children:"Cucumber JUnit Platform Engine Documentation"})]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["Configure the classpath location of the scenarios to be executed in a Java class placed in a package under ",(0,r.jsx)(n.code,{children:"test/java"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'   import org.junit.platform.suite.api.IncludeEngines;\n   import org.junit.platform.suite.api.SelectClasspathResource;\n   import org.junit.platform.suite.api.Suite;\n   \n   @Suite\n   @IncludeEngines("cucumber")\n   @SelectClasspathResource("/features")\n   public class CucumberTestSuite {}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>o});var t=i(6540);const r={},c=t.createContext(r);function s(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);